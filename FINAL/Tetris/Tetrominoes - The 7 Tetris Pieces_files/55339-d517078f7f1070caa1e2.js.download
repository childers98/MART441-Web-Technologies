"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55339],{55339:function(e,i,r){var n=r(20348),t=r(32868),s=r(93586),o=r(89703),d=r(68396),u=r(5947),l=r(19995),c=r(76300),a=r(16962),p=r(12006),f=r(51726),_=r(74455),b=r(54493),v=r(76002),y=r(37636);function g(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?g(Object(r),!0).forEach((function(i){(0,s.Z)(e,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))}))}return e}var h=function(e){var i=e.groupedSubscriptions,r=e.displayOrderWrtGroupKey,t=e.bordered,s=e.onUpgradeClick,o=e.isHolidayDiscountApplied,d=e.isUserSubscribed,u=e.preferredSubscriptionId,a=e.preferredSubscriptionPrice,p=e.preferredSubscriptionCreditApplied,f=e.B2CTrialCurrency,_=e.sendGAEventForBuyClick,b=e.activeSubscription,v=e.hasActiveFreeTrial,y=e.subscriptionPlan,g=e.setSubscriptionPlan,m=e.isLg,h=void 0===m||m,S=function(e,i){return!!i&&(e.feature_set_type===i.feature_set_type&&e.validity_months<i.validity_months||e.feature_set_type<i.feature_set_type)},x=function(e,i){return y.map((function(r){return r.featureSetType===e.feature_set_type?{planType:i,featureSetType:e.feature_set_type}:r}))};return(0,n.jsx)(n.Fragment,{children:r.map((function(e){var r=i[+e];if(!r)return"";if(1===r.length)return(0,n.jsx)(l.Z,{isUnlimited:!0,bordered:t,subscription:r[0],onUpgradeClick:s,isHolidayDiscountApplied:o,hasActiveFreeTrial:v,isUserSubscribed:d,preferredSubscriptionId:u,preferredSubscriptionPrice:a,preferredSubscriptionCreditApplied:p,B2CTrialCurrency:f,isLg:h,sendGAEventForBuyClick:_,isPlanRankedLess:S(r[0],b),renderedOutsideFlipAnimation:!0},r[0].id);var m=y.filter((function(e){return e.featureSetType===r[0].feature_set_type}))[0].planType,C=Math.max(Math.round((r[0].monthly_discounted_price-r[1].monthly_discounted_price)/r[0].monthly_discounted_price*100),0);return(0,n.jsx)("div",{className:"relative self-center lg:self-auto lg:mr-6",style:{maxWidth:"336px",minWidth:"290px"},children:(0,n.jsxs)("div",{style:m===c.AP?{transformStyle:"preserve-3d",transition:"transform 0.6s"}:{transformStyle:"preserve-3d",transition:"transform 0.6s",transform:"rotateY(180deg) rotateX(0deg)"},children:[(0,n.jsx)("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",position:"absolute",transform:"rotateX(0deg)"},children:(0,n.jsx)(l.Z,{isUnlimited:!0,bordered:t,subscription:r[0],onUpgradeClick:s,isHolidayDiscountApplied:o,hasActiveFreeTrial:v,isUserSubscribed:d,preferredSubscriptionId:u,preferredSubscriptionPrice:a,preferredSubscriptionCreditApplied:p,B2CTrialCurrency:f,isLg:h,sendGAEventForBuyClick:_,changePlan:g,changePlanTo:x(r[0],c.JW),discountPercentage:C,isPlanRankedLess:S(r[0],b)},r[0].id)}),(0,n.jsx)("div",{style:{transform:"rotateY(180deg) rotateX(0deg)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:(0,n.jsx)(l.Z,{isUnlimited:!0,bordered:t,subscription:r[1],onUpgradeClick:s,isHolidayDiscountApplied:o,hasActiveFreeTrial:v,isUserSubscribed:d,preferredSubscriptionId:u,preferredSubscriptionPrice:a,preferredSubscriptionCreditApplied:p,B2CTrialCurrency:f,isLg:h,sendGAEventForBuyClick:_,changePlan:g,changePlanTo:x(r[1],c.AP),discountPercentage:C,isPlanRankedLess:S(r[1],b)},r[1].id)})]})})}))})};i.Z=function(e){var i=e.isUnlimited,r=e.bordered,s=void 0!==r&&r,l={1:c.MA,3:c.P8,12:c.AP,24:c.JW},g=(0,f.TL)(),S=(0,f.ix)((function(e){var i,r,n,t,s,o,d,u,c,a,p,f,_,b,v,y,g,h,S,x,C,P=null!==e&&void 0!==e&&null!==(i=e.user)&&void 0!==i&&null!==(r=i.info)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.user_id?(null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.info)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.subscriptions)||[]:(null===e||void 0===e||null===(d=e.userConfig)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.subscriptions)||[];return{subscriptions:P=P.map((function(e){return m(m({},e),{},{subscription_type:l[e.validity_months]})})),isLoggedIn:!(null===e||void 0===e||null===(c=e.user)||void 0===c||null===(a=c.info)||void 0===a||null===(p=a.data)||void 0===p||!p.user_id),userInfoLoading:!(null===e||void 0===e||null===(f=e.user)||void 0===f||null===(_=f.info)||void 0===_||!_.loading),userInfoLoaded:!(null===e||void 0===e||null===(b=e.user)||void 0===b||null===(v=b.info)||void 0===v||!v.loaded),subscriptionsLoaded:null!==e&&void 0!==e&&null!==(y=e.user)&&void 0!==y&&null!==(g=y.info)&&void 0!==g&&null!==(h=g.data)&&void 0!==h&&h.user_id?!(null===e||void 0===e||null===(S=e.user)||void 0===S||null===(x=S.info)||void 0===x||!x.loaded):!(null===e||void 0===e||null===(C=e.userConfig)||void 0===C||!C.loaded)}})),x=S.subscriptions,C=S.isLoggedIn,P=S.userInfoLoading,A=S.userInfoLoaded,j=S.subscriptionsLoaded,T=(0,f.ix)((function(e){var i,r,n;return null===e||void 0===e||null===(i=e.user)||void 0===i||null===(r=i.info)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.is_user_subscribed})),k=(0,f.ix)((function(e){var i;return null===(i=e.user.info.data)||void 0===i?void 0:i.has_active_b2c_trial})),w=(0,f.ix)((function(e){var i;return null===(i=e.user.info.data)||void 0===i?void 0:i.preferred_subscription_id})),O=(0,f.ix)((function(e){var i;return null===e||void 0===e||null===(i=e.user.info.data)||void 0===i?void 0:i.preferred_subscription_price})),U=(0,f.ix)((function(e){var i;return null===e||void 0===e||null===(i=e.user.info.data)||void 0===i?void 0:i.preferred_subscription_credit_used})),I=(0,f.ix)((function(e){var i;return null===e||void 0===e||null===(i=e.user.info.data)||void 0===i?void 0:i.b2c_trial_currency_code})),L=function(e,i){var r=x.filter((function(i){return i.id===e.upgradable_from}))[0],n=e.upgrade_total_price,t=e.upgrade_monthly_price;g(a.n.show(p.iK,{subscription:!0,upgrade_subscription:!0,subscription_id:r.id,title:"Upgrade to ".concat(e.title),subscription_title:e.title,price:n,validity_months:i,subscription_expiration_date:r.expiration_date,discounted_for_region:e.discounted_for_region,price_calc_str:"(".concat((0,b.C)(t,e.currency_symbol,e.is_currency_symbol_prefix),"/month)"),special_discount:e.special_discount,currency_code:e.currency_code,currency_symbol:e.currency_symbol,is_currency_symbol_prefix:e.is_currency_symbol_prefix,local_sale:e.local_sale,currency_region:e.currency_region,subscription_original_price:e.discounted_price,upgrade_to_subscription_plan_id:e.id,feature_set_type:e.feature_set_type}))},B=function(e,i){(0,v.az)(e,i,g((0,y.eC)()),v.bY.SUBSCRIPTION_TILES)};(0,o.useEffect)((function(){C&&g(u.V.load())}),[g]),(0,o.useEffect)((function(){!C||P||A||g(u.V.load())}),[C,P,A,g]);var E=x.some((function(e){return e.special_discount})),D=x.filter((function(e){return e.subscription_plan_type===d._r.USER&&!e.upgrade_to_this_plan_disabled})).sort((function(e,i){return e.validity_months-i.validity_months})),F=D.filter((function(e){return e.is_user_subscribed&&(!e.start_date||new Date(e.start_date)<new Date)}))[0],N=D.reduce((function(e,i){var r,n=i.feature_set_type;return e[n]=null!==(r=e[n])&&void 0!==r?r:[],e[n].push(i),e}),{}),G=Object.values(v.cw).map((function(e){var i,r=null===(i=N[e])||void 0===i?void 0:i.filter((function(e){return e.is_user_subscribed}))[0];return{planType:r?l[r.validity_months]:c.AP,featureSetType:e}})),R=(0,o.useState)(G),W=R[0],M=R[1];return(0,o.useEffect)((function(){M(G)}),[A,j]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{id:"plans",className:"w-full",children:P||!j?(0,n.jsx)("div",{className:"w-full flex flex-col lg:flex-row justify-center items-center ".concat(i?"mt-4 lg:px-6 items-end":"mt-7 lg:mt-12 px-10 lg:items-end"),children:(0,t.Z)(Array(3)).map((function(e,i){return(0,_.subscriptionPlaceholderTile)(i)}))}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-full pl-6 justify-center lg:flex tailwind-hidden ".concat(i?"mt-4":"mt-7 lg:mt-12"),children:(0,n.jsx)(h,{groupedSubscriptions:N,displayOrderWrtGroupKey:[v.cw.STANDARD,v.cw.PREMIUM,v.cw.BASIC],bordered:s,onUpgradeClick:L,isHolidayDiscountApplied:E,isUserSubscribed:T,preferredSubscriptionId:w,preferredSubscriptionPrice:O,preferredSubscriptionCreditApplied:U,B2CTrialCurrency:I,sendGAEventForBuyClick:B,activeSubscription:F,hasActiveFreeTrial:k,subscriptionPlan:W,setSubscriptionPlan:M,isLg:!0})}),(0,n.jsx)("div",{className:"w-full justify-center flex flex-col lg:hidden ".concat(i?"mt-4":"mt-7 lg:mt-12"),children:(0,n.jsx)(h,{groupedSubscriptions:N,displayOrderWrtGroupKey:[v.cw.PREMIUM,v.cw.STANDARD,v.cw.BASIC],bordered:s,onUpgradeClick:L,isHolidayDiscountApplied:E,isUserSubscribed:T,preferredSubscriptionId:w,preferredSubscriptionPrice:O,preferredSubscriptionCreditApplied:U,B2CTrialCurrency:I,sendGAEventForBuyClick:B,activeSubscription:F,hasActiveFreeTrial:k,subscriptionPlan:W,setSubscriptionPlan:M,isLg:!1})})]})})})}}}]);
//# sourceMappingURL=55339-d517078f7f1070caa1e2.js.map