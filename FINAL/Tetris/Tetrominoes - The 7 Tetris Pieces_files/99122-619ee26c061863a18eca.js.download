"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99122],{56650:function(e,t,n){n.d(t,{AE:function(){return c},AD:function(){return s},kT:function(){return d},m3:function(){return u},Wj:function(){return p},HH:function(){return h}});var r=n(33022),o=n(1401),i=n(49227),a=(0,r.iv)([""," line-height:1.7;outline:none;a{text-decoration:none;","}ol ol{list-style-type:upper-roman;}ol ol ol{list-style-type:lower-roman;}h1,h2,h3,h4,h5,h6{font-family:",";font-weight:600;}p{display:block;margin-top:1em;margin-bottom:1em;}"],{"--tw-text-opacity":"1",color:"rgba(61, 61, 78, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},{"--tw-text-opacity":"1",color:"rgba(85, 83, 255, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(136, 135, 255, var(--tw-text-opacity))",":hover":{"--tw-text-opacity":"1",color:"rgba(204, 203, 255, var(--tw-text-opacity))"}},":hover":{"--tw-text-opacity":"1",color:"rgba(35, 32, 204, var(--tw-text-opacity))"}},o.LZ),l=(0,r.iv)(["table,td{"," font-weight:400;}table{border-collapse:collapse;margin:2em auto;table-layout:fixed;width:100%;}th,td{padding:15px;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;}th{"," font-weight:400;}"],{borderWidth:"1px",borderStyle:"solid","--tw-border-opacity":"1",borderColor:"rgba(210, 210, 214, var(--tw-border-opacity))",".dark &":{"--tw-border-opacity":"1",borderColor:"rgba(40, 40, 48, var(--tw-border-opacity))"}},{"--tw-bg-opacity":"1",backgroundColor:"rgba(241, 241, 255, var(--tw-bg-opacity))",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(40, 40, 48, var(--tw-bg-opacity))","--tw-border-opacity":"1",borderColor:"rgba(30, 30, 39, var(--tw-border-opacity))",":last-child":{"--tw-border-opacity":"1",borderColor:"rgba(40, 40, 48, var(--tw-border-opacity))"}},borderWidth:"0px",borderRightWidth:"1px",borderStyle:"solid","--tw-border-opacity":"1",borderColor:"rgba(210, 210, 214, var(--tw-border-opacity))"}),c=r.ZP.div.withConfig({displayName:"Markdown__Viewer",componentId:"sc-1j2yuel-0"})([""," "," font-family:",";font-size:18px;overflow-wrap:break-word;h1,h2,h3,h4,h5,h6{","}pre{"," code{","}}"," "," "," "," "," "," "," code{","}strong{font-family:",";}li{margin-bottom:5px;}blockquote{"," border-left:5px solid ",";margin:1.5em 0.5em;padding:1px 20px 16px;}hr{margin:10px 0;}"," ",""],a,(function(e){return!e.excludeTableStyles&&l}),o.G2,{"--tw-text-opacity":"1",color:"rgba(46, 46, 64, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(30, 30, 39, var(--tw-bg-opacity))","--tw-border-opacity":"1",borderColor:"rgba(58, 58, 66, var(--tw-border-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(30, 30, 39, var(--tw-bg-opacity))"}},(function(e){return e.isSlateHTML&&(0,r.iv)(["img{","}.figcaption{","}.caption{","}"],{".dark &":{opacity:"0.9","--tw-bg-opacity":"0.9",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}},{display:"flex",flexDirection:"column",alignItems:"center",whiteSpace:"pre-line"},{wordBreak:"break-all",fontFamily:'"Nunito Sans"',fontSize:"0.875rem",lineHeight:"1.25rem",textAlign:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(245, 245, 245, var(--tw-bg-opacity))",paddingTop:"0.375rem",paddingBottom:"0.375rem",paddingLeft:"1.25rem",paddingRight:"1.25rem",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(30, 30, 39, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",marginTop:"0.625rem",borderRadius:"0.375rem"})}),(function(e){var t=e.collectionType,n=e.isStatement;return t===i.dL.QUESTIONNAIRE&&n&&(0,r.iv)(["p{","}"],{marginBottom:"2rem",marginTop:"0px",padding:"0.5rem",fontWeight:"600",fontSize:"1.875rem",lineHeight:"2.25rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},fontFamily:'"Nunito Sans"'})}),(function(e){var t=e.collectionType,n=e.isStatement;return t===i.dL.QUESTIONNAIRE&&!n&&(0,r.iv)(["p{","}"],{fontFamily:'"Nunito Sans"',marginTop:"0.875rem",marginBottom:"0.5rem",padding:"0.5rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(229, 229, 229, var(--tw-text-opacity))"},fontWeight:"600",fontSize:"1.5rem",lineHeight:"1.5rem"})}),(function(e){return e.alignCenter&&(0,r.iv)(["display:flex;pre{","}"],{".dark &":{backgroundColor:"#1e1e1e","--tw-border-opacity":"1",borderColor:"rgba(58, 58, 66, var(--tw-border-opacity))"},width:"100%",marginBottom:"0px"})}),(function(e){return e.collectionType===i.dL.SKILL_ASSESSMENT&&(0,r.iv)(["p{","}pre{","}li{","}"],{fontFamily:'"Nunito Sans"',fontWeight:"400",fontStyle:"normal",fontSize:"1rem",lineHeight:"1.5rem",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},marginTop:"0.25rem",marginBottom:"0.25rem"},{marginTop:"0.25rem",marginBottom:"0.25rem"},{fontSize:"1rem",lineHeight:"1.5rem",fontFamily:'"Nunito Sans"'})}),(function(e){return e.isProjectPage&&(0,r.iv)(["",""],{fontFamily:'"Nunito Sans"',fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))"})}),(function(e){var t=e.collectionType,n=e.isStatement;return t===i.dL.SKILL_ASSESSMENT&&n&&(0,r.iv)(["pre{","}"],{marginTop:"1.25rem",marginBottom:"1.25rem"})}),{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 92, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},overflowWrap:"break-word"},o.G2,{"--tw-bg-opacity":"1",backgroundColor:"rgba(245, 245, 245, var(--tw-bg-opacity))",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(40, 40, 48, var(--tw-bg-opacity))"}},"#CCCBFF",(function(e){return e.renderedInTOC&&(0,r.iv)(["font-family:",";strong{font-family:",";}a{display:flex;}"],o.LZ,o.LZ)}),(function(e){return e.setHeight&&(0,r.iv)(["height:100%;"])})),s=(0,r.ZP)(c).attrs((function(){return{as:"span"}})).withConfig({displayName:"Markdown__ViewerSpan",componentId:"sc-1j2yuel-1"})(["display:block;",""],(function(e){return e.hide&&(0,r.iv)(["display:none;"])})),d=(0,r.ZP)(c).attrs((function(){return{as:"span"}})).withConfig({displayName:"Markdown__ViewerInlineSpan",componentId:"sc-1j2yuel-2"})([""]),u=r.ZP.div.withConfig({displayName:"Markdown__MediumViewer",componentId:"sc-1j2yuel-3"})([""," margin:5px;display:block;h1,h2,h3,h4,h5,h6{","}",""],a,{"--tw-text-opacity":"1",color:"rgba(46, 46, 64, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},(function(e){return e.hide&&(0,r.iv)(["display:none;"])})),p=r.ZP.span.withConfig({displayName:"Markdown__QuizViewer",componentId:"sc-1j2yuel-4"})([""," "," margin-top:10px;overflow-wrap:break-word;word-wrap:break-word;max-width:60vw;font-family:",";strong{font-family:",";}code{","}",""],a,l,o.G2,o.G2,{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 92, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},(function(e){return e.structuredQuizTitle&&(0,r.iv)(["",""],{"--tw-text-opacity":"1",color:"rgba(143, 143, 153, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(160, 160, 168, var(--tw-text-opacity))"}})})),h=r.ZP.div.withConfig({displayName:"Markdown__MarkdownContainerDiv",componentId:"sc-1j2yuel-5"})(["white-space:normal;:after{clear:both;display:table;content:'';}"," width:100%;"],(function(e){var t=e.height;return t&&(0,r.iv)(["height:",";"],t)}))},87455:function(e,t,n){n.r(t);var r=n(20348),o=n(93586),i=n(30645),a=n(89703),l=n(84283),c=n(33265),s=n(69618),d=n(18182),u=n(64056),p=n(61666),h=n(933),f=n(48934),g=n(39241),m=n(60136),v=n(78050),b=n(49227);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.params,n=a.useRef(null),o=a.useState({apiCallLoading:!1,inputError:!1,submitted:!1,closeContent:!1}),y=(0,i.Z)(o,2),w=y[0],C=y[1],k=function(){var e,n,r;null===(e=t.setShowAskForHelpRaise)||void 0===e||e.call(t,!1),null===(n=t.setShowAllAskForHelps)||void 0===n||n.call(t,!1),null===(r=t.setUpdateBlocker)||void 0===r||r.call(t,!1),C((function(e){return x(x({},e),{},{closeContent:!0})}))};return w.closeContent?null:(0,r.jsxs)("div",{className:"flex flex-col w-full max-h-96",children:[t.showArrows&&(0,r.jsxs)("div",{className:"flex flex-row justify-end mr-12",children:[(0,r.jsx)("button",{className:"text-default -mb-16 z-10 p-0",onClick:function(){null!==n&&void 0!==n&&n.current&&(n.current.value=""),t.setAskForHelpIndex(-1)},children:(0,r.jsx)(h.Z,{className:"h-5 text-black dark:text-dark-contrastText"})}),(0,r.jsx)("button",{className:"text-default -mb-16 z-10 p-0 ml-3",onClick:function(){null!==n&&void 0!==n&&n.current&&(n.current.value=""),t.setAskForHelpIndex(1)},children:(0,r.jsx)(f.Z,{className:"h-5 text-black dark:text-dark-contrastText"})})]}),t.title&&(0,r.jsxs)("div",{className:"flex items-center".concat(t.resolved_at?"":" border-solid border-0 border-b border-gray-500"),children:[(0,r.jsx)("h5",{className:"w-9/12 sm:w-full my-4 ml-8 text-left text-gray-A200 dark:text-dark-contrastText",children:t.title}),t.showArrows&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-xs w-28 pl-2 text-left m-0 mr-16 text-gray-A200 dark:text-gray-600",children:t.currentBlocker+1+" of "+t.totalBlockers}),(0,r.jsx)("button",{className:"icon-default",onClick:function(){return k()},children:(0,r.jsx)(d.Z,{className:"dark:fill-current w-5"})})]})]}),(0,r.jsxs)("div",{className:"overflow-scroll",children:[t.resolved_at&&(0,r.jsxs)("div",{className:"flex flex-col bg-accent3-lightP2 dark:bg-dark-60",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between pt-3 items-center",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center ml-3",children:[(0,r.jsx)(u.Z,{size:32,image:t.resolver_profile}),(0,r.jsx)("p",{className:"font-bold text-base pl-3 text-left m-0 break-words",children:t.resolver_name}),(0,r.jsx)("p",{className:"text-xs px-2 text-left m-0 text-gray-A200 dark:text-gray-600 break-words",children:"".concat((0,p.o_)(t.resolved_at))})]}),(0,r.jsx)(s.Z,{className:"mr-3 px-2 rounded-full",bgFontClass:"text-white dark:text-success-darkN1 bg-success-darkN1 dark:bg-success-lightP1",children:"Solution"})]}),(0,r.jsx)("p",{className:"font-normal px-6 py-2 text-left break-words",children:t.resolve_message})]}),t.showArrows&&(0,r.jsxs)("div",{className:"flex flex-col justify-between pt-3",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center ml-3",children:[(0,r.jsx)(u.Z,{size:32,image:t.user_profile}),(0,r.jsx)("p",{className:"font-bold text-base pl-3 text-left m-0 break-words",children:t.user_name}),(0,r.jsx)("p",{className:"text-xs px-2 text-left m-0 text-gray-A200 dark:text-gray-600 break-words",children:"".concat((0,p.o_)(t.created))})]}),!t.resolved_at&&t.canUpdateBlockers&&!t.updateBlocker&&(0,r.jsx)("button",{className:"inline px-6 items-center bg-white dark:bg-dark-90",onClick:function(){var e;null===(e=t.setUpdateBlocker)||void 0===e||e.call(t,!0),n.current.value=t.ask_message,n.current.focus()},children:(0,r.jsx)(v.Z,{overlay:(0,r.jsx)("p",{className:"m-0",children:"Edit"}),position:b.YS,children:(0,r.jsx)(g.Z,{style:{fill:"#7F7F8B"}})})})]}),(0,r.jsx)("p",{className:"font-normal px-6 py-2 text-left break-words",children:t.ask_message})]})]}),t.allowInput&&(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(c.Z,{rows:2,multiline:!0,placeholder:t.placeholder,ref:n,maxLength:t.characterLimit,name:"message",onChange:function(e){var t=e.target.value;return w.inputError&&t&&C((function(e){return x(x({},e),{},{inputError:!1})}))},error:w.inputError,errorText:"",borderStyling:"border-none",blockerFormat:!0,customPadding:"py-6 px-3 pb-0 ",noButtons:t.noButtons})}),!t.noButtons&&(0,r.jsxs)("div",{className:"px-4 mb-4 flex justify-end -mt-8",children:[(0,r.jsx)("button",{className:"outlined-default mx-6",name:"cancel-button",onClick:function(){return k()},children:"Cancel"}),(0,r.jsx)("button",{className:"contained-primary",name:"submit-button",onClick:function(){return function(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=null===(e=n.current.value)||void 0===e?void 0:e.trim();!t.feedbackRequired||o?(!r&&C((function(e){return x(x({},e),{},{apiCallLoading:!0})})),(0,l.Z)({url:t.url,type:t.type,data:x(x({},t.data),r?{}:{sender_message:o})}).then((function(e){var o,i;!r&&C((function(e){return x(x({},e),{},{apiCallLoading:!1,submitted:!0})})),n.current.value="",null===(o=(i=t.callBacks).successCallBack)||void 0===o||o.call(i,e)})).catch((function(e){!r&&C((function(e){return x(x({},e),{},{apiCallLoading:!1,submitted:!1})})),(0,m.u)(e),t.callBacks.failureCallBack()})).finally((function(){var e,n;null===(e=(n=t.callBacks).finallyCallBack)||void 0===e||e.call(n)}))):C((function(e){return x(x({},e),{},{inputError:!0})}))}()},disabled:w.apiCallLoading,children:w.apiCallLoading?t.buttonLoadingText:t.updateBlocker?"Update":t.buttonText})]})]})}},3678:function(e,t,n){n.r(t),n.d(t,{vsDark:function(){return o},vsLight:function(){return i},educative:function(){return a}});var r="vs-dark",o={name:"vsDark",config:{base:r,inherit:!0,rules:[]},background:"#1e1e1e",colorizeTheme:r},i={name:"vsLight",config:{base:"vs",inherit:!0,rules:[]},background:"#fff",colorizeTheme:"vs"},a={name:"educative",config:{base:r,inherit:!0,rules:[{token:"comment",foreground:"ffa500",fontStyle:"italic bold"},{token:"comment.js",foreground:"008800",fontStyle:"bold"},{token:"comment.css",foreground:"0000ff"},{token:"custom-info",foreground:"808080"},{token:"custom-error",foreground:"ff0000",fontStyle:"bold"},{token:"custom-notice",foreground:"FFA500"},{token:"custom-date",foreground:"008800"}]}}},99122:function(e,t,n){n.d(t,{ZP:function(){return at}});var r=n(20348),o=n(88753),i=n.n(o),a=n(52198),l=n(32868),c=n(30645),s=n(79003),d=n(70989),u=n(58055),p=n(31428),h=n(27018),f=n(29799),g=n(93586),m=n(89703),v=n(55587),b=n.n(v),y=n(36927),x=n.n(y),w=n(83200),C=n(37636),k=n(13243),N=n(60136),S=n(46362),O=n(20767),j=n(3678),Z=n(40754),D=n(20528),I=n(23934),_=n(23793),P=n(42562),E=n(33701),T=n(98735),A=n(97810),H=n(63048),L=n(82336),M=n.n(L),R=n(48148),B=n(49227);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var q,U,W=256,G=function(e){(0,p.Z)(n,e);var t=z(n);function n(e){var o;(0,s.Z)(this,n),o=t.call(this,e),(0,g.Z)((0,u.Z)(o),"noteInput",m.createRef()),(0,g.Z)((0,u.Z)(o),"container",m.createRef()),(0,g.Z)((0,u.Z)(o),"reposition",(function(){if(o.props.childRef.current){var e=o.props.childRef.current.getBoundingClientRect(),t=e.width,n=e.top,r=e.height,i=o.props.menuData.coords.bottom,a=!1;(n-64<0||o.props.menuData.touch)&&(i=i-r-30,a=!0),o.setState({left:o.props.menuData.coords.left&&Math.max(0,o.props.menuData.coords.left-t/2),right:o.props.menuData.coords.right&&Math.max(0,o.props.menuData.coords.right-t/2),bottom:i,revButtons:a})}})),(0,g.Z)((0,u.Z)(o),"handleClose",(function(){o.props.removeSelection?o.props.onHighlightRemove(o.props.menuData.selection):o.props.closeMenu()})),(0,g.Z)((0,u.Z)(o),"handleHighlightCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.props.onHighlightCreate(o.props.menuData.range,e)})),(0,g.Z)((0,u.Z)(o),"handleHighlightEdit",(function(e){o.props.onHighlightEdit(o.props.menuData.range,e)})),(0,g.Z)((0,u.Z)(o),"onNoteChange",(function(e){var t=e.target.value,n=t.substr(0,W);o.getSymbolsLen(t)>=W&&(n=n.substr(0,W-2*(n.split(/\r*\n/).length-1)));var r=o.getSymbolsLen(t);(r<=o.getSymbolsLen(o.state.noteValue)||r<=W)&&o.setState({noteValue:n})})),(0,g.Z)((0,u.Z)(o),"handleComment",(function(){var e,t=null===(e=o.state.noteValue)||void 0===e?void 0:e.trim();"edit"===o.state.showNote?o.handleHighlightEdit(t):"note"===o.state.showNote&&o.handleHighlightCreate(t)})),(0,g.Z)((0,u.Z)(o),"handleNoteFormOpen",(function(e){o.setState({showNote:e},(function(){var e;null===(e=o.noteInput.current)||void 0===e||e.focus()}))})),(0,g.Z)((0,u.Z)(o),"handleRemove",(function(){return o.props.onHighlightRemove(o.props.menuData.range)})),(0,g.Z)((0,u.Z)(o),"handleAskForHelpOpen",(function(){var e,t=o.props.menuData.range.dataset?null===(e=o.props.selections[o.props.spanToMdChild[o.props.menuData.range.dataset.id]])||void 0===e?void 0:e.filter((function(e){return e.id===o.props.menuData.range.dataset.id}))[0].askForHelpId:null;return o.props.handleAskForHelp(o.props.menuData.range,t)})),(0,g.Z)((0,u.Z)(o),"handleBtnClick",(function(e){switch(e){case"highlight":o.handleHighlightCreate();break;case"note":case"edit":o.handleNoteFormOpen(e);break;case"remove":o.handleRemove();break;case"askForHelp":o.setState({showNote:!0});break;default:return null}return null})),(0,g.Z)((0,u.Z)(o),"handleKeyPress",(function(e){e.keyCode!==M().codes.enter||e.shiftKey?e.keyCode===M().codes.esc&&o.handleClose():(e.preventDefault(),o.handleComment())})),(0,g.Z)((0,u.Z)(o),"getSymbolsLen",(function(e){var t=2*(e.split(/\r*\n/).length-1);return e.length+t})),(0,g.Z)((0,u.Z)(o),"noteSymbolsLeft",(function(){return W-o.getSymbolsLen(o.state.noteValue)}));var i=e.menuData.range.dataset?e.selections[e.spanToMdChild[e.menuData.range.dataset.id]].filter((function(t){return t.id===e.menuData.range.dataset.id}))[0].comment:null;return o.state={showNote:!1,noteValue:i||"",left:e.menuData.coords.left,right:e.menuData.coords.right,bottom:e.menuData.coords.bottom,edit:e.menuData.edit},o.createButtons=[e.isPlan&&e.isMentee&&{title:"I am Stuck",text:"Ask For Help",payload:"askForHelp",icon:(0,r.jsx)(E.Z,{className:"w-5 h-5 fill-current"}),id:B.Fz?"selenium-note":null},!e.isPlan&&{title:"Highlight",payload:"highlight",icon:(0,r.jsx)(I.Z,{className:"w-5 h-5"}),id:B.Fz?"selenium-highlight":null},!e.isPlan&&{title:"Add a note",payload:"note",icon:(0,r.jsx)(_.Z,{className:"w-5 h-5"}),id:B.Fz?"selenium-note":null}].filter(Boolean),o.editButtons=[e.isPlan&&{title:"View Blocker",payload:"askForHelp",text:"Ask For Help",icon:(0,r.jsx)(E.Z,{className:"w-5 h-5 fill-current"}),danger:!0,id:B.Fz?"selenium-remove":null},!e.isPlan&&{title:function(e){return e?"Edit note":"Add note"},payload:"edit",icon:(0,r.jsx)(D.Z,{className:"w-5 h-5"}),id:B.Fz?"selenium-note-edit":null},!e.isPlan&&{title:function(e){return e?"Remove note":"Remove highlight"},payload:"remove",icon:(0,r.jsx)(P.Z,{className:"w-5 h-5"}),danger:!0,id:B.Fz?"selenium-remove":null}].filter(Boolean),e.menuData.edit&&o.createButtons.pop(),o}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){this.reposition()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.showNote!==this.state.showNote&&this.state.showNote){if(!this.container.current)return;var r=this.container.current.getBoundingClientRect(),o=r.height,i=r.width;this.setState({bottom:this.props.menuData.coords.bottom-(o-65),left:this.props.menuData.coords.left&&Math.max(0,this.props.menuData.coords.left-50),right:this.props.menuData.coords.right&&Math.max(0,this.props.menuData.coords.right-(i-50))})}if(!H.equals(e.menuData,this.props.menuData)){var a=this.props.menuData.range.dataset?this.props.selections[this.props.spanToMdChild[this.props.menuData.range.dataset.id]].filter((function(e){return e.id===n.props.menuData.range.dataset.id}))[0].comment:null;this.setState({showNote:!1,noteValue:a||"",edit:this.props.menuData.edit,bottom:this.props.menuData.coords.bottom},(function(){return n.reposition()}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.showNote,o=t.noteValue,i=t.left,a=t.right,l=t.bottom,c=t.edit,s=t.revButtons,d=this.props.menuData.isInsideConcept,u=c?this.editButtons:this.createButtons,p=[o&&(0,r.jsx)(R.rM,{children:(0,r.jsx)("p",{className:"font-normal",children:o})},"0"),(0,r.jsx)(R.w6,{children:u.map((function(t,n){var i="string"===typeof t.title?t.title:t.title(o);return(0,r.jsx)(T.Z,{trigger:["hover"],placement:"top",overlay:(0,r.jsx)(A.Z,{id:i,children:i}),children:e.props.isPlan?(0,r.jsxs)(R.yM,{onClick:function(n){return e.handleBtnClick(t.payload,n)},id:t.id,children:[t.icon,(0,r.jsx)("p",{className:"m-0 ml-1",children:t.text})]}):(0,r.jsx)(R.Wq,{onClick:function(n){return e.handleBtnClick(t.payload,n)},id:t.id,danger:t.danger,children:t.icon})},n.toString())}))},"1")];return(0,r.jsx)(R.ZP,{ref:function(t){e.container.current=t,"function"===typeof e.props.childRef?e.props.childRef(t):e.props.childRef&&(e.props.childRef.current=t)},style:{left:i,right:a,bottom:l},children:d?(0,r.jsx)(R.v2,{children:(0,r.jsx)("p",{className:"text-base p-2",children:"Cannot create highlight/note inside a concept"})}):(0,r.jsx)(r.Fragment,{children:n?this.props.isPlan?(0,r.jsx)(R.pW,{children:this.handleAskForHelpOpen()}):(0,r.jsxs)(R.W7,{children:[(0,r.jsx)("div",{className:"text-gray-600 absolute bottom-10 right-5 w-auto",style:{zIndex:3},children:(0,r.jsx)("p",{className:"font-normal",children:this.noteSymbolsLeft()})}),(0,r.jsx)("span",{className:"font-normal",children:(0,r.jsx)(R.FU,{ref:this.noteInput,placeholder:"Add a note here...",onChange:this.onNoteChange,onKeyDown:this.handleKeyPress,value:o})}),(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("button",{className:"outlined-default py-2 m-2",onClick:this.handleClose,children:"CANCEL"}),(0,r.jsx)("button",{className:"contained-primary py-2 m-2",onClick:this.handleComment,children:"DONE"})]})]}):(0,r.jsx)(R.v2,{children:s?[].concat(p).reverse():p})})})}}]),n}(m.Component),K=m.forwardRef((function(e,t){return(0,r.jsx)(G,V(V({},e),{},{childRef:t}))})),Y=n(5825),Q=n(56650),X=n(7760),J=n(78854),$=n(92133),ee=function(){return $.Z},te=n(78050),ne=function(e){var t=e.word,n=e.meaning;return(0,r.jsx)(te.Z,{backgroundColor:"bg-white border-white dark:bg-gray-400 dark:border-gray-400",element:"span",overlay:n,overlayParentClasses:"max-w-xs",overlayParentTextColorClasses:"text-black dark:text-dark-80",overlayParentTextClasses:"break-words font-serif leading-5 text-sm",overlayParentStyles:{minWidth:n.length>300&&"300px",zIndex:1e4},parentClasses:"border-0 border-b-2 border-solid border-black cursor-pointer dark:border-dark-contrastText",position:B.YS,rootClose:!0,trigger:B.t4,children:t})},re=n(33022),oe=n(54046);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ae=function(e){return m.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-corner-right-down"},e),q||(q=m.createElement("polyline",{points:"10 15 15 20 20 15"})),U||(U=m.createElement("path",{d:"M4 4h7a4 4 0 0 1 4 4v12"})))},le=re.ZP.span.withConfig({displayName:"styles__Wrapper",componentId:"zccaat-0"})([""]),ce=re.ZP.span.withConfig({displayName:"styles__Text",componentId:"zccaat-1"})(["",";"],(function(e){var t=e.disabled;return e.displayAsText?(0,re.iv)([""]):t?(0,re.iv)(["padding:1px;",""],{borderWidth:"1px",borderStyle:"solid","--tw-border-opacity":"1",borderColor:"rgba(212, 33, 84, var(--tw-border-opacity))",".dark &":{"--tw-border-opacity":"1",borderColor:"rgba(229, 122, 152, var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgba(46, 46, 64, var(--tw-bg-opacity))"},"--tw-bg-opacity":"1",backgroundColor:"rgba(254, 234, 234, var(--tw-bg-opacity))"}):(0,re.iv)(["font-weight:bold;cursor:pointer;"])})),se=(0,re.ZP)(ae).attrs({width:13,height:13,strokeWidth:3}).withConfig({displayName:"styles__ExpandIcon",componentId:"zccaat-2"})(["display:inline-block;vertical-align:middle;transition:0.2s;",""],(function(e){return e.expanded&&(0,re.iv)(["transform:rotate(-270deg) scaleX(-1);"])})),de=re.ZP.div.withConfig({displayName:"styles__ConceptComponentsContainer",componentId:"zccaat-3"})(["margin:5px 0 5px 0;padding:5px;box-shadow:0 0 15px ",";border:1px solid ",";border-radius:",";"],"#D2D2D6","#D2D2D6",oe.nX),ue=re.ZP.span.withConfig({displayName:"styles__Error",componentId:"zccaat-4"})(["font-style:italic;color:",";"],"#D2D2D6"),pe=n(89e3),he=n(86913),fe=n(80464);function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var me,ve=function(e){(0,p.Z)(n,e);var t=ge(n);function n(){var e;(0,s.Z)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,g.Z)((0,u.Z)(e),"state",{expanded:!1}),(0,g.Z)((0,u.Z)(e),"toggleExpansion",(function(){var t=e.state.expanded;e.setState({expanded:!t})})),(0,g.Z)((0,u.Z)(e),"shouldDisableConcept",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),i=o.loaded,a=o.concepts;return!i||!a[t]||r.includes(a[t].id)})),(0,g.Z)((0,u.Z)(e),"shouldDisplayConceptAsText",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),i=o.loaded,a=o.concepts;return!i||a[t]&&r.includes(a[t].id)})),(0,g.Z)((0,u.Z)(e),"getConceptComponentsByName",(function(t){var n=e.props,o=n.getConceptByName,i=n.authorId,a=n.collectionId,c=n.conceptIdBacktrace,s=n.isDraft,d=o(t),u=d.loaded,p=d.concept,h=d.error;return h?(0,r.jsxs)(ue,{children:["(",h,")"]}):u?p?p.comps.map((function(e){return(0,r.jsx)(pe.Z,{mode:"view",comp:e,allowComments:!1,authorId:i,collectionId:a,conceptId:p.id,conceptIdBacktrace:[].concat((0,l.Z)(c),[p.id]),isDraft:s})})):null:(0,r.jsx)(he.Z,{})})),(0,g.Z)((0,u.Z)(e),"getConceptId",(function(t){var n,r;return(null===(n=e.props.getConceptByName(t))||void 0===n||null===(r=n.concept)||void 0===r?void 0:r.id)||""})),e}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.word,n=e.name,o=this.state.expanded,i=this.shouldDisableConcept(n),a=this.shouldDisplayConceptAsText(n),l=this.getConceptId(n);return(0,r.jsxs)(le,{children:[(0,r.jsxs)(ce,{onClick:i?function(){}:this.toggleExpansion,disabled:i,displayAsText:a,id:B.Fz&&l?"text-for-".concat(l):null,children:[t,!i&&(0,r.jsx)(se,{expanded:o?1:0})]}),o&&(0,r.jsx)(de,{className:"conceptBody",children:this.getConceptComponentsByName(n)})]})}}]),n}(m.Component),be=(0,fe.Z)(ve),ye=n(18182);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var we=function(e){return m.createElement("svg",xe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),me||(me=m.createElement("path",{d:"M8.79502 15.8749L4.62502 11.7049L3.20502 13.1149L8.79502 18.7049L20.795 6.70492L19.385 5.29492L8.79502 15.8749Z",fill:"current"})))},Ce="icon-default py-2 m-1",ke="text-black dark:text-dark-contrastText fill-current",Ne=function(e){var t=e.placement,n=e.disabled,o=e.popoverTitle,i=e.children,a=e.hideOnConfirm,l=e.hideOnCancel,c=e.handleAccept,s=e.handleReject,d=e.deleted,u=m.createRef(),p=function(){var e;null===(e=u.current)||void 0===e||e.handleHide()},h=(0,r.jsxs)("div",{className:"shadow-xl max-w-2xl rounded bg-white dark:bg-dark-90 absolute mt-1 py-2.5 px-3.5",children:[(0,r.jsx)("span",{className:"text-black dark:text-primary-contrastText font-bold",children:d?"Delete: ":"Insert: "}),(0,r.jsx)("span",{className:"font-normal text-gray-800 dark:text-dark-contrastText",children:'"'.concat(o,'"')}),(0,r.jsxs)("div",{className:"flex justify-end ml-10",children:[(0,r.jsx)(T.Z,{placement:"bottom",overlay:(0,r.jsx)(A.Z,{id:"accept-suggestion",children:"Accept suggestion"}),rootClose:!0,children:(0,r.jsx)("button",{className:Ce,onClick:function(){c(),a&&p()},"aria-label":"accept-button",children:(0,r.jsx)(we,{className:ke})},"acceptButton")}),(0,r.jsx)(T.Z,{placement:"bottom",overlay:(0,r.jsx)(A.Z,{id:"reject-suggestion",children:"Reject suggestion"}),rootClose:!0,children:(0,r.jsx)("button",{className:Ce,onClick:function(e){s(e),l&&p()}||p,"aria-label":"reject-button",children:(0,r.jsx)(ye.Z,{className:ke})},"rejectButton")})]})]});return(0,r.jsx)(T.Z,{trigger:"click",placement:t,rootClose:!0,overlay:n?(0,r.jsx)("div",{}):h,ref:u,children:i})},Se=n(97242),Oe=n(7206),je=n(68671),Ze="INS",De="DEL",Ie=function(e){var t=e.text,n=e.type,o=e.enableDiffElements,l=void 0!==o&&o,c=e.updateContentState,s=void 0===c?function(){}:c,d=e.diffText,u=e.inTextDiff,p=e.dispatch,h=e.elemId,f=e.hash,g=void 0===f?0:f,m=e.isSlateHTML,v=void 0!==m&&m,b=function(e){return Array.from(e.querySelectorAll("del, ins")).forEach((function(e){e.nodeName===De?x(e):w(e)})),(0,Se.SN)(e.innerHTML)},y=function(e){return Array.from(e.querySelectorAll("del, ins")).forEach((function(e){e.nodeName===De?w(e):x(e)})),(0,Se.SN)(e.innerHTML)},x=function(e){e&&e.parentNode.replaceChild(e.childNodes[0],e)},w=function(e){e&&e.parentNode.removeChild(e)},C=function(e){var t=e[h];if(t.nodeName===Ze){if(h<=0)return;var n=e[h-1];if(n.nodeName===De&&t.previousSibling===n)return n}if(t.nodeName===De){if(h>=e.length-1)return;var r=e[h+1];if(r.nodeName===Ze&&t.nextSibling===r)return r}},k=function(){var e=(0,a.Z)(i().mark((function e(){var t,n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.createElement("div")).innerHTML=d,n=Array.from(t.querySelectorAll("del, ins")),r=C(n),(o=n[h]).nodeName===Ze?(w(r),x(o)):(x(r),w(o)),a=b(t),!u){e.next=10;break}return s({text:a,onlyAuthor:!0}),e.abrupt("return");case 10:if(!v){e.next=15;break}return e.next=13,s({html:a.replace(/<br>/g,"<br/>")});case 13:e.next=17;break;case 15:return e.next=17,s({text:a,mdHtml:(0,Se.c8)(a)});case 17:p(je.F.incorporateWidget(g,!0));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)(i().mark((function e(){var t,n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.createElement("div")).innerHTML=d,n=Array.from(t.querySelectorAll("del, ins")),r=n[h],o=C(n),r.nodeName===De?(w(o),x(r)):(x(o),w(r)),a=y(t),!u){e.next=10;break}return s({text:a,onlyAuthor:!1}),e.abrupt("return");case 10:return e.next=12,p((0,Oe.loadWidget)(g,!0));case 12:if(!v){e.next=17;break}return e.next=15,s({html:a.replace(/<br>/g,"<br/>")});case 15:e.next=19;break;case 17:return e.next=19,s({text:a,mdHtml:(0,Se.c8)(a)});case 19:return e.next=21,p(je.F.incorporateWidget(g,!1));case 21:return e.next=23,p((0,Oe.loadWidget)(g));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!t||0===t.trim().length)return(0,r.jsx)(r.Fragment,{children:" "});var S=n===De;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Ne,{popoverTitle:t,deleted:S,handleAccept:function(){return k().catch((function(e){return console.error("Error:",e)}))},hideOnConfirm:!0,hideOnCancel:!0,handleReject:function(){return N().catch((function(e){return console.error("Error:",e)}))},placement:"bottom",disabled:!l,children:S?(0,r.jsx)("del",{"data-testid":"diff-delete","data-id":h,className:"cursor-pointer whitespace-preline line-through text-error dark:text-error-light",children:t}):(0,r.jsx)("ins",{"data-testid":"diff-insert","data-id":h,className:"cursor-pointer whitespace-preline no-underline text-primary-success dark:text-primary-success",children:t})})})};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee={KEYWORD:{Component:ne,requireStore:!1,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,meaning:n.textContent}}},CONCEPT:{Component:be,requireStore:!0,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,name:n.textContent}}},DEL:{Component:Ie,requireStore:!1,requireTheme:!1,inheritProps:!0,extractProps:function(e){return{text:e.textContent,type:"DEL"}}},INS:{Component:Ie,requireStore:!1,requireTheme:!1,inheritProps:!0,extractProps:function(e){return{text:e.textContent,type:"INS"}}}},Te=function(e){return function(t){var n=function(e,t){var n=e.tagName,o=Ee[n],i=o.Component,a=o.requireStore,l=o.inheritProps,c=o.extractProps,s=Pe(Pe({},l&&t),c(e)),d=ee();return[a?function(e){return(0,r.jsx)(J.zt,{store:d,children:e})}:function(e){return e}].reduce((function(e){return function(t){return e(t)}}))((0,r.jsx)(i,Pe({},s)))}(t,e),o=function(e){var t=document.createElement("span");return e.parentNode&&e.parentNode.replaceChild(t,e),t}(t);X.render(n,o)}},Ae=n(57294),He=["courses","modules",B.dL.COLLECTION,B.dL.MODULE,B.dL.PATH,B.dL.PLAN],Le=function(e){if(null===e||void 0===e||!e.asPath)return!1;var t=(0,Ae.Cm)(e.asPath).split("/");if(t.length){if("page"===t[1]&&"draft"!==t[t.length-1])return!0;if(He.includes(t[1])&&"draft"!==t[t.length-1]&&"versions"!==t[t.length-1])return!0}return!1},Me=n(72930),Re=function(e){for(var t=function(e){var t,n,r;return!(null===(t=e.dataset)||void 0===t||!t.id)||"div"===e.nodeName.toLowerCase()&&(null===(n=e.classList)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,"conceptBody"))};!t(e);)e=e.parentNode;return e},Be=function e(t,n){for(var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];;)return n?n.nodeType===Node.TEXT_NODE?n.textContent.trim()&&"\n"!==n.textContent.trim()?n:e(n,r?n.nextSibling:n.previousSibling,r):e(n,r?n.firstChild:n.lastChild,r):(r?t.nextSibling:t.previousSibling)?e(t,r?t.nextSibling:t.previousSibling,r):e(t=t.parentNode,r?t.nextSibling:t.previousSibling,r)},Fe=n(786),Ve=n.n(Fe),ze=n(8024),qe=n(16962),Ue=n(12006),We=n(56445),Ge=n(87455);function Ke(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var $e="markdown_viewer_highlighted_content",et="markdown_viewer_highlighted_content_with_comment",tt="markdown_viewer_highlighted_content_with_ask_for_help_unresolved",nt="markdown_viewer_highlighted_content_with_ask_for_help_resolved",rt=(0,J.$j)((function(e){return{readerPreferences:e.user.readerPreferences}})),ot=function(e){for(;e&&(null===(t=e.dataset)||void 0===t||!t.id);){var t;e=e.parentNode}return e?e.dataset.id:""},it=function(e){(0,p.Z)(o,e);var t=Je(o);function o(){var e;(0,s.Z)(this,o);for(var i=arguments.length,a=new Array(i),d=0;d<i;d++)a[d]=arguments[d];return e=t.call.apply(t,[this].concat(a)),(0,g.Z)((0,u.Z)(e),"state",{selections:{},spanIdToMdChildIdMap:{},contextMenuData:null,removeSelection:null}),(0,g.Z)((0,u.Z)(e),"touchEnabled",!1),(0,g.Z)((0,u.Z)(e),"enableHighlights",e.props.saveHighlights&&Le(e.props.router)),(0,g.Z)((0,u.Z)(e),"setSelectionsFromSnapshot",(function(t){var n,r,o;if(t.contentSnapshot){var i=null!==(n=Xe({},null===(r=t.contentSnapshot)||void 0===r?void 0:r.selections))&&void 0!==n?n:{};0===Object.keys(null!==(o=e.state.selections)&&void 0!==o?o:{}).length&&e.setState({selections:i},e.highlightAll)}})),(0,g.Z)((0,u.Z)(e),"enableTouch",(function(){e.touchEnabled||(document.addEventListener("selectionchange",e.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",e.enableTouch),document.addEventListener("touchstart",e.handleOutsideClick),e.touchEnabled=!0)})),(0,g.Z)((0,u.Z)(e),"highlightContextMenu",m.createRef()),(0,g.Z)((0,u.Z)(e),"markdownViewer",m.createRef()),(0,g.Z)((0,u.Z)(e),"parentDiv",m.createRef()),(0,g.Z)((0,u.Z)(e),"handleOutsideClick",(function(t){if(e.touchEnabled)e.highlightContextMenu.current&&!e.highlightContextMenu.current.contains(t.target)&&e.cancelSelection();else{var n=e.parentDiv.current;n&&!n.contains(t.target)&&e.cancelSelection()}})),(0,g.Z)((0,u.Z)(e),"isAnchorHeadingLink",(function(e){var t=function(e){return e.origin+e.pathname};return t(e)===t(window.location)})),(0,g.Z)((0,u.Z)(e),"loadMonacoEditor",(function(){return(0,Me.default)((function(){return Promise.all([n.e(49770),n.e(46887),n.e(46606),n.e(19216),n.e(19750),n.e(15909),n.e(63e3),n.e(62617)]).then(n.bind(n,63e3))}),{ssr:!1,loadableGenerated:{webpack:function(){return[63e3]},modules:["../components/helpers/markdownViewer/index.tsx -> components/helpers/MonacoEditor"]}}).render.preload()})),(0,g.Z)((0,u.Z)(e),"shouldOpenInNewTab",(function(t){return!e.isAnchorHeadingLink(t)})),(0,g.Z)((0,u.Z)(e),"makeLinksToOpenInNewTab",(function(){var t=e.markdownViewer.current.querySelectorAll("a");Array.from(t).filter(e.shouldOpenInNewTab).forEach((function(e){return e.setAttribute("target","_blank")}))})),(0,g.Z)((0,u.Z)(e),"removeNewLines",(function(e){if(e.length){var t=e.charAt(e.length-1);"\n"!==t&&"\r"!==t||(e=e.slice(0,-1))}return e})),(0,g.Z)((0,u.Z)(e),"setIDsForMdChilds",(function(){var t=e.markdownViewer.current.childNodes;Array.from(t).forEach((function(t){var n=b()(t.textContent);if(t.nodeType===Node.ELEMENT_NODE)t.dataset.id=n;else if(t.nodeType===Node.TEXT_NODE&&"\n"!==t.textContent){var r=(0,Se.vq)(t,n);e.markdownViewer.current.replaceChild(r,t)}}))})),(0,g.Z)((0,u.Z)(e),"getCurrentSelection",(function(){var e,t,n,r,o;return null!==(e=null!==(t=null!==(n=null===(r=window)||void 0===r?void 0:r.getSelection())&&void 0!==n?n:null===(o=document)||void 0===o?void 0:o.getSelection())&&void 0!==t?t:document.selection.createRange().text)&&void 0!==e?e:null})),(0,g.Z)((0,u.Z)(e),"getTheme",(function(e){return Y.Mp.includes(e)?j[Y.OP[e]]:j[Y.OP.default]})),(0,g.Z)((0,u.Z)(e),"promise",void 0),(0,g.Z)((0,u.Z)(e),"setContextMenuData",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.markdownViewer.current){var l=e.markdownViewer.current.getBoundingClientRect(),c=null,s=null,d=20;r-l.left>l.width/2?s=l.right-r+20:c=r-l.left+20;var u=e.props,p=u.isUsedInColumn,h=u.widthOfComp,f=u.widthOfOtherComp,g=u.positionedLeft;if(p){var m=100*l.width/h,v=m*f/100;s=s&&g?s+v:s,c=c&&!g?c+v:c,d=0}e.setState((function(e){return Xe(Xe({},e),{},{contextMenuData:{edit:n,coords:{left:c,right:s,bottom:l.height+d-(o-l.top),rect:l},range:t,touch:i,isInsideConcept:a}})}))}})),(0,g.Z)((0,u.Z)(e),"openEditHighlightMenu",(function(t,n){t.stopPropagation(),e.cancelSelection(),e.setContextMenuData(t.target,!0,n?t.changedTouches[0].clientX:t.clientX,n?t.changedTouches[0].clientY:t.clientY,n)})),(0,g.Z)((0,u.Z)(e),"openCreateHighlightMenuDebounced",x()((function(t){e.openCreateHighlightMenu(t)}))),(0,g.Z)((0,u.Z)(e),"openCreateHighlightMenu",(function(t){if(t.preventDefault(),e.markdownViewer.current){var n,r,o,i=e.touchEnabled,a=0;try{var l=e.getCurrentSelection();if(i&&!e.markdownViewer.current.contains(l.focusNode))return;if(null!==l&&void 0!==l&&l.focusNode&&!l.focusNode.tagName&&!l.isCollapsed&&l.focusNode.nodeType===Node.TEXT_NODE&&l.anchorNode&&l.anchorNode.nodeType===Node.TEXT_NODE&&""!==l.toString().trim()){var c,s,d,u=l.getRangeAt(0);if(!e.markdownViewer.current.contains(u.commonAncestorContainer))return;n=u.startContainer,r=u.endContainer,a=u.startOffset,o=null===(c=u.toString)||void 0===c?void 0:c.call(u).length;var p=Re(u.startContainer),h=(null===(s=p.classList)||void 0===s||null===(d=s.contains)||void 0===d?void 0:d.call(s,"conceptBody"))&&p.contains(u.endContainer),f=u.getBoundingClientRect();e.setContextMenuData(u,!1,i?(f.right+f.left)/2:t.clientX,i?f.bottom:t.clientY,i,h)}else i||e.cancelSelection()}catch(w){var g=ot(r),m=n?e.getStartPoint(n.previousSibling,n.parentNode,a):{},v=m.mdChild_Id,b=void 0===v?"startContainer not found":v,y=m.offset,x=void 0===y?"startContainer not found":y;(0,N.u)(w,{startContainerDataId:b,endContainerDataId:g,startOffset:x,selectionLength:o}),console.error(w,"\n ERROR AT MARKDOWN VIEWER > openCreateHighlightMenu")}}})),(0,g.Z)((0,u.Z)(e),"highlightAll",(function(){var t=Xe({},e.state.selections),n={},r=Array.from(e.markdownViewer.current.children).map((function(e){return e.getAttribute("data-id")}));Object.entries(t).forEach((function(t){var o=(0,c.Z)(t,2),i=o[0],a=o[1],l=e.markdownViewer.current.querySelector('[data-id="'.concat(i,'"]'));null==l&&Array.isArray(a)||Array.isArray(a)&&a.forEach((function(t){try{var o;n=Xe(Xe({},n),{},(0,g.Z)({},t.id,i));var a=null===(o=t.addMdChildNodes)||void 0===o?void 0:o.find((function(t){return null==e.markdownViewer.current.querySelector('[data-id="'.concat(t,'"]'))})),c=function(e,t){var n=r.indexOf(e);if(-1===n)return null;var o=n;if(Boolean(t)){var i,a=Ke(t);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(++o>r.length||r[o]!==l)return!0}}catch(c){a.e(c)}finally{a.f()}}return!1}(i,t.addMdChildNodes);if(null!=a||c)return;var s=e.getToContainer(l.firstChild,t.range.firstPoint),d=s.node,u=s.offset,p=e.getToContainer(l.firstChild,t.range.lastPoint),h=p.node,f=p.offset,m=document.createRange();m.setStart(d,u),m.setEnd(h,f),e.applyHighlights(m,t.comment,t.id,null,0,0,t.askForHelpId)}catch(v){(0,N.u)(v,Xe(Xe({},t),{},{mdChild_Id:i})),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > highlightAll")}}))})),e.setState({selections:t,spanIdToMdChildIdMap:n})})),(0,g.Z)((0,u.Z)(e),"getToContainer",(function(t,n){if(t.firstChild)return e.getToContainer(t.firstChild,n);if(n<=t.textContent.length&&"\n"!==t.textContent)return{node:t,offset:n};if(t.nextSibling)return e.getToContainer(t.nextSibling,n-t.textContent.length);for(var r=t;!r.parentNode.nextSibling;)r=r.parentNode;return e.getToContainer(r.parentNode.nextSibling,n-t.textContent.length)})),(0,g.Z)((0,u.Z)(e),"editHighlight",(function(t,n){var r=Xe({},e.state.selections),o=e.state.spanIdToMdChildIdMap,i=t.dataset.id,a=r[o[i]].findIndex((function(e){return e.id===i})),l=r[o[i]][a];l=Ve()(l,{comment:{$set:n}}),r=Ve()(r,(0,g.Z)({},o[i],(0,g.Z)({},a,{$set:l}))),n?(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_NOTE_SAVED,"NoteSaved"):(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHTED,"Highlighted"),e.setState({selections:r},(function(){e.saveHighlights();var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(i,'"]'));Array.from(t).forEach((function(e){e.className=n?et:$e})),e.cancelSelection()}))})),(0,g.Z)((0,u.Z)(e),"removeHighlight",(function(t){var n=Xe({},e.state.selections),r=e.state.spanIdToMdChildIdMap,o=t.dataset.id,i=r[o],a=n[i].findIndex((function(e){return e.id===o})),l=n[i][a],c=l.comment,s=t.parentNode,d=l.range,u=d.firstPoint,p=d.lastPoint;c?(e.props.logWidgetInteraction({interaction_touch_point:k.Uq,paragraph_id:i,first_point:u,last_point:p}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_NOTE_REMOVED,"NoteRemoved")):(e.props.logWidgetInteraction({interaction_touch_point:k.ID,paragraph_id:i,first_point:u,last_point:p}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHT_REMOVED,"HighlightRemoved")),c?(l=Ve()(l,{comment:{$set:null}}),n=Ve()(n,(0,g.Z)({},i,(0,g.Z)({},a,{$set:l})))):n=Ve()(n,(0,g.Z)({},i,{$splice:[[a,1]]})),e.setState({selections:n,contextMenuData:null},(function(){e.saveHighlights();var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(o,'"]'));Array.from(t).forEach((function(e){c||e.parentNode.replaceChild(e.firstChild,e),e.className=$e})),s.normalize()}))})),(0,g.Z)((0,u.Z)(e),"createSpanForHighlight",(function(e,t){var n=document.createElement("span");return n.setAttribute("class",t),n.setAttribute("data-id",e),n})),(0,g.Z)((0,u.Z)(e),"createHighlight",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var o=null,i=e.getStartPoint(t.startContainer.previousSibling,t.startContainer.parentNode,t.startOffset),a=i.mdChild_Id,c=i.offset,s=c+t.toString().length,d=[],u=e.applyHighlights(t,n,o,d,c,s,r),p=u.spanId,h=u.updatedFirstPoint,f=u.updatedLastPoint,m=u.nodeText,v={id:p,comment:n,askForHelpId:r,range:{firstPoint:h,lastPoint:f},addMdChildNodes:d,highlightedText:m,version:1};e.setState((function(e){return Xe(Xe({},e),{},{selections:Xe(Xe({},e.selections),{},(0,g.Z)({},a,[].concat((0,l.Z)(e.selections[a]||[]),[v]))),spanIdToMdChildIdMap:Xe(Xe({},e.spanIdToMdChildIdMap),{},(0,g.Z)({},p,a))})}),(function(){e.saveHighlights(),e.cancelSelection(),n?(e.props.logWidgetInteraction({interaction_touch_point:k.N1,paragraph_id:a,first_point:h,last_point:f}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_NOTE_SAVED,"NoteSaved")):(e.props.logWidgetInteraction({interaction_touch_point:k.sK,paragraph_id:a,first_point:h,last_point:f}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHTED,"Highlighted"))}))}catch(b){(0,N.u)(b,{range:t.toString()}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > createHighlight")}})),(0,g.Z)((0,u.Z)(e),"getStartPoint",(function(t,n,r){var o,i,a,l;return t?!e.isSpan(t)&&null!==t&&void 0!==t&&null!==(o=t.dataset)&&void 0!==o&&o.id?{mdChild_Id:t.dataset.id,offset:r}:e.getStartPoint(t.previousSibling,n,r+(null!==(i=null===(a=t.textContent)||void 0===a?void 0:a.length)&&void 0!==i?i:0)):!e.isSpan(n)&&null!==n&&void 0!==n&&null!==(l=n.dataset)&&void 0!==l&&l.id?e.getStartPoint(n,n.parentNode,r):e.getStartPoint(n.previousSibling,n.parentNode,r)})),(0,g.Z)((0,u.Z)(e),"applyHighlights",(function(t,n){var r,o,i,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,p=l||(0,O.x0)(),h=e.props.askForHelp[u],f=n?et:(null===h||void 0===h?void 0:h.status)===We.JH.RESOLVED?nt:u?tt:$e,g=[],m=!1,v={nodesToFilter:[],endParentNode:Re(t.endContainer),startParentNode:Re(t.startContainer)},b=null===(r=v.endParentNode.classList)||void 0===r||null===(o=r.contains)||void 0===o?void 0:o.call(r,"conceptBody"),y=null===(i=v.startParentNode.classList)||void 0===i||null===(a=i.contains)||void 0===a?void 0:a.call(i,"conceptBody"),x=d,w=s;if(y){w-=t.startOffset-1,x-=v.startParentNode.textContent.length;var C=Be(v.startParentNode,v.startParentNode.nextSibling);t.setStart(C,0)}if(b){x-=t.endOffset;var k=Be(v.endParentNode,v.endParentNode.previousSibling,!1);t.setEnd(k,k.textContent.length)}for(var N=t.startContainer;!m;)if(!(m=e.findAllTextNodesinRange(N,t.endContainer,g,c,v.nodesToFilter))){for(;!N.parentNode.nextSibling;)N=N.parentNode;N=N.parentNode.nextSibling}var S=v.nodesToFilter.reduce((function(e,t){var n;return e+(null===(n=t.textContent)||void 0===n?void 0:n.length)}),0);x-=S,g[0].length>t.startOffset&&(g[0]=g[0].splitText(t.startOffset)),g[g.length-1].length>t.endOffset&&(g[g.length-1]=g[g.length-1].splitText(t.endOffset).previousSibling);var j="";return g=g.map((function(t){j="".concat(j).concat(t.textContent);var n=e.createSpanForHighlight(p,f);return t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),n.appendChild(t),t.parentNode.onclick=function(t){return e.openEditHighlightMenu(t,!1)},t.parentNode.ontouchend=function(t){return e.openEditHighlightMenu(t,!0)},t})),{spanId:p,updatedFirstPoint:w,updatedLastPoint:x,nodeText:j}})),(0,g.Z)((0,u.Z)(e),"findAllTextNodesinRange",(function(t,n,r,o){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=!1;t&&!a;t=t.nextSibling){var l,c,s,d;if(null!==(l=t.classList)&&void 0!==l&&null!==(c=l.contains)&&void 0!==c&&c.call(l,"conceptBody"))i.push(t);else if(t.nodeType===Node.TEXT_NODE)"\n"!==t.data&&r.push(t),t.isSameNode(n)&&(a=!0);else o&&!e.isSpan(t)&&null!==(s=t)&&void 0!==s&&null!==(d=s.dataset)&&void 0!==d&&d.id&&o.push(t.dataset.id),a=e.findAllTextNodesinRange(t.firstChild,n,r,o,i)}return a})),(0,g.Z)((0,u.Z)(e),"isSpan",(function(e){return"span"===e.nodeName.toLowerCase()&&(e.className===$e||e.className===et||e.className===tt||e.className===nt)})),(0,g.Z)((0,u.Z)(e),"cancelSelection",(function(){null!==e.state.contextMenuData&&e.setState({contextMenuData:null})})),(0,g.Z)((0,u.Z)(e),"stopRemoveSelection",(function(){e.setState({removeSelection:!1})})),(0,g.Z)((0,u.Z)(e),"saveHighlights",(function(){return e.props.saveHighlights({selections:e.state.selections})})),(0,g.Z)((0,u.Z)(e),"calculateBackgroundDetail",(function(t){if(e.props.backgroundColor&&!e.state.backgroundDetail){var n={left:e.parentDiv.current.getBoundingClientRect().left};e.setState({backgroundDetail:n},t)}else t()})),(0,g.Z)((0,u.Z)(e),"handleAskForHelp",(function(t){var n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.props.router,l=a.query,c=l.author_id,s=l.collection_id,d=l.page_id;return i?(null===(n=(o=e.props).handleContentBlockerClick)||void 0===n||n.call(o,i),null):(0,r.jsx)(Ge.default,{params:{callBacks:{successCallBack:function(n){var r=JSON.parse(n).askforhelp_id;e.createHighlight(t,null,r),e.props.loadAskForHelps(),e.props.dispatch(qe.n.show(Ue.zN,{title:"Ask For Help has been raised",description:"We have informed your mentor that you would like help with this task. You'll hear back from them soon. Meanwhile, you can explore other tasks.",styleType:"leftAligned",noButtons:!0})),(0,C.qP)(C.f2.ONBOARDING,C.bt.ASK_FOR_HELP)},failureCallBack:function(){e.props.dispatch(qe.n.show(Ue.ad,{status:"ERROR",text:"Unable to request for Ask For Help"}))}},buttonText:"Ask For Help",allowInput:!0,buttonLoadingText:"Asking...",placeholder:"Describe the problem you are experiencing, and what kind of help you need.",successMessage:"Ask For Help request sent.",characterLimit:600,url:"/api/askforhelpV2?content=true",type:"POST",showArrows:!1,data:{author_id:c,collection_id:s,page_id:d,path_author_id:a.query.path_author_id,path_id:a.query.path_id,organization_id:e.props.organizationId},feedbackRequired:!0}})})),e}return(0,d.Z)(o,[{key:"componentDidMount",value:function(){var e;this.enableHighlights&&(document.addEventListener("mousedown",this.handleOutsideClick),document.addEventListener("touchstart",this.enableTouch));var t=null===(e=this.props.router)||void 0===e?void 0:e.asPath.match(/#(.+)/);if(null!==t&&void 0!==t&&t[1])try{var n;null===(n=this.markdownViewer.current.querySelector('[id="'.concat(decodeURIComponent(t[1]),'"]')))||void 0===n||n.scrollIntoView()}catch(r){(0,N.u)(r)}this.updateView()}},{key:"componentDidUpdate",value:function(e){var t,n;this.enableHighlights=this.props.saveHighlights&&Le(this.props.router),this.enableHighlights&&this.props===e||this.updateView((null===(t=e.readerPreferences)||void 0===t?void 0:t.themes)!==(null===(n=this.props.readerPreferences)||void 0===n?void 0:n.themes))}},{key:"componentWillUnmount",value:function(){this.enableHighlights&&(document.removeEventListener("mousedown",this.handleOutsideClick),this.touchEnabled&&(document.removeEventListener("selectionchange",this.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",this.handleOutsideClick)))}},{key:"setColorization",value:function(){var e=(0,a.Z)(i().mark((function e(){var t,n,r,o,a,l,c,s,d,u,p,h,f,g,m,v,b,y=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.length>0&&void 0!==y[0]&&y[0],r=(null===(t=this.props.readerPreferences)||void 0===t?void 0:t.themes)||"default",o="cm-viewer-markdown disable-cursor",!Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==o})).length&&!n){e.next=39;break}return e.next=6,this.loadMonacoEditor();case 6:if(l=e.sent,c=null===(a=this.props.cookies.get("theme"))||void 0===a?void 0:a.includes("dark"),s=null,!this.markdownViewer.current){e.next=39;break}d=Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==o||n})),u=Ke(d),e.prev=12,u.s();case 14:if((p=u.n()).done){e.next=31;break}if(h=p.value,null!==(f=h.firstElementChild)&&void 0!==f&&f.textContent&&!(f.textContent.length<1)){e.next=19;break}return e.abrupt("return");case 19:if(n||(h.setAttribute("class",o),g=f.getAttribute("class")?f.getAttribute("class").replace("language-",""):Y.X9,s=(0,S.Yd)(null===g||void 0===g?void 0:g.toLowerCase()),f.setAttribute("data-lang",s)),m=this.removeNewLines(f.textContent),v=this.getTheme(r),b=this.props.collectionType===B.dL.SKILL_ASSESSMENT?" color: ".concat("#0E3458",";"):"",h.setAttribute("style","background-color: ".concat(this.props.collectionType===B.dL.SKILL_ASSESSMENT?c?"#1E1E27":"#FAFAFA":v.background,"; border-radius: 0px;").concat(b)),f.textContent=m,e.t0=this.props.collectionType!==B.dL.SKILL_ASSESSMENT,!e.t0){e.next=29;break}return e.next=29,l.default.colorize(f,{theme:v.colorizeTheme});case 29:e.next=14;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(12),u.e(e.t1);case 36:return e.prev=36,u.f(),e.finish(36);case 39:this.markdownViewer.current&&(this.props.openLinksInNewTab&&this.makeLinksToOpenInNewTab(),this.enableHighlights&&this.setIDsForMdChilds());case 40:case"end":return e.stop()}}),e,this,[[12,33,36,39]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.renderCustomElements(),this.promise||(this.promise=this.setColorization(t),this.promise.then((function(){e.promise=null,e.calculateBackgroundDetail((function(){return e.setSelectionsFromSnapshot(e.props)}))})))}},{key:"renderCustomElements",value:function(){var e,t,n=this,r=null===(e=this.markdownViewer.current)||void 0===e?void 0:e.querySelectorAll("keyword, concept");Array.from(r).forEach(Te(this.props));var o=null===(t=this.markdownViewer.current)||void 0===t?void 0:t.querySelectorAll("del, ins");Array.from(o).forEach((function(e,t){Te(Xe(Xe({},n.props),{},{elemId:t}))(e)}))}},{key:"render",value:function(){var e=this.state,t=e.contextMenuData,n=e.selections,o=e.removeSelection,i=e.spanIdToMdChildIdMap,a=e.backgroundDetail,l=this.props,c=l.isShot,s=l.backgroundColor,d=l.isQuiz,u=l.isStructuredQuiz,p=l.structuredQuizTitle,h=l.isUsedInColumn,f=l.isPlan,g=l.config,m=l.isMentee,v=l.askForHelp,b=h?"100%":"auto",y=m||Object.keys(null!==v&&void 0!==v?v:{}).length>0;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Q.HH,{className:u?"overflow-x-auto w-full":"markdown-container-div".concat(this.props.collectionType===B.dL.SKILL_ASSESSMENT?"".concat(this.props.isStatement?" sm:px-10 my-6":" sm:px-4"," "):""),height:b,ref:this.parentDiv,children:[s&&a&&(0,r.jsx)("div",{style:{right:0,left:-1*a.left,top:0,bottom:0,width:"calc(100vw + ".concat(a.left,"px)"),position:"absolute",backgroundColor:s,zIndex:Z.Kv,height:b}}),t&&(!f||y)&&(0,r.jsx)(K,{ref:this.highlightContextMenu,closeMenu:this.cancelSelection,onHighlightCreate:this.createHighlight,onHighlightEdit:this.editHighlight,onHighlightRemove:this.removeHighlight,selections:n,spanToMdChild:i,menuData:t,removeSelection:!!o,onStopRemoveSelection:this.stopRemoveSelection,isPlan:f,handleAskForHelp:this.handleAskForHelp,isMentee:m,askForHelp:v}),d?(0,r.jsx)("span",{className:"text-base",children:(0,r.jsx)(Q.Wj,{structuredQuizTitle:p,className:"markdownViewerQuiz",ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!c?this.openCreateHighlightMenu:function(){},dangerouslySetInnerHTML:{__html:this.props.mdHtml}})}):(0,r.jsx)(Q.AE,{className:"markdownViewer".concat(this.props.collectionType===B.dL.SKILL_ASSESSMENT?" flex-col px-4 sm:px-0":""),id:B.Fz?this.props.id:null,ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!c?this.openCreateHighlightMenu:function(){},renderedInTOC:this.props.renderedInTOC,setHeight:this.props.isUsedInColumn,dangerouslySetInnerHTML:{__html:this.props.mdHtml},alignCenter:this.props.alignCenter,isStatement:this.props.isStatement,collectionType:this.props.collectionType,isSlateHTML:this.props.isSlateHTML,isProjectPage:g.pageType===B.qe.PROJECT})]})})}}]),o}(m.Component);(0,g.Z)(it,"defaultProps",{openLinksInNewTab:!0,contentSnapshot:null,saveHighlights:null,docker:{container:{liveInstance:{}}},logWidgetInteraction:function(){return null},isShot:!1,backgroundColor:null,isQuiz:!1,isStructuredQuiz:!1,structuredQuizTitle:!1,renderedInTOC:!1,isUsedInColumn:!1,conceptIdBacktrace:[],widthOfComp:50,widthOfOtherComp:50,enableDiffElements:!1,isSlateHTML:!1,alignCenter:!1,isStatement:!1,collectionType:B.dL.COLLECTION,isPlan:!1,config:{},askForHelp:{}});var at=(0,w.withRouter)(rt((0,ze.Z)(it)))},13243:function(e,t,n){n.d(t,{Rp:function(){return r},S8:function(){return o},jD:function(){return i},xp:function(){return a},Rv:function(){return l},Uq:function(){return c},ID:function(){return s},N1:function(){return d},sK:function(){return u},UO:function(){return p},F2:function(){return h},w0:function(){return f},$F:function(){return g},pi:function(){return m},Wt:function(){return v}});var r="FILE_DOWNLOAD",o="FILE_OPEN",i="HINT_VIEW",a="HINT_HIDE",l="IMAGE_ZOOM",c="MD_NOTE_REMOVED",s="MD_HIGHLIGHT_REMOVED",d="MD_NOTE_SAVED",u="MD_HIGHLIGHTED",p="SOLUTION_VIEWED",h="RUN",f="JUDGE",g="MACHINE_ALLOCATE",m="CODE_EXECUTE",v="OUTPUT_GENERATE"},56445:function(e,t,n){n.d(t,{JH:function(){return j},jt:function(){return Z},J0:function(){return A},Tj:function(){return te},Ej:function(){return L},E2:function(){return H},Lb:function(){return ee},Ll:function(){return q},Jr:function(){return T},nY:function(){return O},qO:function(){return X},cH:function(){return D},IV:function(){return F},WQ:function(){return z},tO:function(){return J},IX:function(){return $},$G:function(){return R},Uk:function(){return Q},HK:function(){return M},Pz:function(){return V},U$:function(){return G},is:function(){return K},Mv:function(){return Y},rd:function(){return W},Lc:function(){return U},bJ:function(){return B}});var r,o=n(20348),i=n(33022),a=n(98735),l=n(91122),c=n(9945),s=n(83200),d=n(49227),u=n(51726),p=n(61666),h=n(16962),f=n(12006),g=n(99672),m=n(8535),v=n(80944),b=n(48934),y=n(79694),x=n(5843),w=n(89703);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k,N=function(e){return w.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 22H18C18.83 22 19.54 21.5 19.84 20.78L22.86 13.73C22.95 13.5 23 13.26 23 13V11C23 9.9 22.1 9 21 9H14.69L15.64 4.43L15.67 4.11C15.67 3.7 15.5 3.32 15.23 3.05L14.17 2L7.58 8.59C7.22 8.95 7 9.45 7 10V20C7 21.1 7.9 22 9 22ZM9 10L13.34 5.66L12 11H21V13L18 20H9V10ZM5 10H1V22H5V10Z",fill:"current"})))};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O,j,Z,D,I=function(e){return w.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k||(k=w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2H6C5.17 2 4.46 2.5 4.16 3.22L1.14 10.27C1.05 10.5 1 10.74 1 11V13C1 14.1 1.9 15 3 15H9.31L8.36 19.57L8.33 19.89C8.33 20.3 8.5 20.68 8.77 20.95L9.83 22L16.42 15.41C16.78 15.05 17 14.55 17 14V4C17 2.9 16.1 2 15 2ZM15 14L10.66 18.34L12 13H3V11L6 4H15V14ZM23 2H19V14H23V2Z",fill:"current"})))},_=n(18182),P=n(93389),E=n(73173),T="plan_filter",A={ADMIN_DASHBOARD:"admin",MANAGER_DASHBOARD:"manager",MENTOR_DASHBOARD:"dashboard",PLANS_DASHBOARD:"plans",MENTEE_DASHBOARD:"assigned-plans",DRAFTS_DASHBOARD:"drafts",MODULES_DASHBOARD:"modules"},H="Entity creation in progress",L=[{title:"Admin Dashboard",path:A.ADMIN_DASHBOARD},{title:"Manager Dashboard",path:A.MANAGER_DASHBOARD},{title:"Mentor Dashboard",path:A.MENTOR_DASHBOARD},{title:"Onboarding Plans",path:A.PLANS_DASHBOARD},{title:"Assigned Plans",path:A.MENTEE_DASHBOARD},{title:"Draft Plans",path:A.DRAFTS_DASHBOARD},{title:"Module Library",path:A.MODULES_DASHBOARD}],M=[{assignee:{first_name:"Assignee",full_name:"Assignee",id:1,profile_image:null},author_id:1,blockers:0,blocker:{},current_todo:{title:"Compilation Steps",url:"plan/page/1/1/1"},mentee:{first_name:"Harris",full_name:"Harris Chriss",id:1,profile_image:null},mentee_progress:97,mentor:{first_name:"You",full_name:"You",id:1,profile_image:null},plan_completion_date:null,plan_id:1,plan_start_date:"12/12/2021 5:38:10 PM UTC",plan_title:"Dev Onboarding"},{assignee:{first_name:"Assignee",full_name:"Assignee",id:1,profile_image:null},author_id:1,blockers:1,blocker:{title:"Our Product",url:"plan/page/1/1/1"},current_todo:{title:"Compilation Steps",url:"plan/page/1/1/1"},mentee:{first_name:"Chriss",full_name:"Chriss Harris",id:1,profile_image:null},mentee_progress:19,mentor:{first_name:"Someone",full_name:"Someone",id:1,profile_image:null},plan_completion_date:null,plan_id:1,plan_start_date:"12/11/2021 5:38:10 PM UTC",plan_title:"PM Onboarding"}],R={default:3,1124:2,790:1},B=(0,i.iv)([".width-auto{width:auto !important;}"]),F=9,V={resizable:!0,cellClass:"ag-cell-styles",cellStyle:{"white-space":"normal"}},z="text-xs font-semibold tracking-wider m-0",q="text-primary hover:!text-black focus:text-black dark:text-primary-light dark:hover:!text-dark-contrastText dark:focus:text-dark-contrastText cursor-pointer m-0",U=function(e){return(0,p.Cr)(e,!0)},W=function(e){return(0,p.ZP)(new Date(e),"DD MMM YYYY",!1)},G=function(e){var t=e.data,n=e.agGridReact.props.columnDefs;return(0,o.jsxs)("div",{className:"flex flex-col justify-start space-y-3",children:[n[0].mobileRendererFramework({data:t}),(0,o.jsx)("span",{className:"block sm:hidden space-y-3",children:n.slice(1).map((function(e){var n,r=e.cellRendererFramework,i=e.mobileRendererFramework;return(null!==(n=null!==i&&void 0!==i?i:r)&&void 0!==n?n:function(){return(0,o.jsx)(o.Fragment,{})})({data:t})}))})]})},K=function(e){var t=[],n=[];return e.forEach((function(e){e.blockers?t.push(e):n.push(e)})),t.sort((function(e,t){return e.blockers>t.blockers?1:-1})),n.sort((function(e,t){return e.mentee_progress>t.mentee_progress?1:-1})),t.concat(n)},Y=function(e){return e.sort((function(e,t){return new Date(e.last_updated).getTime()<new Date(t.last_updated).getTime()?1:-1}))},Q=function(e,t){return e>t?1:e<t?-1:0},X=function(e){var t=e.author_id,n=e.callback,r=e.canUnassign,i=void 0!==r&&r,p=e.isDataEmpty,g=void 0!==p&&p,b=e.mentee,x=e.organizationId,w=e.plan_id,C=(0,u.TL)(),k=(0,s.useRouter)(),N="".concat((0,m.Z)(t,w,null,!1,d.dL.PLAN),"/mentee/").concat(b.id);return(0,o.jsx)(a.Z,{trigger:["click"],placement:"bottom",rootClose:!0,overlay:(0,o.jsxs)(l.Z,{className:"dark:bg-dark-90",id:"more-options",children:[(0,o.jsx)(c.default,{prefetch:!1,href:N,children:(0,o.jsx)("a",{onClick:function(e){e.preventDefault(),k.push(N)},className:"block leading-6 p-3 dark:bg-dark-90 focus:text-black dark:focus:text-dark-contrastText ".concat(g?"pointer-events-none text-gray-500":"cursor-pointer"),children:"View Details"})}),i&&(0,o.jsx)("button",{className:"bg-white dark:bg-dark-90 leading-6 p-3 ".concat(g?"pointer-events-none text-gray-500":"cursor-pointer text-error dark:text-error-light"),onClick:function(){return function(e,t,n,r,o,i){return n(h.n.show(f.zN,{styleType:"leftAligned",title:"Unassign this Plan",description:"By unassigning this plan, you will no longer be able to track this team member's progress on your dashboard",confirmText:"Unassign Plan",cancelText:"Cancel",onConfirm:function(){return(0,v.h$)({orgId:o,userId:r,planList:[{author_id:e,work_id:i}]}).then(t).catch((function(){return n(h.n.show(f.ad,{status:"ERROR",text:"Unable to un assign plan"}))}))},onCancel:function(){return h.n.close()},closeModal:function(){return h.n.close()}}))}(t,n,C,b.id,x,w)},children:"Unassign Plan"})]}),children:(0,o.jsx)("div",{className:"flex items-center justify-center bg-transparent dark:hover:bg-dark-60 cursor-pointer w-8 h-8",id:E.env.REACT_APP_STANDALONE?"selenium-more-vertical":null,children:(0,o.jsx)(y.Z,{className:"w-6 h-6 text-gray-300 dark:text-dark-contrastText stroke-current"})})})},J=function(e){var t,n=e.author_id,r=e.plan_id,i=e.blocker,a=e.blockers,l=e.current_todo,c=e.isAdmin,p=void 0!==c&&c,v=e.isDataEmpty,y=void 0!==v&&v,w=e.mentee,C=e.mentee_progress,k=e.isTrialReadOnlyMode,N=void 0!==k&&k,S=(0,s.useRouter)(),O=(0,u.TL)(),j="".concat((0,m.Z)(n,r,null,!1,d.dL.PLAN),"/mentee/").concat(w.id),Z=a?"".concat(i.url,"/mentee/").concat(w.id):l.url;return(0,o.jsxs)("div",{className:"flex flex-col space-y-2 ".concat(y?"pointer-events-none":"cursor-pointer"),style:{width:"512px"},onClick:function(){return N?O(h.n.show(f.Fc)):S.push({pathname:j,query:{scroll_link:Z}})},children:[(0,o.jsxs)("span",{className:"flex justify-between ".concat(z),children:[C>=100?(0,o.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,o.jsx)(x.Z,{className:"fill-current text-primary-success mt-1"}),(0,o.jsx)("p",{className:"ml-2 mt-2",children:"Completed"})]}):(0,o.jsx)("p",{className:"m-0",children:(t=C,"".concat(Math.round(t),"%"))}),!!a&&(0,o.jsxs)("span",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("p",{className:"m-0",children:[p?"View":"Resolve"," Blocker",a>1?"s":""," ",a>1&&"(".concat(a,")")]}),(0,o.jsx)(b.Z,{className:"stroke-current"})]})]}),C<100&&(0,o.jsx)(g.Z,{percentCompleted:C,classes:"w-full",backgroundColor:"bg-gray-200 dark:bg-gray-A100",color:a?"bg-black dark:bg-gray-500":"bg-primary-success"}),(0,o.jsx)("p",{className:z,children:C<100&&"".concat(a?"Blocked On":"TASK",": ").concat(Object.keys(i).length?i.title:l.title)})]})},$=function(e){var t=e.organizationId,n=(0,u.TL)();return(0,o.jsxs)("div",{className:"flex items-center sm:space-x-2",children:[(0,o.jsx)("p",{className:"m-0 text-gray-800 font-bold tailwind-hidden sm:block",children:"Was this helpful?"}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("button",{className:"icon-default",onClick:function(){return(0,P.wS)(n,t,!0)},children:(0,o.jsx)(N,{className:"fill-current"})}),(0,o.jsx)("button",{className:"icon-default",onClick:function(){return(0,P.wS)(n,t,!1)},children:(0,o.jsx)(I,{className:"fill-current"})})]})]})},ee=function(e){var t=e.onClick,n=e.selected,r=e.text;return(0,o.jsxs)("button",{className:"bg-white dark:bg-dark text-base rounded-3xl border border-solid text-black dark:text-dark-contrastText font-bold text-center px-3 mt-1 h-12 ".concat(n?"border-primary dark:border-primary-light bg-primary-lightP2 dark:bg-gray-A400 dark:hover:bg-gray-A100":"border-gray-500 dark:border-gray-A100 dark:hover:bg-gray-A100"),onClick:t,children:[n&&(0,o.jsx)(_.Z,{className:"w-6 h-6 text-primary dark:text-dark-contrastText fill-current mr-2.5"}),r]})},te={showTotalValue:!0,showDataLabels:!1,size:75,width:354,height:250,labelColor:"#4C4C5C",darkLabelColor:"#B0B0B7",showStroke:!0,showDarkPlotOptions:!0,showTooltip:!1,showCustomStates:!0,states:{hover:{filter:{type:"darken",value:.85}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.35}}}};!function(e){e[e.DRAFT=0]="DRAFT",e[e.PUBLISHED=1]="PUBLISHED"}(O||(O={})),function(e){e[e.INITIATED=3e3]="INITIATED",e[e.RESOLVED=3001]="RESOLVED"}(j||(j={})),function(e){e.TASK="task",e.CONTENT="content"}(Z||(Z={})),function(e){e.CREATE_AND_ASSIGN_PLAN_FLOW="CREATE_AND_ASSIGN_PLAN_FLOW",e.MANAGER_AND_BLOCKER_FLOW="MANAGER_AND_BLOCKER_FLOW"}(D||(D={}))},80464:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(20348),o=n(64537),i=n(88753),a=n.n(i),l=n(52198),c=n(30645),s=n(79003),d=n(70989),u=n(58055),p=n(31428),h=n(27018),f=n(29799),g=n(93586),m=n(89703),v=n(78854),b=n(84283),y=n(48941);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e,t){return"/api/author/".concat(e,"/collection/").concat(t,"/concept")},k=function(e){var t,n,r;if(null===(t=e())||void 0===t||null===(n=t.author)||void 0===n||null===(r=n.concepts)||void 0===r||!r.data)throw Error("Concepts were not loaded")},N=function(e){var t=e.authorId,n=e.collectionId,r=e.name,o=e.comps;return function(e,i){var a=JSON.stringify(o);return(0,b.Z)({url:C(t,n),type:"POST",data:{name:r,json_data:a}}).then(JSON.parse).then((function(t){var n=t.id,a=t.usage_count;k(i),e(y._.update({id:n,name:r,comps:o,usageCount:a}))}))}},S=function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId,o=e.name,i=e.comps;return function(e,a){var l=i&&JSON.stringify(i);return(0,b.Z)({url:C(t,n)+"/".concat(r),type:"PUT",data:w(w({},o&&{name:o}),l&&{json_data:l})}).then(JSON.parse).then((function(t){var n=t.usage_count;k(a),e(y._.update({id:r,name:o,comps:i,usageCount:n}))}))}},O=function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId;return function(e,o){return(0,b.Z)({url:C(t,n)+"/".concat(r),type:"DELETE"}).then((function(){k(o),e(y._.remove({id:r}))}))}},j=n(12006);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,n){var r,o,i=e.author,a=e.modals,l=i.concepts,c=l.loaded,s=l.loading,d=l.data,u=l.error,p=null,h=null;t?(p=null===n||void 0===n||null===(r=n.params)||void 0===r?void 0:r.authorId,h=null===n||void 0===n||null===(o=n.params)||void 0===o?void 0:o.collectionId):(p=null===n||void 0===n?void 0:n.authorId,h=null===n||void 0===n?void 0:n.collectionId);var f=a.typeToShow;return{conceptProviderStateProps:{authorId:p,collectionId:h,shouldLoadConcepts:!c&&!s,conceptsLoading:s,concepts:a.showModal&&f===j.xh?{conceptName:{id:0,usageCount:1,comps:[{hash:0,mode:"view",type:"MarkdownEditor",content:{version:"2.0",text:"Markdown Help Concept",mdHtml:"<p>Markdown Help Concept</p>",cursorPosition:{line:0,ch:0}}}]}}:d,error:u}}},i=function(e){return{conceptProviderDispatchProps:{loadConceptNames:function(t){e(y._.loadMetadata(t))},loadConcept:function(t){e(y._.load(t))},createConcept:function(t){return e(N(t))},editConcept:function(t){return e(S(t))},deleteConcept:function(t){return e(O(t))},dispatch:e}}},h=(0,v.$j)(n,i),f=function(t){(0,p.Z)(i,t);var n=I(i);function i(){var e;(0,s.Z)(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,g.Z)((0,u.Z)(e),"getConcepts",(function(){var t=e.props.conceptProviderStateProps,n=t.concepts,r=t.error;return void 0===n?D({loaded:!1},r&&{error:r}):{loaded:!0,concepts:n}})),(0,g.Z)((0,u.Z)(e),"getConceptByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,i=n.concepts,a=n.conceptsLoading,l=n.error,c=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===i)return D({loaded:!1},l&&{error:l});var s=i[t];if(void 0===s)return{loaded:!0};var d=s.id,u=s.comps,p=s.usageCount;if(void 0===u){if(r&&o&&!a)c({authorId:r,collectionId:o,conceptId:d,published:!e.props.isDraft});return D({loaded:!1},l&&{error:l})}return{loaded:!0,concept:{id:d,comps:u,usageCount:p}}})),(0,g.Z)((0,u.Z)(e),"getConceptById",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,i=n.concepts,a=n.conceptsLoading,l=n.error,s=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===i)return D({loaded:!1},l&&{error:l});var d=Object.entries(i).find((function(e){var n=(0,c.Z)(e,2);n[0];return n[1].id===t}));if(void 0===d)return{loaded:!0};var u=(0,c.Z)(d,2),p=u[0],h=u[1],f=h.comps,g=h.usageCount;if(void 0===f){if(r&&o&&!a){var m=!e.props.isDraft;s({authorId:r,collectionId:o,conceptId:t,published:m})}return D({loaded:!1},l&&{error:l})}return{loaded:!0,concept:{name:p,comps:f,usageCount:g}}})),(0,g.Z)((0,u.Z)(e),"getConceptNameById",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return D({loaded:!1},o&&{error:o});var i=Object.entries(r).find((function(e){var n=(0,c.Z)(e,2);n[0];return n[1].id===t}));return void 0===i?{loaded:!0}:{loaded:!0,name:(0,c.Z)(i,1)[0]}})),(0,g.Z)((0,u.Z)(e),"getConceptIdByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return D({loaded:!1},o&&{error:o});var i=r[t];return void 0===i?{loaded:!0}:{loaded:!0,id:i.id}})),(0,g.Z)((0,u.Z)(e),"errorPromise",function(){var e=(0,l.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,g.Z)((0,u.Z)(e),"createConcept",(function(t,n){var r=(0,u.Z)(e).errorPromise,o=e.props.conceptProviderStateProps,i=o.authorId,a=o.collectionId,l=e.props.conceptProviderDispatchProps.createConcept;return i&&a?l({authorId:i,collectionId:a,name:t,comps:n}):r("Not ready to create")})),(0,g.Z)((0,u.Z)(e),"editConcept",(function(t,n,r){var o=(0,u.Z)(e).errorPromise,i=e.props.conceptProviderStateProps,a=i.authorId,l=i.collectionId,c=e.props.conceptProviderDispatchProps.editConcept;return a&&l?c({authorId:a,collectionId:l,conceptId:t,name:n,comps:r}):o("Not ready to edit")})),(0,g.Z)((0,u.Z)(e),"deleteConcept",(function(t){var n=(0,u.Z)(e).errorPromise,r=e.props.conceptProviderStateProps,o=r.authorId,i=r.collectionId,a=e.props.conceptProviderDispatchProps.deleteConcept;return o&&i?a({authorId:o,collectionId:i,conceptId:t}):n("Not ready to delete")})),e}return(0,d.Z)(i,[{key:"componentDidMount",value:function(){var e=this.props.conceptProviderStateProps,t=e.authorId,n=e.collectionId,r=e.shouldLoadConcepts,o=this.props.conceptProviderDispatchProps.loadConceptNames;t&&n&&r&&o({authorId:t,collectionId:n,published:!this.props.isDraft})}},{key:"componentDidUpdate",value:function(e){var t=this.props.conceptProviderStateProps,n=t.authorId,r=t.collectionId,o=t.shouldLoadConcepts,i=e.conceptProviderStateProps,a=i.authorId,l=i.collectionId,c=this.props.conceptProviderDispatchProps.loadConceptNames;n&&r&&(n!==a||r!==l)&&o&&c({authorId:n,collectionId:r,published:!this.props.isDraft})}},{key:"render",value:function(){var t=this.props,n=(t.conceptProviderStateProps,t.conceptProviderDispatchProps),i=(0,o.Z)(t,["conceptProviderStateProps","conceptProviderDispatchProps"]),a={getConcepts:this.getConcepts,getConceptById:this.getConceptById,getConceptByName:this.getConceptByName,getConceptNameById:this.getConceptNameById,getConceptIdByName:this.getConceptIdByName,createConcept:this.createConcept,editConcept:this.editConcept,deleteConcept:this.deleteConcept,dispatch:n.dispatch},l=D(D({},i),a);return(0,r.jsx)(e,D({},l))}}]),i}(m.Component);return(0,g.Z)(f,"defaultProps",{isDraft:!0}),h(f)}},46362:function(e,t,n){n.d(t,{ms:function(){return d},_e:function(){return u},Yd:function(){return p}});var r=n(93586),o=n(59818),i=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tsx:"typescript",jsx:"javascript",mjs:"javascript",asm:"gap"},s={cpp:"cpp",cs:"csharp",hs:"haskell",ocaml:"ocaml",erl:"erlang",kt:"kotlin",scss:"scss",sass:"sass-original",php:"php",re:"c",rs:"rust",sql:"sql",jenkinsfile:"groovy",asm:"assembly",vue:"html",svelte:"html",bzl:"python",bazel:"python"},d=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?l(l({},c),s):c;try{var r=e.split(".").pop();if(n[r])return n[r];var o=i().languages(r);return o[0]}catch(a){return null}},u=function(e){var t,n=e.selectedIndex,r=e.additionalContent;return n>0&&n<=r.length?null===r||void 0===r||null===(t=r[n-1])||void 0===t?void 0:t.fileName:null===e||void 0===e?void 0:e.entryFileName},p=function(e){switch(e){case"python3":return"python";case"c++":return"cpp";case"c#":return"csharp";case"jenkinsfile":return"groovy";case"js":return"javascript";case"py":return"python";case"erl":return"erlang";case"sass":return"sass-original";default:return s[e]||c[e]||e}}},39241:function(e,t,n){var r,o=n(89703);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",fill:"current",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7 3a1 1 0 00-.7.3L15 5 19 9 20.7 7c.4-.3.4-1 0-1.4l-2.3-2.3a1 1 0 00-.7-.3zM14 9l.9 1-9 9H5v-1l9-9zM3 17.3L14 6.2l3.8 3.7L6.8 21H3v-3.8z"})))}},33701:function(e,t,n){var r,o=n(89703);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",i({width:18,height:22,viewBox:"0 0 18 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-current"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0.5H16C17.1 0.5 18 1.4 18 2.5V16.5C18 17.6 17.1 18.5 16 18.5H12L9 21.5L6 18.5H2C0.89 18.5 0 17.6 0 16.5V2.5C0 1.4 0.89 0.5 2 0.5ZM11.17 16.5H16V2.5H2V16.5H6.83L7.41 17.08L9 18.67L10.58 17.09L11.17 16.5ZM8.16675 5.2H9.83342V10.2H8.16675V5.2ZM9.83342 11.8665H8.16675V13.5332H9.83342V11.8665Z"})))}}}]);
//# sourceMappingURL=99122-619ee26c061863a18eca.js.map