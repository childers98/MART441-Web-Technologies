"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40259],{92133:function(e,t,n){n.d(t,{Z:function(){return ie}});var r=n(32868),o=n(20767),a=n(51726),i=n(93586),c=n(64537);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Symbol("Call API"),l=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e[d];return"undefined"!==typeof t&&!!t.promise}(t))return e(t);var n=t[d],r=n.types,o=n.promise,a=n.cb,i=(0,c.Z)(n,["types","promise","cb"]),s=null===r||void 0===r?void 0:r.pending.type,l=null===r||void 0===r?void 0:r.fulfilled.type,p=null===r||void 0===r?void 0:r.rejected.type;return r&&e(function(e){var n=u(u({},t),e);return delete n[d],n}(u(u({},i),{},{type:s}))),o().then((function(t){return r&&e(u(u({},i),{},{payload:t,type:l})),a&&a(null,t),t})).catch((function(t){r&&e(u(u({},i),{},{error:t,type:p})),a&&a(t)}))}}},p=n(11616),f=n(98411);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){return function(t){return function(n){if(!function(e){return!!e&&!!e.error}(n))return t(n);var r=n.error,o=n.errorHook,a=n.errorWhitelist,i=(0,c.Z)(n,["error","errorHook","errorWhitelist"]);if((0,f.rU)(n.error,e.dispatch,null,a),o){var s=e.dispatch,u=o(y(y({},i),{},{error:r,dispatch:s}));return u&&t(u),null}return t(n)}}};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e.postProcess,n=e.payload;return!(!t||!n)}(t))return e(t);var n=t.postProcess,r=t.payload,o=(0,c.Z)(t,["postProcess","payload"]);return e(b(b({},o),{},{payload:n?n(r):r}))}}},h=n(84283),j=n(347),P=n(32653),S=n(51127),_=n(74237),w=n(34560);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){return function(t){return function(n){if(!function(e){if(!e)return!1;var t=e.AJAX_CALL;if("undefined"===typeof t)return!1;var n=t.url,r=t.type;return!(!n||!r)}(n))return t(n);var r=n.AJAX_CALL,o=r.url,a=r.type,s=r.getHeaders,u=r.data,l=r.processData,p=r.contentType,f=r.overrideAjaxMode,v=r.isDemo,y=(0,c.Z)(r,["url","type","getHeaders","data","processData","contentType","overrideAjaxMode","isDemo"]),O=e.getState().ajaxMode.enabled,g=v||!O&&!f?j.Z:h.Z;return t((0,i.Z)({},d,D(D({},y),{},{promise:function(){return g({url:o,type:a,data:u,processData:l,contentType:p},s).then((function(t){return s&&t.xhr&&"p"===o[12]?e.dispatch(P.w.updateETag(t.xhr.headers.get(w.Zq))):s&&t.xhr&&o.includes("page/editor")?e.dispatch(_.yH.updateETag(t.xhr.headers.get(w.Zq))):s&&t.xhr&&e.dispatch(S.x.updateETag(t.xhr.headers.get(w.Zq))),t}))}})))}}},E=n(63319),x=n(45835),T=n(10614),I=n(73777),C=n(5905),N=n(27644),A=n(55532),M=[T.t,C.E].map((function(e){return e.pending.type})),U=[I.m,T.t,T.t,C.E,N.D,A.T].map((function(e){return e.fulfilled.type})),R={},q=function(e){return function(t){return function(n){var o,a,i,c,s;if(M.includes(n.type)){R={compIds:null,authorId:null,userId:null,pageId:null,collectionId:null,askForHelpData:null};var u=n.resetWidgetUserData;return(void 0===u||u)&&e.dispatch(x.Vy.reset()),t(n)}var d=e.getState();if(R.userId=null===d||void 0===d||null===(o=d.user)||void 0===o||null===(a=o.info)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.user_id,!U.includes(n.type)||!R.userId)return t(n);if(n.type===N.D.fulfilled.type||n.type===I.m.fulfilled.type){if(!n.payload.components)return t(n);R.compIds=n.payload.components.filter((function(e){return e.content.comp_id})).reduce((function(e,t){return"Columns"===t.type?[].concat((0,r.Z)(e),[t.content.comp_id+"_1",t.content.comp_id+"_2"]):[].concat((0,r.Z)(e),[t.content.comp_id])}),[])}return n.type===C.E.fulfilled.type&&(R.authorId=n.payload.author_id,R.pageId=n.payload.id),n.type===T.t.fulfilled.type&&(R.authorId=n.payload.author_id,R.collectionId=n.payload.collection_id,R.pageId=n.payload.page_id,R.askForHelpData=n.askForHelpData),n.type===A.T.fulfilled.type&&null!==(c=n.payload)&&void 0!==c&&c.content&&(R.compIds=n.payload.content.map((function(e){return e.content.comp_id})).filter(Boolean)),null!==(s=R.compIds)&&void 0!==s&&s.length&&R.authorId&&R.userId&&R.pageId&&e.dispatch((0,E.Sh)(R)),t(n)}}},L=n(40393),J=n(78293),F=function(){return function(e){return function(t){switch(t.type){case L.o.set.type:(0,J.n)(t.payload.key_id,t.payload.value)}e(t)}}},B=n(85408),H=n(39064),W=n(24603),G=n(786),z=n.n(G),Q=n(62083),V=n(49227);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=[],$=[],ee={},te=!1,ne=[],re=function(e){return function(t){return function(n){var o,a,c,s,u,d,l,p,f,v,y,O;if(n.type===H.X5.reset.type||n.type===A.T.clear.type||n.type===_.yH.clear.type||n.type===Q.NT.clear.type)return ee={},te=!1,e.dispatch(W.R.reset()),t(n);if(n.type===H.X5.set.type)return K=null===n||void 0===n||null===(c=n.payload)||void 0===c||null===(s=c.instance)||void 0===s||null===(u=s.details)||void 0===u?void 0:u.api_keys,$=null===n||void 0===n||null===(d=n.payload)||void 0===d||null===(l=d.instance)||void 0===l||null===(p=l.details)||void 0===p||null===(f=p.docker)||void 0===f?void 0:f.envs,t(n);if(n.type===H.X5.addExternalApiKeys.type)return K=(0,r.Z)(new Map([].concat((0,r.Z)(K),(0,r.Z)(n.payload||[])).map((function(e){return[e.id,e]}))).values()),t(n);n.type===A.T.fulfilled.type&&(ee.shotId=n.payload.shotId,$=null===n||void 0===n||null===(v=n.payload)||void 0===v||null===(y=v.docker)||void 0===y?void 0:y.envs);[_.yH.fulfilled.type,Q.NT.fulfilled.type].includes(n.type)&&(ee.editorPageId=n.payload.marketing_page_id,K=JSON.parse((null===(O=n.payload)||void 0===O?void 0:O.api_keys)||"[]"));if((!K||!K.length)&&(!$||!$.length))return t(n);if(n.type===W.R.fulfilled.type&&(te=!0),![I.m,T.t,S.x,A.T,_.yH,Q.NT].map((function(e){return e.fulfilled.type})).includes(n.type))return t(n);if([S.x,I.m,A.T,_.yH,Q.NT].map((function(e){return e.fulfilled.type})).includes(n.type)){if(!n.payload.components&&!n.payload.content&&!n.payload.marketing_page_content)return t(n);var g=n.payload.components||n.payload.content||n.payload.marketing_page_content;ne=g.map((function(e){var t=e;if(V.tM.includes(t.type))if("TabbedCode"===t.type){var n,r,o=(null===(n=t)||void 0===n||null===(r=n.content)||void 0===r?void 0:r.codeContents)||{};o.forEach((function(e,t){var n=(null===e||void 0===e?void 0:e.selectedApiKeys)||{},r=K.reduce((function(e,t){return t.id in n?X(X({},e),{},(0,i.Z)({},t.id,n[t.id])):e}),{});o=z()(o,(0,i.Z)({},t,{selectedApiKeys:{$set:r}}))})),t=z()(t,{content:{codeContents:{$set:o}}})}else{var a,c,s=(null===(a=t)||void 0===a||null===(c=a.content)||void 0===c?void 0:c.selectedApiKeys)||{},u=K.reduce((function(e,t){return t.id in s?X(X({},e),{},(0,i.Z)({},t.id,s[t.id])):e}),{});t=z()(t,{content:{selectedApiKeys:{$set:u}}})}return t}))}n.type!==I.m.fulfilled.type&&n.type!==S.x.fulfilled.type||(ee.compIds=n.payload.components.map((function(e){return e.content.comp_id})).filter(Boolean)),n.type===A.T.fulfilled.type&&(ee.compIds=n.payload.content.map((function(e){return e.content.comp_id})).filter(Boolean)),[_.yH.fulfilled.type,Q.NT.fulfilled.type].includes(n.type)&&(ee.compIds=n.payload.marketing_page_content.map((function(e){return e.content.comp_id})).filter(Boolean)),n.type===T.t.fulfilled.type&&(ee.authorId=n.payload.author_id,ee.collectionId=n.payload.collection_id);var b=e.getState().user;return null!==(o=ee.compIds)&&void 0!==o&&o.length&&(ee.authorId&&ee.collectionId||ee.shotId||ee.editorPageId)&&null!==(a=b.info.data)&&void 0!==a&&a.user_id&&!b.userApiKeys.loading&&!te&&e.dispatch((0,B.$)({params:ee,apiKeys:K,envKeys:$})),n.payload.components?t(X(X({},n),{},{payload:X(X({},n.payload),{},{components:ne})})):t(n)}}},oe=[].concat((0,r.Z)((0,o.Bx)({serializableCheck:{ignoredActions:["widgets/updateContentState"]}})),[p.Z,k,l,m,O,q,F,re]),ae=(0,o.xC)({reducer:a.ZP,middleware:oe,devTools:!1});n.g.store=ae;var ie=ae},11616:function(e,t,n){n.d(t,{S:function(){return c}});var r=n(93586),o=n(64537);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=Symbol("Call API");t.Z=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e[c];if("undefined"===typeof t)return!1;var n=t.endpoint;if(!n)return!1;if("string"!==typeof n)throw new Error("endpoint should be type string, but get ".concat(n));return!0}(t))return e(t);var n=t[c],r=n.endpoint,a=n.getHeaders,s=n.queryParams,u=n.apiMethod,d=(0,o.Z)(n,["endpoint","getHeaders","queryParams","apiMethod"]),l="";if(s&&"object"===typeof s){var p=Object.keys(s);if(p.length>0){var f=p.map((function(e){return"".concat(encodeURI(e),"=").concat(encodeURI(s[e]))}));l="?".concat(f.join("&"))}}return e({AJAX_CALL:i(i({},d),{},{url:"/api/".concat(r).concat(l),type:u||"GET",getHeaders:a})})}}}},15644:function(e,t,n){n.d(t,{wW:function(){return f},OK:function(){return v},B7:function(){return y}});var r,o=n(93586),a=n(20767),i=n(27913),c=n(74237);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={},l=(0,a.oM)({name:"editorPageSummary",initialState:d,reducers:{editorPageSummaryChange:function(e,t){var n=t.payload;return u(u({},e),n)},saveAPIKey:function(e,t){var n,r=t.payload.apiKey,o=r.id,i=void 0===o?"":o,c=r.key,s=void 0===c?"":c,u=r.value,d=void 0===u?"":u,l=r.useAsDefault,p=void 0!==l&&l,f=r.urlText,v=void 0===f?"":f,y=r.helpText,O=void 0===y?"":y,g=r.isUrl,b=void 0!==g&&g,m=s,h=null!==(n=null===e||void 0===e?void 0:e.api_keys)&&void 0!==n?n:[],j={id:i||(0,a.x0)(),key:s,name:m,value:d,urlText:v,helpText:O,useAsDefault:p,isUrl:b},P=h.findIndex((function(e){return e.id===i}));-1!==P?e.api_keys[P]=j:e.api_keys.push(j)},removeAPIKey:function(e,t){var n=t.payload,r=(null===e||void 0===e?void 0:e.api_keys).findIndex((function(e){return e.id===n.id}));if(-1===r)return e;e.api_keys.splice(r,1)}},extraReducers:(r={},(0,o.Z)(r,c.yH.fulfilled.type,(function(e,t){var n=t.payload;return{marketing_page_title:n.marketing_page_title||"",tags:n.tags||"",marketing_page_url:n.marketing_page_url||"",canonical_url:n.canonical_url||"",marketing_page_summary:n.marketing_page_summary||"",author_name:n.author_name||"",author_email:n.author_email||"",author_email_full_name:n.author_email_full_name||"",profile_image_serving_url:n.profile_image_serving_url||"",author_id:n.author_id||"",published_date:n.published_date||"",api_keys:JSON.parse(n.api_keys||"[]"),redirect_url:n.redirect_url||"",marketing_page_cta:n.marketing_page_cta||"",marketing_page_version:n&&(!n.marketing_page_version&&1!==Object.keys(n).length||"v1"===n.marketing_page_version)?"v1":"v2",marketing_page_cta_type:n.marketing_page_cta_type||"",marketing_page_cta_hubspot_modal:n.marketing_page_cta_hubspot_modal||{},marketing_page_cover_shadow:n.marketing_page_cover_shadow||!1,marketing_page_cta_redirect_url:n.marketing_page_cta_redirect_url||"",marketing_page_summary_background:n.marketing_page_summary_background||""}})),(0,o.Z)(r,i.oh.clear.type,(function(e){return d})),r)});t.ZP=l.reducer;var p=l.actions,f=p.editorPageSummaryChange,v=p.saveAPIKey,y=p.removeAPIKey},56651:function(e,t,n){n.d(t,{I:function(){return y}});var r,o=n(93586),a=n(20767),i=n(27913),c=n(32653),s=n(51127),u=n(27644),d=n(73777);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={},v=(0,a.oM)({name:"pageSummary",initialState:f,reducers:{change:function(e,t){var n=t.payload;return p(p({},e),n)}},extraReducers:(r={},(0,o.Z)(r,c.w.fulfilled.type,(function(e,t){return t.payload.summary||{}})),(0,o.Z)(r,s.x.fulfilled.type,(function(e,t){return t.payload.summary||{}})),(0,o.Z)(r,u.D.fulfilled.type,(function(e,t){return t.payload.summary||{}})),(0,o.Z)(r,d.m.fulfilled.type,(function(e,t){return t.payload.summary||{}})),(0,o.Z)(r,i.oh.clear.type,(function(e){return f})),r)});t.Z=v.reducer;var y=v.actions},79269:function(e,t,n){n.d(t,{k:function(){return p}});var r,o=n(93586),a=n(20767),i=n(27913),c=n(55532);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={},l=(0,a.oM)({name:"shotSummary",initialState:d,reducers:{change:function(e,t){var n=t.payload;return u(u({},e),n)}},extraReducers:(r={},(0,o.Z)(r,c.T.fulfilled.type,(function(e,t){return t.payload})),(0,o.Z)(r,i.oh.clear.type,(function(e){return d})),(0,o.Z)(r,c.T.updateShotTags.type,(function(e,t){var n=t.payload;e.tags=n})),r)});t.Z=l.reducer;var p=l.actions},7742:function(e,t,n){n.d(t,{i:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"affiliate/catalog-data",initialState:l,reducers:p});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e,t,n){return(0,r.Z)({},a.S,{types:f.actions,endpoint:"affiliate/".concat(n,"/catalog-data"),apiMethod:"POST",data:{start_date:e,end_date:t},postProcess:function(e){return{sales:(0,i.Z)(JSON.parse(e))}}})}})},513:function(e,t,n){n.d(t,{N:function(){return o}});var r=(0,n(20767).oM)({name:"ajaxMode",initialState:{enabled:!0},reducers:{set:function(e,t){var n=t.payload;e.enabled=n}}});t.Z=r.reducer;var o=r.actions},33714:function(e,t,n){n.d(t,{zD:function(){return l},ZH:function(){return p}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767),c=(0,o.Z)(),s=c.initialState,u=c.reducers,d=(0,i.oM)({name:"allCollaborators",initialState:s,reducers:u});t.ZP=d.reducer;var l=function(e,t,n){return(0,r.Z)({},a.S,{types:d.actions,endpoint:"author/".concat(e,"/collection/").concat(t,"/collaborators"),postProcess:JSON.parse,queryParams:{considerSelf:n}})},p=d.actions.clear},32051:function(e,t,n){n.d(t,{zD:function(){return D},hh:function(){return k},ZH:function(){return x},_F:function(){return T},Tk:function(){return I},yB:function(){return C}});var r=n(88753),o=n.n(r),a=n(52198),i=n(64537),c=n(93586),s=n(10047),u=n(11616),d=n(49227),l=n(84283),p=n(16962),f=n(12006),v=n(20767);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=(0,s.Z)(),b=g.initialState,m=g.reducers,h=(0,v.oM)({name:"articleRevisions",initialState:b,reducers:O(O({},m),{},{selectedSnapshotChanged:function(e,t){var n=t.payload;n&&e.loaded&&e.data&&(e.data.selectedSnapshot=n)},selectedRevisionChanged:function(e,t){var n=t.payload;n&&e.loaded&&e.data&&(e.data.selectedRevision=n)},updateSnapShotTitle:function(e,t){var n=t.payload,r=n.snapshots,o=n.revisionId;r&&e.loaded&&e.data.revisions[o]&&(e.data.revisions[o].snapshots=r)}})});function j(e,t,n,r){return null!==r?"author/".concat(e,"/collection/").concat(t,"/page/").concat(n,"/revision/").concat(r,"/snapshots"):"author/".concat(e,"/collection/").concat(t,"/page/").concat(n,"/revisions")}t.ZP=h.reducer;var P=function(e){return e().author.articleRevisions.data||null};function S(e,t){var n=P(t);if(!n)return"";if(null!==e){var r=n.revisions[e];return r.nextCursor?r.nextCursor:""}return n.nextCursor}var _=function(e){var t=e.created,n=(0,i.Z)(e,["created"]);return O({created:new Date(t)},n)},w=function(e){return e?e.reduce((function(e,t){return O(O({},e),{},(0,c.Z)({},t.revision_id,function(e){var t=e.last_modified,n=e.revision_id,r=e.is_draft,o=(0,i.Z)(e,["last_modified","revision_id","is_draft"]);return O({lastModified:new Date(t),revisionId:parseInt(n,10),isDraft:r},o)}(t)))}),{}):{}},Z=function(e,t){return function(n){var r=JSON.parse(n);return null===e?function(e,t){var n=P(t),r=e.has_more,o=e.next_cursor,a=e.revisions,c=(0,i.Z)(e,["has_more","next_cursor","revisions"]);if(!n)return O({hasMore:r,nextCursor:o,revisions:w(a)},c);var s=n.revisions;return O(O({},(0,i.Z)(n,["revisions"])),{},{hasMore:r,nextCursor:o,revisions:O(O({},s),w(a))},c)}(r,t):function(e,t,n){var r=P(n),o=t.has_more,a=t.next_cursor,s=t.snapshots,u=(0,i.Z)(t,["has_more","next_cursor","snapshots"]),d=s.map(_);if(!r)return{hasMore:!0,nextCursor:"",revisions:(0,c.Z)({},e,O({revisionId:e,lastModified:new Date,nextCursor:a,hasMore:o,snapshots:d},u))};var l=r.revisions[e],p=O({},r.revisions),f=(r.revisions,(0,i.Z)(r,["revisions"])),v=l.snapshots,y=(0,i.Z)(l,["snapshots"]);return p[e]=O(O({},y),{},{hasMore:o,nextCursor:a,snapshots:v?v.concat(d):d},u),O(O({},f),{},{revisions:p})}(e,r,t)}},D=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return function(i,s){return i((0,c.Z)({},u.S,{types:h.actions,endpoint:j(e,t,n,o),postProcess:Z(o,s),queryParams:{page_size:d.Us,start_cursor:S(o,s),id_whitelist:JSON.stringify(a),document_type:r}}))}},k=function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(p.n.show(f.ad,{status:"WAIT",text:"Saving Title"})),a=(0,l.Z)({url:"/api/collection/snapshot_name/".concat(e),type:"PUT",data:{title:t}}).then((function(){return r(p.n.update({status:"SUCCESS",text:"Title saved successfully"})),!0})).catch((function(e){var t=e.responseText,n="Unable to Save Changes";try{var o,a=null===(o=JSON.parse(t).errors)||void 0===o?void 0:o.title,i="Field cannot be longer than 20 characters.";a===i&&(n=i)}finally{return r(p.n.update({status:"ERROR",text:n})),!1}})),n.abrupt("return",a);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=h.actions,x=E.clear,T=E.updateSnapShotTitle,I=E.selectedRevisionChanged,C=E.selectedSnapshotChanged},9430:function(e,t,n){n.d(t,{zD:function(){return l},ZH:function(){return p}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767),c=(0,o.Z)(),s=c.initialState,u=c.reducers,d=(0,i.oM)({name:"author/articleSnapshot/properties",initialState:s,reducers:u});t.ZP=d.reducer;var l=function(e,t,n){return(0,r.Z)({},a.S,{types:d.actions,endpoint:"author/".concat(e,"/collection/").concat(t,"/page/snapshot/props"),postProcess:JSON.parse,queryParams:{key:n}})},p=d.actions.clear},60003:function(e,t,n){n.d(t,{ds:function(){return I},Ol:function(){return U},ms:function(){return R},Lo:function(){return W},Kd:function(){return G},Us:function(){return z},IM:function(){return Q}});var r=n(32868),o=n(88753),a=n.n(o),i=n(52198),c=n(93586),s=n(10047),u=n(11616),d=n(20767),l=n(98742),p=n(32413),f=n(49227),v=n(34560),y=n(16962),O=n(12006),g=n(98411),b=n(44124),m=n(17279),h=n(54758),j=n(51945),P=n(90337),S=n(63021),_=n(84283),w=n(80944),Z=n(10980),D=n(33212);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={categories:[JSON.parse(JSON.stringify(new l.Z(!0,!1,!1,f.j1.ASSESSMENT_CATEGORY)))]},T=function(e,t){return e.findIndex((function(e){return e.id===t}))},I={text:"",mdHtml:""},C=(0,s.Z)(),N=C.initialState,A=C.reducers,M=(0,d.oM)({name:"assessment",initialState:E(E({},N),{},{question:null}),reducers:E(E({},A),{},{updateAssessmentTitle:function(e,t){var n=t.payload;e.data.title=n,e.data.dirty=!0},updatePublishStatus:function(e,t){var n=t.payload;e.data.is_published=n},setDirty:function(e,t){var n=t.payload;e.data.dirty=n},updateAssessmentTimeLimit:function(e,t){var n=t.payload;e.data.time_limit=n,e.data.dirty=!0},updateAssessmentMaxAttempts:function(e,t){var n=t.payload;e.data.max_attempts=n,e.data.dirty=!0},updateAssessmentPassPercentage:function(e,t){var n=t.payload;e.data.pass_percentage=n,e.data.dirty=!0},updateEnterpriseAssessmentCriteria:function(e,t){var n=t.payload;e.data.pass_percentage=n,e.data.pass_percentage&&"0"!==e.data.pass_percentage?e.data.grading_criteria=f.$8.BINARY:e.data.grading_criteria=f.$8.UNGRADED,e.data.dirty=!0},updateAssessmentGradingCriteria:function(e,t){var n=t.payload;e.data.grading_criteria=n,e.data.dirty=!0},updateAssessmentSummary:function(e,t){var n=t.payload;e.data.summary=n,e.data.dirty=!0},updatePreparationWorks:function(e,t){var n=t.payload;e.data.preparation_works=n,e.data.dirty=!0},updateAssessmentContent:function(e,t){var n=t.payload;e.data.assessment_content=n,e.data.dirty=!0},addUserDataResourceFile:function(e,t){var n=t.payload;e.data.udata_files.push(n),e.data.dirty=!0},updateUserDataResourceFile:function(e,t){var n=t.payload,r=n.payload,o=n.index;e.data.udata_files[o]=E(E({},e.data.udata_files[o]),r),e.data.dirty=!0},removeUserDataResourceFile:function(e,t){var n=t.payload.index;e.data.udata_files.splice(n,1),e.data.dirty=!0},addCategory:function(e,t){var n,r,o=t.payload,a=o.index,i=o.parentIndex,c=o.title,s=function(e){return"__default"===(null===e||void 0===e?void 0:e[0].title)}(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories),u=e.data.is_skill_assessment;s?(e.data.toc.categories[0].title=c||"Untitled ".concat(u?"set":"category"),e.data.toc.categories[0].editMode=!c):function(e,t,n,r,o,a){var i=e.toc.categories;if(i.forEach((function(e){return e.editMode=!1})),void 0!==o){var c=i[o].pages,s=c.splice(r+1),u=c=c.slice(0,r+1),d=new l.Z(!1,t,!1,f.j1.ASSESSMENT_CATEGORY,void 0,void 0,void 0,a);(d=JSON.parse(JSON.stringify(d))).pages=s,i[o].pages=u,i.splice(o+1,0,d)}else{var p=new l.Z(!1,t,n,f.j1.ASSESSMENT_CATEGORY,void 0,void 0,void 0,a);p=JSON.parse(JSON.stringify(p)),i.push(p)}}(e.data,!c,!1,a,i,c),e.data.dirty=!0},addQuestion:function(e,t){var n,r,o=t.payload,a=o.category_id,i=o.question,c=o.index;!function(e,t,n,r){var o,a,i,c,s=t.question_id;if(null==r){var u,d,l,v,y=new p.Z(parseInt(s),f.qe.ASSESSMENT_QUESTION);null===e||void 0===e||null===(u=e.data)||void 0===u||null===(d=u.toc)||void 0===d||null===(l=d.categories)||void 0===l||null===(v=l[n])||void 0===v||v.pages.push(JSON.parse(JSON.stringify(y)))}else null===e||void 0===e||null===(o=e.data)||void 0===o||null===(a=o.toc)||void 0===a||null===(i=a.categories)||void 0===i||null===(c=i[n])||void 0===c||c.pages.splice(r+1,0,JSON.parse(JSON.stringify(new p.Z(parseInt(s),f.qe.ASSESSMENT_QUESTION))))}(e,i,T(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,a),c),e.data.dirty=!0},updateCategoryTitle:function(e,t){var n,r,o=t.payload,a=o.title,i=o.id,c=T(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,i);e.data.toc.categories[c].title="__default"!==a?a:"",e.data.toc.categories[c].editMode=!1,e.data.dirty=!0},toggleQuestionSet:function(e,t){var n=t.payload.id,r=T(e.data.toc.categories,n);e.data.toc.categories[r].excludeSet=!e.data.toc.categories[r].excludeSet,e.data.toc.categories[r].editMode=!1,e.data.dirty=!0},updateQuestionTitle:function(e,t){var n=t.payload,r=n.categoryId,o=n.questionId,a=n.title;if(e.data){if(r){var i=T(e.data.toc.categories,r),c=T(e.data.toc.categories[i].pages,o);e.data.toc.categories[i].pages[c].title=a,e.data.toc.categories[i].pages[c].editMode=!1}e.data.dirty=!0}},moveCategory:function(e,t){var n,r,o,a=t.payload,i=a.from,c=a.to,s=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r||null===(o=r.categories)||void 0===o?void 0:o[i.itemIndex];e.data.toc.categories.splice(i.itemIndex,1),e.data.toc.categories.splice(c.itemIndex,0,s),e.data.dirty=!0},moveQuestionWithinOrigin:function(e,t){var n,r,o,a,i=t.payload,c=i.from,s=i.to,u=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r||null===(o=r.categories)||void 0===o||null===(a=o[c.parentIndex])||void 0===a?void 0:a.pages;u.splice(s.itemIndex,0,u.splice(c.itemIndex,1)[0]),e.data.dirty=!0},moveQuestionToNotEmptyCategory:function(e,t){var n,r=t.payload,o=r.from,a=r.to,i=null===e||void 0===e||null===(n=e.data.toc)||void 0===n?void 0:n.categories;i[a.parentIndex].pages.splice(a.itemIndex,0,i[o.parentIndex].pages.splice(o.itemIndex,1)[0]),e.data.dirty=!0},removeQuestion:function(e,t){var n,r,o,a,i,c,s=t.payload,u=s.category_id,d=s.article_id,l=T(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,u),p=T(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(a=o.toc)||void 0===a||null===(i=a.categories)||void 0===i||null===(c=i[l])||void 0===c?void 0:c.pages,d);e.data.toc.categories[l].pages.splice(p,1),e.data.dirty=!0},removeCategory:function(e,t){var n,r,o,a,i,c=t.payload.id,s=T(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,c);e.data.toc.categories.splice(s,1),null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&null!==(a=o.toc)&&void 0!==a&&null!==(i=a.categories)&&void 0!==i&&i.length||(e.data.toc=x),e.data.dirty=!0},setQuestion:function(e,t){var n,r=t.payload;e.question=function(e,t){var n;return E(E({},e),{},{content:E(E({},e.content),{},{questionStatement:(null===(n=e.content)||void 0===n?void 0:n.questionStatement)||I}),skills:((null===e||void 0===e?void 0:e.skills)||[]).filter((function(e){return(null===t||void 0===t?void 0:t.indexOf(e))>=0}))})}(r.data,null===(n=e.data)||void 0===n?void 0:n.skills),e.question[v.Zq]=r[v.Zq]},setRestoredQuestion:function(e,t){var n=t.payload;e.question&&(e.question.content=n.data.content,e.question.protected_content=n.data.protected_content,e.question.question_type=n.data.question_type,e.question.difficulty=n.data.difficulty,e.question.relevant_lessons=n.data.relevant_lessons,e.question.skills=n.data.skills,e.question.snapshot_loaded=!0)},clearRestoredQuestion:function(e){e.question&&(e.question.content=null,e.question.protected_content=null,e.question.question_type=null,e.question.difficulty=null,e.question.snapshot_loaded=!1)},updateQuestionData:function(e,t){var n=t.payload;e.question.content=n.content,e.question.protected_content=n.protected_content,e.question.question_type=n.question_type,e.question.difficulty=n.difficulty,e.question.skills=n.skills,e.question.relevant_lessons=n.relevant_lessons,e.question.dirty=!0,e.question.topics=n.topics},updateQuestionType:function(e,t){var n=t.payload;e.question.question_type=n},moveChoices:function(e,t){var n=t.payload,r=n.from,o=n.to;if(n.assessmentType===f.Q5.QUESTIONNAIRE){var a,i,c,s=null===e||void 0===e||null===(a=e.question)||void 0===a||null===(i=a.content)||void 0===i||null===(c=i.choices)||void 0===c?void 0:c[r];e.question.content.choices.splice(r,1),e.question.content.choices.splice(o,0,s)}else{var u,d,l=e.question.content.widgetContent.content.statements[0][r];e.question.content.widgetContent.content.statements[0][r]=e.question.content.widgetContent.content.statements[0][o],e.question.content.widgetContent.content.statements[0][o]=l,(null===(u=e.question)||void 0===u?void 0:u.protected_content.answers[0])===r?e.question.protected_content.answers[0]=o:(null===(d=e.question)||void 0===d?void 0:d.protected_content.answers[0])===o&&(e.question.protected_content.answers[0]=r)}e.question.dirty=!0},updateChoiceData:function(e,t){var n=t.payload,r=n.choice,o=n.id;e.question.content.choices[o]=r},updatePlanDetails:function(e,t){var n=t.payload,r=n.plan_details,o=n.id;e.question.content.choices[o].plan_details=r,e.question.dirty=!0},addChoice:function(e,t){var n,r=t.payload.choice;e.question.content.choices=null!==(n=e.question.content.choices)&&void 0!==n?n:[],e.question.content.choices.push(r),e.question.dirty=!0},removeChoice:function(e,t){var n=t.payload.index;e.question.content.choices.splice(n,1),e.data.dirty=!0},duplicateChoice:function(e,t){var n=t.payload.index;e.question.content.choices.splice(n+1,0,e.question.content.choices[n]),e.data.dirty=!0},updateChoiceName:function(e,t){var n=t.payload,r=n.index,o=n.name;e.question.content.choices[r].name=o,e.data.dirty=!0},updateChoiceNextQuestion:function(e,t){var n=t.payload,r=n.index,o=n.value;e.question.content.choices[r].next_question_id="end"!==o?o:null,e.question.content.choices[r].is_terminating_choice="end"===o,e.data.dirty=!0},addChoiceModule:function(e,t){var n=t.payload,r=n.index,o=n.module_key;e.question.content.choices[r].linked_modules.push(o),e.data.dirty=!0},removeChoiceModule:function(e,t){var n=t.payload,r=n.index,o=n.module_key;e.question.content.choices[r].linked_modules=e.question.content.choices[r].linked_modules.filter((function(e){return e!==o})),e.data.dirty=!0},updateQuestionETag:function(e,t){var n,r=t.payload;e.question=null!==(n=e.question)&&void 0!==n?n:null,e.question[v.Zq]=r[v.Zq],r.saved&&(e.question.dirty=!1,e.question.modified=(new Date).toISOString())},updateQuestionUsageMap:function(e,t){var n=t.payload;e.data.question_usage_map=n},postAssessmentSave:function(e,t){var n=t.payload;e.data[v.Zq]=n,e.data.dirty=!1},clearQuestion:function(e){e.question=null},updateProgress:function(e,t){var n=t.payload;e.question&&(e.question.progress=n)}})});t.ZP=M.reducer;var U=E(E({},M.actions),{},{load:function(e){var t=e.author_id,n=e.collection_id,r=e.assessment_id,o=e.course_url_slug,a=void 0===o?"":o,i=e.page_url_slug,s=void 0===i?"":i,d=e.mode,l=e.assessment_type,p=void 0===l?f.Q5.REGULAR:l;return function(e){var o=a&&s?"".concat(p===f.Q5.SKILL_ASSESSMENT?"skill-assessment":"assessment","/").concat(a,"/").concat(s):"".concat(p===f.Q5.SKILL_ASSESSMENT?"skill-assessment":"assessment","/").concat(t,"/").concat(n,"/").concat(r),i="author/".concat(t,"/collection/").concat(n,"/assessment/").concat(r).concat(p===f.Q5.QUESTIONNAIRE?"?assessment_type=questionnaire":""),l="view"===d||"compare"===d?o:i;return e((0,c.Z)({},u.S,{types:M.actions,endpoint:l,postProcess:q,getHeaders:!0})).then((function(t){return t&&(e(U.updateETag(t.xhr.headers.get(v.Zq))),p===f.Q5.SKILL_ASSESSMENT&&e(U.loadSkillAssessmentQuestions(t))),t}))}},save:function(e){var t=e.assessment;return function(e){return(0,m.jx)(L(t)).then((function(t){if(t&&(e(U.postAssessmentSave(t.xhr.headers.get(v.Zq))),t.data)){var n=JSON.parse(t.data).question_usage_map;n&&e(U.updateQuestionUsageMap(n))}}))}},prepareDockerOnSetAssessment:function(e){return function(){var t=(0,i.Z)(a().mark((function t(n){var r,o,i,c,s,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null!==e&&void 0!==e&&e.docker?E(E({},e.docker),{},{envs:null!==(r=e.docker.envs)&&void 0!==r?r:[]}):h.s4,t.next=3,(0,j.wi)();case 3:c=t.sent,s=E(E({},i),{},{container:E(E({},i.container),{},{liveInstance:c})}),n(P.ry.setObject(s)),u=null!==e&&void 0!==e&&e.testing_docker?E(E({},e.testing_docker),{},{envs:null!==(o=e.testing_docker.envs)&&void 0!==o?o:[]}):h.s4,n(S.hT.setObject(u));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveQuestion:function(e){var t=e.question,n=e.assessment_type;return function(e){return(0,m.Us)(B(t),n).then((function(t){var n;if(t&&(e(U.updateQuestionETag((n={},(0,c.Z)(n,v.Zq,t.xhr.headers.get(v.Zq)),(0,c.Z)(n,"saved",!0),n))),t.data)){var r=JSON.parse(t.data).question_usage_map;r&&e(U.updateQuestionUsageMap(r))}}))}},loadSkillAssessmentQuestions:function(e){return function(t){if(e){var n,r=null===(n=JSON.parse(e.data))||void 0===n?void 0:n.question_content;if(r)return t(U.setQuestion((0,c.Z)({data:r},v.Zq,e.xhr.headers.get(v.Zq)))),r}}},loadQuestion:function(e){return function(t){return(0,m.TV)(e).then((function(e){if(null!==e&&void 0!==e&&e.data){var n=JSON.parse(e.data);return t(U.setQuestion((0,c.Z)({data:n},v.Zq,e.xhr.headers.get(v.Zq)))),n}}))}},loadQuestionSnapshot:function(e,t,n,r){return function(n){return(0,m.Gm)(e,t,r,f.qe.ASSESSMENT_QUESTION).then((function(e){if(null!==e&&void 0!==e&&e.data){var t=JSON.parse(e.data);return n(U.setRestoredQuestion({data:t})),t}}))}}}),R=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(t,o){n&&t(n);var a=o().assessment.data.assessment_type===f.Q5.QUESTIONNAIRE;return t(y.n.show(O.ad,{status:"WAIT",text:"Saving ".concat(a?"Questionnaire":"Assessment")})),t(U.save({assessment:E(E({},o().assessment.data),{},{docker:JSON.stringify((0,h.qZ)(o().dockerDetails)),testing_docker:JSON.stringify((0,h.qZ)(o().testingDockerDetails))})})).then((function(){r&&t(y.n.show(O.ad,{status:"SUCCESS",text:"".concat(a?"Questionnaire":"Assessment"," saved")}))})).catch((function(r){var o;(0,g.rU)(r,t);var i=null===r||void 0===r||null===(o=r.responseJSON)||void 0===o?void 0:o.errorText;r.status===b.Wy.AlreadyExistsException&&i===b.pX.versionOutDatedMessage?t(V((function(){t(U.updateETag(f.Fh)),t(e(void 0,n))}))):t(y.n.show(O.ad,{status:"ERROR",text:(0,g.nU)(r)||"Failed to save ".concat(a?"questionnaire":"assessment")}))}))}},q=function(e){var t=e.data,n=JSON.parse(t),r=n.toc;return Object.keys(r).length||(n=E(E({},n),{},{toc:x,dirty:!1})),n},L=function(e){var t=e.udata_files.map((function(e){return e.file_id}));t=JSON.stringify(t);var n=JSON.stringify(e.toc),r=e.pass_percentage?parseFloat(e.pass_percentage):0;return E(E({},e),{},{udata_files:t,toc:n,pass_percentage:r,dirty:!1,concept_list:(0,Z.e)([e.summary])})},J=function(e){return function(){var t=(0,i.Z)(a().mark((function t(n,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=(0,i.Z)(a().mark((function t(o,i){var c,s,u,d,l,p,v,y,O;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,c=e.content.widgetContent,s=c,u=0;case 4:if(!(u<(null===(d=c.content)||void 0===d?void 0:d.options.length))){t.next=16;break}if((y=null===(l=c.content)||void 0===l?void 0:l.options[u]).blockType!==f.$W.IMAGE||null!==(p=y.content)&&void 0!==p&&null!==(v=p.data)&&void 0!==v&&v.image_id){t.next=13;break}return t.next=9,(0,w.i1)({author_id:r().assessment.data.author_id,collection_id:r().assessment.data.collection_id,page_id:e.question_id});case 9:return O=t.sent,t.next=12,F(s,O,u);case 12:s=t.sent;case 13:u++,t.next=4;break;case 16:n(U.updateQuestionData(E(E({},e),{},{content:E(E({},e.content),{},{widgetContent:s})}))),o(),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),i(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},F=function(){var e=(0,i.Z)(a().mark((function e(t,n,r){var o,i,c,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.parse(n),t=E(E({},t),{},{content:E(E({},t.content),{},{options:t.content.options.map((function(e,t){return e.blockType===f.$W.IMAGE&&t===r?E(E({},e),{},{content:E(E({},e.content),{},{data:E(E({},e.content.data),{},{image_id:o.image_id})})}):e}))})}),i=o.upload_url,e.next=5,fetch(t.content.options[r].content.data.file).then((function(e){return e.blob()}));case 5:return c=e.sent,URL.revokeObjectURL(t.content.options[r].content.data.file),e.next=9,(0,w.iL)({upload_url:i,file:c});case 9:return delete t.content.options[r].content.data.file,s=t.content.options.map((function(e,t){return e.blockType===f.$W.IMAGE&&t===r?E(E({},e),{},{content:E(E({},e.content),{},{data:E(E({},e.content.data),{},{image_id:o.image_id,file:null})})}):e})),e.abrupt("return",E(E({},t),{},{content:E(E({},t.content),{},{options:s})}));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),B=function(e){var t,n,o,a=[];"AssessmentFreeText"===e.question_type?a=(0,Z.e)([].concat((0,r.Z)(null===e||void 0===e||null===(t=e.protected_content)||void 0===t?void 0:t.answers),[null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.questionStatement])):a=(0,Z.e)([null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.questionStatement]);return E(E({},e),{},{concept_list:a})},H=function(e,t,n){return function(){var r=(0,i.Z)(a().mark((function r(o,i){var c,s,u,d,l;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=i().assessment.question.content.choices[n],t=JSON.parse(t),u=(s=t).image_id,d=s.upload_url,e=E(E({},e),{},{image_id:u}),l=e.cover_image,r.next=7,(0,w.iL)({upload_url:"".concat(d,"?course_type=").concat(f.dL.QUESTIONNAIRE),file:l});case 7:delete e.cover_image,o(U.updateChoiceData({choice:E(E({},c),{},{plan_details:E(E({},c.plan_details),{},{image:e})}),id:n}));case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},W=function(e){return function(t,n){return new Promise((function(r,o){var c=n().assessment.question.content.choices,s=[];e.forEach((function(e){var n=c[e].plan_details.image;s.push(t(function(e,t){return function(){var n=(0,i.Z)(a().mark((function n(r,o){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=(0,i.Z)(a().mark((function n(i,c){var s,u,d;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s=o().assessment.data.author_id,u=o().assessment.data.collection_id,n.next=5,(0,m.p9)(s,u,f.dL.QUESTIONNAIRE);case 5:return d=n.sent,n.next=8,r(H(e,d,t));case 8:i(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),c(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(n,e)))})),Promise.all(s).then((function(){r()})).catch((function(){o()}))}))}},G=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var r=(0,i.Z)(a().mark((function r(o,i){var s;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&o(t),"AssessmentPermutation"!==(s=i().assessment.question).question_type||!s.content.widgetContent.content.options.some((function(e){var t,n;return e.blockType===f.$W.IMAGE&&!(null!==(t=e.content)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.image_id)}))){r.next=6;break}return n&&o(y.n.show(O.ad,{status:"WAIT",text:"Uploading Images"})),r.next=6,o(J(s));case 6:return n&&o(y.n.show(O.ad,{status:"WAIT",text:"Saving Question"})),r.abrupt("return",o(U.saveQuestion({question:i().assessment.question,assessment_type:i().assessment.data.assessment_type})).then((function(){n&&o(y.n.show(O.ad,{status:"SUCCESS",text:"Question saved"}))})).catch((function(r){var a,i=null===r||void 0===r||null===(a=r.responseJSON)||void 0===a?void 0:a.errorText;r.status===b.Wy.AlreadyExistsException&&i===b.pX.versionOutDatedMessage?o(V((function(){o(U.updateQuestionETag((0,c.Z)({},v.Zq,f.Fh))),o(e(t))}))):n&&o(y.n.show(O.ad,{status:"ERROR",text:"Failed to save question"}))})));case 8:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},z=function(e,t,n,r,o){return function(a){var i=r.file.name.split(" ").join("-"),c="/api/author/".concat(e,"/collection/").concat(t,"/containers/").concat(i,"/get_upload_url?assessment_id=").concat(n,"&docker_type=").concat(o.toLowerCase());return(0,_.Z)({url:c,type:"GET"}).then(JSON.parse).then((function(e){var t=e.gcs_object_name,n=e.container_id,c=void 0===n?-1:n,s=e.blob_upload_url,u=e.upload_success_url,d=e.build_status_url,l=e.tarball_download_url,p=e.build_log_url,f=e.rebuild_image_url,v=o===D.a5.TESTING?S.hT:P.ry;return a(v.setFile(E(E({},r),{},{id:c,buildStatusUrl:d,tarballDownloadUrl:l,buildLogUrl:p,rebuildImageUrl:f,file:{name:i,size:r.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return(0,_.Z)({url:u,type:"POST",data:{gcs_object_name:t}},!0)},upload:function(){return(0,_.Z)({url:s,type:"POST",data:r.file,processData:!1,contentType:r.file.type})}}})).catch((function(e){console.log(e)}))}},Q=function e(t){var n=t.upload,r=t.onUploadSuccess,o=t.dockerType;return function(t){var c=o===D.a5.TESTING?S.hT:P.ry;return t(c.updateBuildStatus("UPLOADING")),n().then((function(){return r()})).then((function(e){return JSON.parse(e.data)})).then(function(){var e=(0,i.Z)(a().mark((function e(n){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.image_name,o=void 0===r?"default_name":r,t(R(void 0,c.afterFileUpload(o))),t(y.n.show(O.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(a){500!==a.status?(console.log("error while uploading docker file",a),t(c.updateBuildStatus("FAILURE")),t(y.n.show(O.ad,{status:"ERROR",text:"Uploading Docker File failed"}))):t(e({upload:n,onUploadSuccess:r,dockerType:o}))}))}},V=function(e){return function(t){t(y.n.close()),t(y.n.show(O.zN,{onConfirm:e,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}}},15593:function(e,t,n){n.d(t,{y:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"author/course-catalog",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(e,t,n){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"author/".concat(e,"/collection/").concat(t,"/catalog-data"),apiMethod:"POST",data:n,postProcess:JSON.parse})}})},3102:function(e,t,n){n.d(t,{_k:function(){return w},H:function(){return D},WR:function(){return k},tY:function(){return E},He:function(){return x},EM:function(){return T},B4:function(){return I},qu:function(){return C},JL:function(){return N},i5:function(){return A},l1:function(){return M},j6:function(){return U},bP:function(){return R},d1:function(){return q},FM:function(){return L},$X:function(){return J}});var r=n(93586),o=n(10047),a=n(20767),i=n(34560),c=n(11616),s=n(16962),u=n(12006),d=n(27913),l=n(98411),p=n(44124),f=n(49227),v=n(10980),y=n(88448),O=n(84283),g=n(74156),b=n(96520);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,o.Z)(),P=j.initialState,S=j.reducers,_=(0,a.oM)({name:"cloudLab",initialState:h(h({},P),{},{dirty:!1}),reducers:h(h({},S),{},{clear:function(){return h(h({},P),{},{dirty:!1})},onSaveSuccess:function(e,t){var n=t.payload;e.data["X-ETag"]=n,e.dirty=!1},updateLabPrice:function(e,t){var n=t.payload;e.data.credit_cost=n},updateTitle:function(e,t){var n=t.payload;e.data.title=n,e.dirty=!0},updateTimeLimit:function(e,t){var n=t.payload;e.data.time_limit=n,e.dirty=!0},updateCloudProvider:function(e,t){var n=t.payload;e.data.cloud_provider=n,e.dirty=!0},updateSummary:function(e,t){var n=t.payload;e.data.summary=n,e.dirty=!0},updateLandingPageContent:function(e,t){var n=t.payload;e.data.landing_page_content=n,e.dirty=!0},updateContent:function(e,t){var n=t.payload;e.data.content=n.content,e.dirty=n.dirty},updatePolicy:function(e,t){var n=t.payload;e.data.policy=n.policy,e.dirty=!0,e.data.is_policy_valid=!1},updateSetupScript:function(e,t){var n=t.payload;e.data.setup_script=n.setup_script,e.dirty=!0},updateStatus:function(e,t){var n=t.payload;e.data.lab_status=n},updateIsPolicyValid:function(e,t){var n=t.payload;e.data.is_policy_valid=n.is_policy_valid}})});t.ZP=_.reducer;var w=h(h({},_.actions),{},{load:function(e){var t=e.authorId,n=e.collectionId,o=e.cloudLabId,a=e.course_url_slug,s=void 0===a?"":a,u=e.page_url_slug,d=void 0===u?"":u,l=e.mode,p=e.published,f=void 0!==p&&p;return function(e,a){var u=s&&d?"cloud-lab/".concat(s,"/").concat(d):"cloud-lab/".concat(t,"/").concat(n,"/").concat(o),p="view"===l,v=p?u:"author/".concat(t,"/collection/").concat(n,"/cloud-lab/").concat(o),y=f?{published:f}:{};return e(w.clear()),e((0,r.Z)({},c.S,{types:_.actions,endpoint:v,queryParams:y,postProcess:function(e){var t=e.data,n=JSON.parse(t);return n=h(h({},n),{},{is_policy_valid:!!n.policy})},getHeaders:!0})).then((function(t){t&&!p&&e(w.onSaveSuccess(t.xhr.headers.get(i.Zq)))}))}},save:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,o){n(s.n.show(u.ad,{status:"WAIT",text:"".concat(e?"Submitting":"Saving"," Cloud Lab")}));var a=(t?o().widgets:o().cloudLab.data.content)||{ids:[],entities:{}},c=JSON.stringify((0,v.D)(a.ids.map((function(e){return a.entities[e]})))),b=h(h({},o().cloudLab.data),{},{content:a,concept_list:c});return(0,O.Z)({url:"/api/author/".concat(b.author_id,"/collection/").concat(b.collection_id,"/cloud-lab/").concat(b.cloud_lab_id,"?submit=").concat(e),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(b),headers:(0,r.Z)({},i.Zq,b[i.Zq])},!0).then((function(r){r&&n(w.onSaveSuccess(r.xhr.headers.get(i.Zq))),!b.is_admin&&!e&&n(w.updateStatus(y.Lq.DRAFT)),e&&n(w.updateStatus(y.Lq.IN_ADMIN_REVIEW)),n(s.n.show(u.ad,{status:"SUCCESS",text:"Cloud Lab ".concat(e?"Submitted":"Saved")})),t&&(n(w.updateContent({content:a,dirty:!1})),n(d.oh.resetDirtyBit()),n(d.oh.resetMarkdownDirtyBit()))})).catch((function(e){var t;(0,l.rU)(e,n);var r=null===e||void 0===e||null===(t=e.responseJSON)||void 0===t?void 0:t.errorText;e.status===p.Wy.AlreadyExistsException&&r===p.pX.versionOutDatedMessage?n(Z((function(){n(w.updateETag(f.Fh)),n(w.save())}))):n(s.n.show(u.ad,{status:"ERROR",text:(0,g.ie)(e)||r||"Failed to save Cloud Lab"}))}))}},updateLabStatus:function(e){return function(t,n){t(s.n.show(u.ad,{status:"WAIT",text:"Updating Lab status"}));var r=h(h({},n().cloudLab.data),{},{new_lab_status:e,page_status:f.z.DRAFT_INSTANCE});return(0,O.Z)({url:"/api/editorial/cloud-lab/approval",contentType:"application/json",processData:!1,data:JSON.stringify(r),type:"PUT"}).then((function(){t(w.updateStatus(e)),t(s.n.show(u.ad,{status:"SUCCESS",text:"Lab status updated"}))})).catch((function(e){var n;(0,l.rU)(e,t),t(s.n.show(u.ad,{status:"ERROR",text:(null===e||void 0===e||null===(n=e.responseJSON)||void 0===n?void 0:n.errorText)||"Failed to update Lab"}))}))}},updateWidgetsContent:function(){return function(e,t){var n=t().widgets;(n.dirty||n.markdownDirty)&&e(w.updateContent({content:n,dirty:!0}))}}}),Z=function(e){return function(t){t(s.n.close()),t(s.n.show(u.zN,{onConfirm:e,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}},D="general-info",k="lab-config",E="lab-content",x="review-lab",T=[{id:D,title:"General Information",isCompleted:function(e){return e.title&&"Untitled Lab"!==e.title&&e.summary&&!!e.time_limit&&!!e.cloud_provider}},{id:k,title:"Lab Configuration",isCompleted:function(e){return e.is_policy_valid}},{id:E,title:"Lab Content",isCompleted:function(e){var t,n;return(null===(t=e.content)||void 0===t||null===(n=t.ids)||void 0===n?void 0:n.length)>0}},{id:x,title:"Review Lab",isCompleted:function(e){return e.lab_status===y.Lq.APPROVED}}],I=function(e,t){return(0,O.Z)({url:"/api/editorial/".concat(e.author_id,"/").concat(e.collection_id,"/").concat(e.cloud_lab_id,"/price"),type:"PUT",contentType:"application/json",processData:!1,data:JSON.stringify({credit_cost:t})})},C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,O.Z)({url:"/api/editorial/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/test-lab?published=").concat(r),type:"GET"})},N=function(e,t,n){return(0,O.Z)({url:"/api/editorial/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/test-lab"),type:"POST"})},A=function(e,t,n,r){return(0,O.Z)({url:"/api/editorial/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/test-lab"),type:"PUT",data:{policy:r}})},M=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,O.Z)({url:"/api/editorial/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/console?published=").concat(r),type:"GET"})},U=function(e,t,n,r){return(0,O.Z)({url:"/api/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/validate-policy"),type:"POST",data:{policy:r}})},R=function(e){var t=e.author_id,n=e.collection_id,r=e.cloud_lab_id;return(0,O.Z)({url:"/api/cloud-lab/".concat(t,"/").concat(n,"/").concat(r,"/lab-setup"),type:"POST"})},q=function(e,t,n,r){return(0,b.XC)({apiPromise:function(){return(0,O.Z)({url:"/api/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/lab-setup"),type:"GET"})},cb:function(e){if(e.status!==f.Ps.IN_PROGRESS)return r(e.status),!0},intervalTimeMS:15e3,maxRetries:40})},L=function(e,t,n,r){return(0,O.Z)({url:"/api/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/user-feedback"),type:"POST",data:r})},J=function(e,t,n){return(0,O.Z)({url:"/api/cloud-lab/".concat(e,"/").concat(t,"/").concat(n,"/user-feedback"),type:"GET"})}},39064:function(e,t,n){n.d(t,{F4:function(){return h},X5:function(){return T}});var r=n(32868),o=n(93586),a=n(64537),i=n(20767),c=n(98742),s=n(32413),u=n(49227),d=n(34560),l=n(80414),p=n(99583),f=n(19203),v=n(32467);function y(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=[u.j1.ASSESSMENT,u.j1.PROJECT,u.j1.EXTERNAL_ASSESSMENT,u.j1.EXTERNAL_PROJECT,u.j1.CLOUD_LAB],h=[{title:"beginner",value:"beginner"},{title:"intermediate",value:"intermediate"},{title:"advanced",value:"advanced"}],j=(0,i.oM)({name:"author/collection",initialState:{},reducers:{reset:function(){return{}},set:function(e,t){var n=t.payload;return(0,p.ZP)(n,(function(t){var n,r,o,a,i,c;t.instance.details.toc||(t.instance.details.toc={categories:[]}),t.instance.details.udata_files||(t.instance.details.udata_files=[]),t.instance.details.skills||(t.instance.details.skills=[]),t.instance.details.target_audience||(t.instance.details.target_audience=h[0].value),t.instance.details.CodeThemes=t.instance.details.default_themes?t.instance.details.default_themes.code_themes:{Code:"default",Markdown:"default",RunJS:"default",SPA:"default"},t.instance.details.CodeThemes.isForced=null!==(n=t.instance.details.CodeThemes.isForced)&&void 0!==n?n:l.Z,t.instance.details.docker.container.track=null!==(r=null===e||void 0===e||null===(o=e.instance)||void 0===o||null===(a=o.details)||void 0===a||null===(i=a.docker)||void 0===i||null===(c=i.container)||void 0===c?void 0:c.track)&&void 0!==r&&r,t.instance.details.toc.categories.length||k(t);var s=t.instance.details.page_titles;t.instance.details.toc.categories.forEach((function(e){return e.pages.forEach((function(e){var t;[u.RI.LESSON,u.RI.SHOT].includes(e.type)||(e.title=null!==(t=null===s||void 0===s?void 0:s[null===e||void 0===e?void 0:e.id])&&void 0!==t?t:u.V)}))}))}))},certificateBought:function(e){e.has_purchased_certificate=!0},markLessonAsProofread:function(e,t){var n=t.payload,r=e.instance.details;r.pending_proofreading_lessons.includes(String(n))&&(r.pending_proofreading_lessons=r.pending_proofreading_lessons.filter((function(e){return e!==n})))},updateDetails:function(e,t){var n=t.payload,r=(n.docker,n.deleted_page_details,(0,a.Z)(n,["docker","deleted_page_details"]));e.instance.details.toc.categories.forEach((function(e){return e.pages.forEach((function(e){return e.is_recovered=!1}))})),e.instance.details=b(b({},e.instance.details),r),(0,v.VF)(e.instance.details.collection_type)&&(e.instance.details.toc.categories[0].title=e.instance.details.title)},updateWeeklyGoal:function(e,t){var n=t.payload;e.instance.details.weekly_goal_target.weekly_goal_target=n},addCategory:function(e,t){var n,o,a,i,c,s,d,l,p,v=t.payload,y=v.index,O=void 0===y?null:y,g=v.parentIndex,h=void 0===g?null:g,j=v.type,S=void 0===j?u.j1.COLLECTION_CATEGORY:j,_=v.id,w=void 0===_?void 0:_,k=v.data,E=void 0===k?{}:k;S===u.j1.CLOUD_LAB&&(null!==e&&void 0!==e&&null!==(s=e.instance)&&void 0!==s&&null!==(d=s.details)&&void 0!==d&&d.unapproved_cloud_labs?e.instance.details.unapproved_cloud_labs=[].concat((0,r.Z)(null===e||void 0===e||null===(l=e.instance)||void 0===l||null===(p=l.details)||void 0===p?void 0:p.unapproved_cloud_labs),[w]):e.instance.details.unapproved_cloud_labs=[w]);var x,T=(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(o=n.details)||void 0===o?void 0:o.work_type)===u.dL.PATH,I=null===e||void 0===e||null===(a=e.instance)||void 0===a||null===(i=a.details)||void 0===i||null===(c=i.toc)||void 0===c?void 0:c.categories,C=E.type===u.RI.PATH_EXTERNAL_ASSESSMENT||E.type===u.RI.PATH_EXTERNAL_PROJECT,N=Z(I);if(N&&(!T||!C)){var A=e.instance.details.toc.categories[0].author_id,M=e.instance.details.toc.categories[0].collection_id,U=e.instance.details.toc.categories[0].id;e.instance.details.toc.categories[0].title=void 0===E.title||C?"Untitled category":E.title,e.instance.details.toc.categories[0].author_id=E.author_id||A,e.instance.details.toc.categories[0].collection_id=E.collection_id||M,E.type!==u.RI.PATH_EXTERNAL_ASSESSMENT&&E.type!==u.RI.PATH_EXTERNAL_PROJECT||(e.instance.details.toc.categories[0].page_id=E.page_id||void 0),e.instance.details.toc.categories[0].id=C?U:E.id||U,e.instance.details.toc.categories[0].editMode="editMode"in E?E.editMode:!(m.includes(S)||T),E.type&&!C&&(e.instance.details.toc.categories[0].type=E.type),"undefined"!==typeof E.can_edit&&(e.instance.details.toc.categories[0].can_edit=E.can_edit),"undefined"!==typeof E.work_type&&(e.instance.details.toc.categories[0].work_type=E.work_type),"undefined"!==typeof E.is_standalone_module&&(e.instance.details.toc.categories[0].is_standalone_module=E.is_standalone_module)}!m.includes(S)&&N||(P(e,!1,"editMode"in E?E.editMode:!(m.includes(S)||T),!1,O,h,S,C?E.id:w,b(b({},E),{},{title:T?null!==e&&void 0!==e&&null!==(x=e.instance)&&void 0!==x&&x.details.is_plan?E.title:E.title||"Untitled Category":E.title})),function(e){var t,n,r,o=null===e||void 0===e||null===(t=e.instance)||void 0===t||null===(n=t.details)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,a=D(o,f.s);if(-1!==a){var i=e.instance.details.toc.categories[a];e.instance.details.toc.categories.push(i),e.instance.details.toc.categories.splice(a,1)}}(e),N&&T&&C&&e.instance.details.toc.categories.shift())},updateCategoryTitle:function(e,t){var n,r,o,a=t.payload,i=a.title,c=a.id,s=D(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r||null===(o=r.toc)||void 0===o?void 0:o.categories,c);e.instance.details.toc.categories[s].title="__default"!==i?i:"",e.instance.details.toc.categories[s].editMode=!1},removeWeekFromCategoryTitle:function(e){var t,n,r;if(null!==e&&void 0!==e&&null!==(t=e.instance)&&void 0!==t&&null!==(n=t.details)&&void 0!==n&&null!==(r=n.toc)&&void 0!==r&&r.categories){var o=/^Week (\d+):*/;e.instance.details.toc.categories=e.instance.details.toc.categories.map((function(e){if(o.test(e.title)){var t=e.title.split(o);e.title=t[2].trim()}return e}))}},updateArticleTags:function(e,t){var n,r,o=t.payload,a=o.pageId,i=o.tags;[u.dL.MODULE,u.dL.PATH].includes(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r?void 0:r.work_type)||(e.instance.details.page_tags[a]=i)},updateArticleTitle:function(e,t){var n=t.payload,r=n.categoryId,o=n.pageId,a=n.title;if(e.instance){if(r){var i,c,s,u,d,l,p,f,v=D(null===e||void 0===e||null===(i=e.instance)||void 0===i||null===(c=i.details)||void 0===c||null===(s=c.toc)||void 0===s?void 0:s.categories,r),y=D(null===e||void 0===e||null===(u=e.instance)||void 0===u||null===(d=u.details)||void 0===d||null===(l=d.toc)||void 0===l||null===(p=l.categories)||void 0===p||null===(f=p[v])||void 0===f?void 0:f.pages,o);e.instance.details.toc.categories[v].pages[y].title=a,e.instance.details.toc.categories[v].pages[y].editMode=!1}e.instance.details.page_titles[o]=a}},removeCategory:function(e,t){var n,r,o,a,i,c,s,d,l,p=t.payload.id,f=D(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r||null===(o=r.toc)||void 0===o?void 0:o.categories,p);e.instance.details.toc.categories.splice(f,1),null!==e&&void 0!==e&&null!==(a=e.instance)&&void 0!==a&&null!==(i=a.details)&&void 0!==i&&null!==(c=i.toc)&&void 0!==c&&null!==(s=c.categories)&&void 0!==s&&s.length||k(e);var v=null===e||void 0===e||null===(d=e.instance)||void 0===d||null===(l=d.details)||void 0===l?void 0:l.connects,O=null===v||void 0===v?void 0:v.find((function(e){return e.week_id===p}));if(O){O.dirty=!0;var g,b=y(O.connect_info);try{for(b.s();!(g=b.n()).done;){g.value.status=u.BM.DELETED}}catch(m){b.e(m)}finally{b.f()}}},updateCodeExecResourceFile:function(e,t){var n,r=t.payload;null!==(n=e.instance)&&void 0!==n&&n.details&&(e.instance.details.code_exec_resource_metadata=r)},updateDockerForExternalLesson:function(e,t){var n,r=t.payload;null!==(n=e.instance)&&void 0!==n&&n.details&&(e.instance.details.docker=r.docker)},addUserDataResourceFile:function(e,t){var n=t.payload;e.instance.details.udata_files.push(n)},updateUserDataResourceFile:function(e,t){var n=t.payload,r=n.payload,o=n.index;e.instance.details.udata_files[o]=b(b({},e.instance.details.udata_files[o]),r)},removeUserDataResourceFile:function(e,t){var n=t.payload.index;e.instance.details.udata_files.splice(n,1)},removeCoverImage:function(e){e.instance.details.cover_image_id=null},saveAPIKey:function(e,t){var n,r,o,a=t.payload.apiKey,c=a.id,s=void 0===c?"":c,u=a.key,d=void 0===u?"":u,l=a.value,p=void 0===l?"":l,f=a.useAsDefault,v=void 0===f||f,y=a.urlText,O=void 0===y?"":y,g=d,b=null!==(n=null===e||void 0===e||null===(r=e.instance)||void 0===r||null===(o=r.details)||void 0===o?void 0:o.api_keys)&&void 0!==n?n:[],m={id:s||(0,i.x0)(),key:d,name:g,value:p,urlText:O,useAsDefault:v},h=b.findIndex((function(e){return e.id===s}));-1!==h?e.instance.details.api_keys[h]=m:e.instance.details.api_keys.push(m)},removeAPIKey:function(e,t){var n,r,o=t.payload,a=(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r?void 0:r.api_keys).findIndex((function(e){return e.id===o.id}));if(-1===a)return e;e.instance.details.api_keys.splice(a,1)},updateTestimonialImage:function(e,t){var n=t.payload,r=n.payload,o=n.index;e.instance.details.testimonials[o].pic=r},addTestimonial:function(e,t){var n=t.payload.testimonial;e.instance.details.testimonials||(e.instance.details.testimonials=[]),e.instance.details.testimonials.push(n)},removeTestimonial:function(e,t){var n=t.payload.index;e.instance.details.testimonials.splice(n,1)},updateTestimonial:function(e,t){var n=t.payload,r=n.index,o=n.testimonial;e.instance.details.testimonials[r]=o},changeTestimonialOrder:function(e,t){var n=t.payload.testimonials;e.instance.details.testimonials=n},addConnect:function(e,t){var n=t.payload,r=n.id,o=n.category_id,a=n.data;S(e,r,o,void 0===a?{}:a)},removeConnect:function(e,t){var n,r,o=t.payload,a=o.weekId,i=o.infoIndex,c=null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r?void 0:r.connects,s=c.findIndex((function(e){return e.week_id===a}));c[s].connect_info.sort((function(e,t){return e.status<t.status?-1:1})),c[s].connect_info[i].status=u.BM.DELETED,c[s].dirty=!0},updateConnectInfo:function(e,t){var n,r,o=t.payload,a=o.weekId,i=o.infoIndex,c=o.title,s=o.contact_id,u=o.contact_email,d=o.contact_name,l=null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r?void 0:r.connects,p=l.findIndex((function(e){return e.week_id===a}));if(p>=0){var f=l[p].connect_info[i];f.title=c,f.user_id=s,f.email=u,f.full_name=d,f.dirty=!0}},setConnectInfoDirtyFlag:function(e,t){var n,r,o=t.payload,a=o.weekId,i=o.id,c=o.flag,s=null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r?void 0:r.connects,u=s.findIndex((function(e){return e.week_id===a}));s[u].connect_info.find((function(e){return e.id===i})).dirty=c},setConnectDirtyFlag:function(e,t){var n,r,o=t.payload,a=o.weekId,i=o.flag,c=null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r?void 0:r.connects,s=c.findIndex((function(e){return e.week_id===a}));c[s].dirty=i},addArticle:function(e,t){var n,r,o,a,i,c=t.payload,s=c.category_id,d=c.article,l=c.index,p=c.data,f=void 0===p?{}:p,v=(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r?void 0:r.work_type)===u.dL.PATH,y=D(null===e||void 0===e||null===(o=e.instance)||void 0===o||null===(a=o.details)||void 0===a||null===(i=a.toc)||void 0===i?void 0:i.categories,s);_(e,d,y,l,f,v)},updateETAG:function(e,t){var n=t.payload;e[d.Zq]=n},cloneArticle:function(e,t){var n,r,o,a=t.payload,i=a.category_id,c=a.article,s=D(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r||null===(o=r.toc)||void 0===o?void 0:o.categories,i);w(e,c,s)},cloneMultipleArticlesInCategory:function(e,t){var n,o,a,i=t.payload,c=i.category_id,u=i.articles,d=D(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(o=n.details)||void 0===o||null===(a=o.toc)||void 0===a?void 0:a.categories,c);e.instance.details.toc.categories[d].pages=[].concat((0,r.Z)(e.instance.details.toc.categories[d].pages),(0,r.Z)(u.map((function(e){var t=e.page_id,n=e.title;return JSON.parse(JSON.stringify(new s.Z(t,void 0,n)))}))))},removeArticle:function(e,t){var n,r,o,a,i,c,s,u,d=t.payload,l=d.category_id,p=d.article_id,f=D(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r||null===(o=r.toc)||void 0===o?void 0:o.categories,l),v=D(null===e||void 0===e||null===(a=e.instance)||void 0===a||null===(i=a.details)||void 0===i||null===(c=i.toc)||void 0===c||null===(s=c.categories)||void 0===s||null===(u=s[f])||void 0===u?void 0:u.pages,p);e.instance.details.toc.categories[f].pages.splice(v,1),e.instance.details.deleted_page_details={}},recoverArticle:function(e,t){var n,r,o,a,i,c,s,u,d,l,p,v,y=t.payload.article_id,O=D(null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r||null===(o=r.toc)||void 0===o?void 0:o.categories,f.s);-1===O&&function(e){P(e,!1,!1,!0)}(e),O=D(null===e||void 0===e||null===(a=e.instance)||void 0===a||null===(i=a.details)||void 0===i||null===(c=i.toc)||void 0===c?void 0:c.categories,f.s),_(e,{page_id:y},O,null);var g=null===e||void 0===e||null===(s=e.instance)||void 0===s||null===(u=s.details)||void 0===u||null===(d=u.deleted_page_details)||void 0===d?void 0:d[y.toString()],b=g?g.title:"Untitled Masterpiece";null===e||void 0===e||(null===(l=e.instance)||void 0===l||(null===(p=l.details)||void 0===p||(null===(v=p.deleted_page_details)||void 0===v||delete v[y.toString()]))),e.instance.details.page_titles[y]=b},updateDeletedArticles:function(e,t){var n=t.payload;e.instance.details.deleted_page_details=b(b({},e.instance.details.deleted_page_details),n)},toggleArticleVisibility:function(e,t){var n=t.payload,r=n.category_id,o=n.article_id,a=x(e,r,o);a.is_preview=!a.is_preview},toggleIsLesson:function(e,t){var n=t.payload,r=n.category_id,o=n.article_id,a=x(e,r,o);a.is_lesson=!(void 0===a.is_lesson||!0===a.is_lesson)},toggleIsOptional:function(e,t){var n=t.payload,r=n.category_id,o=n.article_id,a=x(e,r,o);e.instance.dirty=!0,a.is_optional=!a.is_optional},discardChanges:function(e,t){return t.payload.originalCollection},publish:function(e){e.is_published=!0,e.instance.type="published"},unpublish:function(e){e.is_published=!1,e.is_draft_active=!0,e.instance.type="draft"},moveCategory:function(e,t){var n,r,o,a,i,c,s,u,d=t.payload,l=d.from,p=d.to,v=null===e||void 0===e||null===(n=e.instance)||void 0===n||null===(r=n.details)||void 0===r||null===(o=r.toc)||void 0===o||null===(a=o.categories)||void 0===a?void 0:a[l.itemIndex];return v.id===f.s||(null===e||void 0===e||null===(i=e.instance)||void 0===i||null===(c=i.details)||void 0===c||null===(s=c.toc)||void 0===s||null===(u=s.categories)||void 0===u?void 0:u[p.itemIndex]).id===f.s?e:(e.instance.details.toc.categories.splice(l.itemIndex,1),void e.instance.details.toc.categories.splice(p.itemIndex,0,v))},setExternalOffer:function(e,t){var n=t.payload.externalOffer;return e.external_offer=n,e},hideExternalOffer:function(e){e.external_offer.hidden=!0},setExternalOfferViewed:function(e){e.external_offer.viewed=!0},moveArticleWithinOrigin:function(e,t){var n=t.payload,r=n.from,o=n.to;if(r.isConnect||o.isConnect){if(r.isConnect&&o.isConnect){var a,i,c,s,u,d,l=null===e||void 0===e||null===(a=e.instance)||void 0===a||null===(i=a.details)||void 0===i||null===(c=i.toc)||void 0===c||null===(s=c.categories)||void 0===s?void 0:s[r.parentIndex],p=null===l||void 0===l?void 0:l.pages,f=null===e||void 0===e||null===(u=e.instance)||void 0===u||null===(d=u.details)||void 0===d?void 0:d.connects.find((function(e){return e.week_id===l.id}));f.dirty=!0;var v=f.connect_info,y=p?r.itemIndex-p.length:r.itemIndex,O=p?o.itemIndex-p.length:o.itemIndex;v.splice(O,0,v.splice(y,1)[0])}}else{var g,b,m,h,j,P=null===e||void 0===e||null===(g=e.instance)||void 0===g||null===(b=g.details)||void 0===b||null===(m=b.toc)||void 0===m||null===(h=m.categories)||void 0===h||null===(j=h[r.parentIndex])||void 0===j?void 0:j.pages;P.splice(o.itemIndex,0,P.splice(r.itemIndex,1)[0])}},moveArticleToNotEmptyCategory:function(e,t){var n=t.payload,r=n.from,o=n.to;if(!r.isConnect&&!o.isConnect){var a,i,c,s,u,d,l,p,v,y,O,g,b;if((null===e||void 0===e||null===(a=e.instance)||void 0===a||null===(i=a.details)||void 0===i||null===(c=i.toc)||void 0===c||null===(s=c.categories)||void 0===s||null===(u=s[o.parentIndex])||void 0===u?void 0:u.id)===f.s)return e;(null===e||void 0===e||null===(d=e.instance)||void 0===d||null===(l=d.details)||void 0===l||null===(p=l.toc)||void 0===p||null===(v=p.categories)||void 0===v||null===(y=v[r.parentIndex])||void 0===y?void 0:y.id)===f.s&&(e.instance.details.toc.categories[r.parentIndex].pages[r.itemIndex].is_recovered=!0);var m=null===e||void 0===e||null===(O=e.instance)||void 0===O||null===(g=O.details)||void 0===g||null===(b=g.toc)||void 0===b?void 0:b.categories;m[o.parentIndex].pages.splice(o.itemIndex,0,m[r.parentIndex].pages.splice(r.itemIndex,1)[0])}},setDirty:function(e,t){var n=t.payload;e.instance.dirty=n},setNotification:function(e,t){var n=t.payload;e.notification_status=n},addExternalApiKeys:function(e,t){var n=t.payload,o=e.instance.details.api_keys||[];e.instance.details.api_keys=Array.from(new Map([].concat((0,r.Z)(o),(0,r.Z)(n||[])).map((function(e){return[e.id,e]}))).values())},updateArticleEstimatedTime:function(e,t){var n=t.payload,r=n.categoryId,o=n.pageId,a=n.estimatedTime;if(e.instance&&r){var i,c,s,u,d,l,p,f,v=D(null===e||void 0===e||null===(i=e.instance)||void 0===i||null===(c=i.details)||void 0===c||null===(s=c.toc)||void 0===s?void 0:s.categories,r),y=D(null===e||void 0===e||null===(u=e.instance)||void 0===u||null===(d=u.details)||void 0===d||null===(l=d.toc)||void 0===l||null===(p=l.categories)||void 0===p||null===(f=p[v])||void 0===f?void 0:f.pages,o);e.instance.details.toc.categories[v].pages[y].estimatedTime=a,e.instance.details.toc.categories[v].pages[y].editMode=!1}}}}),P=function(e,t,n,r,o,a){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:u.j1.COLLECTION_CATEGORY,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=e.instance.details.toc.categories;if(l.forEach((function(e){return e.editMode=!1})),void 0!==a&&null!==a){var p=l[a].pages,f=p.splice(o+1),v=p=p.slice(0,o+1),y=new c.Z(t,n);if(n||(y.title=d.title),(y=JSON.parse(JSON.stringify(y))).pages=f,l[a].pages=v,l.splice(a+1,0,y),"undefined"!==typeof d.can_edit&&(y.can_edit=d.can_edit),"undefined"!==typeof d.work_type&&(y.work_type=d.work_type),"undefined"!==typeof d.is_standalone_module&&(y.is_standalone_module=d.is_standalone_module),m.includes(i)){var O=new c.Z(!1,n,r,i,s);O=JSON.parse(JSON.stringify(O)),l.push(O)}}else{var g=new c.Z(t,n,r,d.type||i,d.id||s,d.author_id,d.collection_id,d.title,d.page_id||void 0,d.can_edit,d.work_type,d.is_standalone_module);g=JSON.parse(JSON.stringify(g)),l.push(g)}},S=function(e,t,n){var r,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=null===e||void 0===e||null===(r=e.instance)||void 0===r||null===(o=r.details)||void 0===o?void 0:o.connects,c=i.findIndex((function(e){return e.week_id===n}));if(c<0){var s=[{id:t,title:a.title,status:2e3}],u={week_id:n,week_title:"",connect_info:s};i.push(u)}else{var d={id:t,title:a.title,status:2e3};i[c].connect_info.push(d)}},_=function(e,t,n,r){var o,a,i,c,d,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},p=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=null===t||void 0===t?void 0:t.page_id,v=null===t||void 0===t?void 0:t.author_id,y=null===t||void 0===t?void 0:t.collection_id,O=f in(E(e)||{});if(null==r){var g,b,m,h,j,P=new s.Z(parseInt(f||l.id),l.type,l.title,parseInt(v||l.author_id),parseInt(y||l.collection_id),parseInt(f||l.page_id),"editMode"in l?l.editMode:!p&&![u.RI.LESSON,u.RI.SHOT].includes(null===l||void 0===l?void 0:l.type),l.course_url_slug,l.url,l.work_type,l.can_edit,l.is_standalone_module);if(l.estimatedTime&&(P.estimatedTime=l.estimatedTime),void 0!==l.is_optional&&null!==l.is_optional&&(P.is_optional=l.is_optional),O){var S,_,w=null===e||void 0===e||null===(S=e.instance)||void 0===S||null===(_=S.details)||void 0===_?void 0:_.deleted_page_details[f.toString()].title;P.title=w,P.editMode=!1}null===e||void 0===e||null===(g=e.instance)||void 0===g||null===(b=g.details)||void 0===b||null===(m=b.toc)||void 0===m||null===(h=m.categories)||void 0===h||null===(j=h[n])||void 0===j||j.pages.push(JSON.parse(JSON.stringify(P)))}else null===e||void 0===e||null===(o=e.instance)||void 0===o||null===(a=o.details)||void 0===a||null===(i=a.toc)||void 0===i||null===(c=i.categories)||void 0===c||null===(d=c[n])||void 0===d||d.pages.splice(r+1,0,JSON.parse(JSON.stringify(new s.Z(parseInt(f||l.id),l.type,l.title,parseInt(v||l.author_id),parseInt(y||l.collection_id),parseInt(f||l.page_id),"editMode"in l?l.editMode:!p&&![u.RI.LESSON,u.RI.SHOT].includes(null===l||void 0===l?void 0:l.type),l.url))))},w=function(e,t,n){var r,o,a,i,c,u=t.page_id,d=t.title;null===e||void 0===e||null===(r=e.instance)||void 0===r||null===(o=r.details)||void 0===o||null===(a=o.toc)||void 0===a||null===(i=a.categories)||void 0===i||null===(c=i[n])||void 0===c||c.pages.push(JSON.parse(JSON.stringify(new s.Z(u,void 0,d))))},Z=function(e){return"__default"===(null===e||void 0===e?void 0:e[0].title)},D=function(e,t){return e.findIndex((function(e){return e.id===t}))},k=function(e){return P(e,!0,!1)};function E(e){var t,n;return null===e||void 0===e||null===(t=e.instance)||void 0===t||null===(n=t.details)||void 0===n?void 0:n.deleted_page_details}var x=function(e,t,n){var r,o,a,i,c,s,u,d,l=D(null===e||void 0===e||null===(r=e.instance)||void 0===r||null===(o=r.details)||void 0===o||null===(a=o.toc)||void 0===a?void 0:a.categories,t),p=D(null===e||void 0===e||null===(i=e.instance)||void 0===i||null===(c=i.details)||void 0===c||null===(s=c.toc)||void 0===s||null===(u=s.categories)||void 0===u||null===(d=u[l])||void 0===d?void 0:d.pages,n);return e.instance.details.toc.categories[l].pages[p]};t.ZP=j.reducer;var T=j.actions},51127:function(e,t,n){n.d(t,{x:function(){return h}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(98888),d=n(20767),l=n(27913),p=n(97242),f=n(49227);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(0,c.Z)(),g=O.initialState,b=O.reducers,m=(0,d.oM)({name:"author/collectionArticle",initialState:g,reducers:y(y({},b),{},{updateReadTime:function(e,t){var n=t.payload;n&&e.loaded&&(e.data.readTime=n)},setArticle:function(e,t){var n=t.payload,r=n.components,o=n.summary;e.data.components=r,e.data.summary.description=o},setComponent:function(e,t){var n=t.payload,r=n.component,o=n.index;e.data.components[o]=r},updateSummary:function(e,t){var n=t.payload;e.data.summary.description=n}})});t.Z=m.reducer;var h=y(y({},m.actions),{},{load:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.qe.COLLECTION_LESSON;return function(){var d=(0,a.Z)(o().mark((function a(d,f){var v,y,O,g;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,d((0,i.Z)({},s.S,{types:m.actions,endpoint:"author/".concat(e,"/collection/").concat(t,"/page/").concat(r?"snapshot":n),postProcess:u.u,getHeaders:!0,queryParams:r?{key:r,document_type:c}:null}));case 2:return O=f().author,g=(null===O||void 0===O||null===(v=O.collectionArticle)||void 0===v||null===(y=v.data)||void 0===y?void 0:y.components)||[],o.next=6,(0,p.nA)(g,!1);case 6:return g=o.sent,o.abrupt("return",d(l.oh.load(g,!0)));case 8:case"end":return o.stop()}}),a)})));return function(e,t){return d.apply(this,arguments)}}()}})},48941:function(e,t,n){n.d(t,{_:function(){return m}});var r=n(64537),o=n(93586),a=n(30645),i=n(10047),c=n(11616),s=n(20767);function u(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,i.Z)(),f=p.initialState,v=p.reducers,y=function(e,t,n,r){return"author/".concat(e,"/collection/").concat(t,"/concept/").concat(n||"all")+(r?"/published":"")},O=function(e){return JSON.parse(e).reduce((function(e,t){var n=t.id,r=t.name,a=t.usage_count;return l(l({},e),{},(0,o.Z)({},r,{id:n,usageCount:a}))}),{})},g=function(e,t){return function(n){var r,i,c=t(),s=null===c||void 0===c||null===(r=c.author)||void 0===r||null===(i=r.concepts)||void 0===i?void 0:i.data;if(!s)return c;var u=Object.entries(s).find((function(t){var n=(0,a.Z)(t,2);n[0];return n[1].id===e}));if(!u)return c;var d=u&&u[0],p=u?u[1]:{};return(0,o.Z)({},d,l(l({},p),{},{comps:JSON.parse(n)}))}},b=(0,s.oM)({name:"concepts",initialState:f,reducers:l(l({},v),{},{update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1},t=arguments.length>1?arguments[1]:void 0,n=t.payload,i=e.data||{},c=n||{},s=c.id,d=c.name,p=c.comps,f=c.usageCount,v=Object.entries(i).find((function(e){var t=(0,a.Z)(e,2);t[0];return t[1].id===s})),y=v&&v[0],O=v&&v[1].comps,g=v&&v[1].usageCount,b=d||y;if(b){var m=null!==p&&void 0!==p?p:O,h=null!==f&&void 0!==f?f:g,j=(0,o.Z)({},b,l(l({id:s},h&&{usageCount:h}),m&&{comps:m})),P=(i[y],(0,r.Z)(i,[y].map(u)));e.data=l(l({},P),j)}},remove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1},t=arguments.length>1?arguments[1]:void 0,n=t.payload,o=e.data||{},i=n||{},c=i.id,s=Object.entries(o).find((function(e){var t=(0,a.Z)(e,2);t[0];return t[1].id===c})),d=s&&s[0],l=(o[d],(0,r.Z)(o,[d].map(u)));e.data=l},loadFail:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1},n=arguments.length>1?arguments[1]:void 0,r=n.error;r&&(t.error=(null===(e=r.responseJSON)||void 0===e?void 0:e.errorText)||"Failed to retrieve")}})});t.Z=b.reducer;var m=l(l({},b.actions),{},{loadMetadata:function(e){var t=e.authorId,n=e.collectionId,r=e.published;return(0,o.Z)({},c.S,{types:b.actions,endpoint:y(t,n,null,r),postProcess:O})},load:function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId,a=e.published;return function(e,i){return e((0,o.Z)({},c.S,{types:b.actions,endpoint:y(t,n,r,a),postProcess:g(r,i)}))}}})},32653:function(e,t,n){n.d(t,{w:function(){return m}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(98888),d=n(20767),l=n(27913);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v="author/page",y=(0,c.Z)(),O=y.initialState,g=y.reducers,b=(0,d.oM)({name:v,initialState:O,reducers:g});t.Z=b.reducer;var m=f(f({},b.actions),{},{load:function(e){return function(){var t=(0,a.Z)(o().mark((function t(n,r){var a,c,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n((0,i.Z)({},s.S,{types:b.actions,endpoint:"".concat(v,"/").concat(e),postProcess:u.u,getHeaders:!0,isDemo:!e}));case 2:return t.abrupt("return",n(l.oh.load(null===(a=r().author)||void 0===a||null===(c=a.page)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.components,!0)));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})},56402:function(e,t,n){n.d(t,{n:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="author/profile",d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:u,initialState:l,reducers:p});t.Z=f.reducer;var v=s(s({},f.actions),{},{load:function(e){return(0,r.Z)({},a.S,{types:f.actions,endpoint:e?"".concat(u,"/").concat(e):u,errorHook:function(e){},postProcess:JSON.parse})}})},20702:function(e,t,n){n.d(t,{i:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(23612),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"author/profileWorks",initialState:l,reducers:p});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e){return(0,r.Z)({},a.S,{types:f.actions,endpoint:(0,i.a8)()?"".concat("author/profile","/").concat(e,"/works"):"reader/featured_items?author_id=".concat(e,"&only_courses=true"),postProcess:JSON.parse})}})},72406:function(e,t,n){n.d(t,{Dr:function(){return R},ms:function(){return q},yn:function(){return L},GR:function(){return J},SQ:function(){return F},cy:function(){return B},Ym:function(){return W},Q_:function(){return G}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(84283),s=n(10047),u=n(34560),d=n(12006),l=n(11616),p=n(20767),f=n(16962),v=n(98411),y=n(44124),O=n(49227),g=n(54758),b=n(51945),m=n(90337),h=n(63021),j=n(27913),P=n(68907),S=n(71693),_=n(49322),w=n(75365),Z=n(89135),D=n(17279),k=n(83200),E=n(84184),x=n(33212),T=n(54783);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=(0,s.Z)(),A=N.initialState,M=N.reducers,U=(0,p.oM)({name:"project",initialState:C(C({},A),{},{dirty:!1,component:null}),reducers:C(C({},M),{},{updateProjectTitle:function(e,t){var n=t.payload;e.data.title=n,e.dirty=!0},addUserDataResourceFile:function(e,t){var n=t.payload;e.data.udata_files.push(n),e.dirty=!0},updateUserDataResourceFile:function(e,t){var n=t.payload,r=n.payload,o=n.index;e.data.udata_files[o]=C(C({},e.data.udata_files[o]),r),e.dirty=!0},removeUserDataResourceFile:function(e,t){var n=t.payload.index;e.data.udata_files.splice(n,1),e.dirty=!0},addComponent:function(e,t){var n,r,o=t.payload,a=o.category_id,i=o.component,c=o.index,s=(0,T.QY)(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,a);(0,T.kH)(e,i,s,c),e.data.project_environments[i.project_component_id]=P.hf.SPA,e.dirty=!0},addCategory:function(e,t){var n,r,o=t.payload,a=o.index,i=o.parentIndex,c=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories;(0,T.oW)(c)?(e.data.toc.categories[0].title="Untitled category",e.data.toc.categories[0].editMode=!0):(0,T.SK)(e.data,!0,!1,a,i),e.dirty=!0},updateCategoryTitle:function(e,t){var n,r,o=t.payload,a=o.title,i=o.id,c=(0,T.QY)(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,i);e.data.toc.categories[c].title="__default"!==a?a:"",e.data.toc.categories[c].editMode=!1,e.dirty=!0},updateComponentTitle:function(e,t){var n=t.payload,r=n.categoryId,o=n.projectComponentId,a=n.title;if(e.data){if(r){var i=(0,T.QY)(e.data.toc.categories,r),c=(0,T.QY)(e.data.toc.categories[i].pages,o);e.data.toc.categories[i].pages[c].title=a,e.data.toc.categories[i].pages[c].editMode=!1}e.dirty=!0}},moveComponentWithinOrigin:function(e,t){var n,r,o,a,i=t.payload,c=i.from,s=i.to,u=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r||null===(o=r.categories)||void 0===o||null===(a=o[c.parentIndex])||void 0===a?void 0:a.pages;u.splice(s.itemIndex,0,u.splice(c.itemIndex,1)[0]),e.dirty=!0},moveCategory:function(e,t){var n,r,o,a=t.payload,i=a.from,c=a.to,s=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r||null===(o=r.categories)||void 0===o?void 0:o[i.itemIndex];e.data.toc.categories.splice(i.itemIndex,1),e.data.toc.categories.splice(c.itemIndex,0,s),e.dirty=!0},moveComponentToNotEmptyCategory:function(e,t){var n,r=t.payload,o=r.from,a=r.to,i=null===e||void 0===e||null===(n=e.data.toc)||void 0===n?void 0:n.categories;i[a.parentIndex].pages.splice(a.itemIndex,0,i[o.parentIndex].pages.splice(o.itemIndex,1)[0]),e.dirty=!0},removeComponent:function(e,t){var n,r,o,a,i,c,s=t.payload,u=s.category_id,d=s.article_id,l=(0,T.QY)(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,u),p=(0,T.QY)(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(a=o.toc)||void 0===a||null===(i=a.categories)||void 0===i||null===(c=i[l])||void 0===c?void 0:c.pages,d);e.data.toc.categories[l].pages.splice(p,1),e.data.project_environments.hasOwnProperty(d)&&delete e.data.project_environments[d],e.dirty=!0},removeCategory:function(e,t){var n,r,o,a,i,c=t.payload.id,s=(0,T.QY)(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories,c);-1!==s&&(e.data.toc.categories.splice(s,1),null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&null!==(a=o.toc)&&void 0!==a&&null!==(i=a.categories)&&void 0!==i&&i.length||(e.data.toc=x.LT),e.dirty=!0)},updateProjectDetails:function(e,t){var n=t.payload;e.data.content=n},updateComponentETag:function(e,t){var n,r=t.payload;e.component=null!==(n=e.component)&&void 0!==n?n:null,e.component[u.Zq]=r[u.Zq],r.saved&&(e.dirty=!1)},setComponent:function(e,t){var n=t.payload;e.component=(0,T.v5)(n.data),e.component[u.Zq]=n[u.Zq]},postProjectSave:function(e,t){var n=t.payload;e.data[u.Zq]=n,e.dirty=!1},clearComponent:function(e){e.component=null},updateComponentCode:function(e,t){var n,r=t.payload;e.component&&(e.dirty=!0,"function"!==typeof r?e.component.content.codeContent=C(C(C({},e.component.content.codeContent),r),{},{comp_id:(null===(n=e.component.content.codeContent)||void 0===n?void 0:n.comp_id)||(0,p.x0)()}):r(e.component.content.codeContent))},updateProtectedContent:function(e,t){var n=t.payload;e.dirty=!0,e.component&&(e.component.content.protected_content=n)},updateComponentURL:function(e,t){var n=t.payload;e.dirty=!0,e.component&&(e.component.content.url=n)},updateCodeContentInViewMode:function(e,t){var n=t.payload,r=e.component.content.codeContent;e.component.content.codeContent=C(C({},r),n)},updateCodingEnv:function(e,t){var n,r=t.payload;switch(e.component.content.type=r,e.data.project_environments[e.component.project_component_id]=r,r){case P.hf.SPA:e.component.content.codeContent=C(C({},S.Z),{},{isProject:!0}),e.component.content.url=null;break;case P.hf.CODE:e.component.content.codeContent=C(C({},w.Z),{},{isProject:!0}),e.component.content.url=null;break;case P.hf.WORKSPACE:e.component.content.codeContent={},e.component.content.url=null;break;case P.hf.TERMINAL:e.component.content.codeContent=(0,T.Nm)((null===(n=e.data.docker)||void 0===n?void 0:n.envs)||[]),e.component.content.url=null;break;case P.hf.RUNJS:e.component.content.codeContent=C(C({},Z.Z),{},{isProject:!0}),e.component.content.url=null;break;case P.hf.CODE_EVALUATION:e.component.content.codeContent=C(C({},_.Z.content),{},{isProject:!0}),e.component.content.protected_content=_.Z.protectedContent,e.component.content.url=null;break;default:e.component.content.codeContent={},e.component.content.url=""}},updateProjectDifficulty:function(e,t){var n=t.payload;e.component.difficulty=n,e.dirty=!0},updateRelevantCourses:function(e,t){var n=t.payload;e.data.relevant_courses=n,e.dirty=!0},updatePreReqs:function(e,t){var n=t.payload;e.data.pre_reqs=n,e.dirty=!0}})});t.ZP=U.reducer;var R=C(C({},U.actions),{},{load:function(e){var t=e.authorId,n=e.collectionId,r=e.projectId,o=e.courseUrlSlug,a=void 0===o?"":o,c=e.pageUrlSlug,s=void 0===c?"":c,d=e.mode;return function(e){var o=a&&s?"project/".concat(a,"/").concat(s):"project/".concat(t,"/").concat(n,"/").concat(r),c="view"===d?o:"author/".concat(t,"/collection/").concat(n,"/project/").concat(r);return e((0,i.Z)({},l.S,{types:U.actions,endpoint:c,postProcess:T.O4,getHeaders:!0})).then((function(t){t&&e(R.updateETag(t.xhr.headers.get(u.Zq)))}))}},save:function(e){var t=e.project;return function(e){return(0,D.zp)((0,T.f4)(t)).then((function(t){t&&e(R.postProjectSave(t.xhr.headers.get(u.Zq)))}))}},prepareDockerOnSetProject:function(e,t,n){return function(){var r=(0,a.Z)(o().mark((function r(a){var i,c,s,u,d,l;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=null!==e&&void 0!==e&&e.docker?C(C({},e.docker),{},{envs:null!==(i=e.docker.envs)&&void 0!==i?i:[]}):g.s4,r.next=3,(0,b.wi)(n,t);case 3:u=r.sent,d=C(C({},s),{},{container:C(C({},s.container),{},{liveInstance:u})}),a(m.ry.setObject(d)),l=null!==e&&void 0!==e&&e.testing_docker?C(C({},e.testing_docker),{},{envs:null!==(c=e.testing_docker.envs)&&void 0!==c?c:[]}):g.s4,a(h.hT.setObject(l));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},saveComponent:function(e){var t=e.component;return function(e){return(0,D.fq)(t).then((function(t){var n;t&&e(R.updateComponentETag((n={},(0,i.Z)(n,u.Zq,t.xhr.headers.get(u.Zq)),(0,i.Z)(n,"saved",!0),n)))}))}},loadComponent:function(e){return function(t){return(0,D.xU)(e).then((function(e){if(null!==e&&void 0!==e&&e.data){var n=(0,T.v5)(JSON.parse(e.data));return t(R.setComponent((0,i.Z)({data:n},u.Zq,e.xhr.headers.get(u.Zq)))),n}}))}},loadUserProgress:function(e){return function(t){return(0,D.nf)(e).then((function(e){return null!==e&&void 0!==e&&e.data?JSON.parse(e.data):null})).catch((function(e){return console.log("Error loading user code",e)}))}},saveUserProgress:function(e){return function(t){return(0,D.oP)(e).catch((function(e){t(f.n.show(d.ad,{status:"ERROR",text:"Failed to Save User Project"}))}))}}}),q=function e(t,n){return function(r,o){n&&r(n),r(f.n.show(d.ad,{status:"WAIT",text:"Saving Project"}));var a=null===t||void 0===t?void 0:t.copyWidgets,i=a?o().widgets:o().project.data.content;return r(R.save({project:C(C({},o().project.data),{},{content:i,docker:JSON.stringify((0,g.qZ)(o().dockerDetails)),testing_docker:JSON.stringify((0,g.qZ)(o().testingDockerDetails))})})).then((function(){r(f.n.show(d.ad,{status:"SUCCESS",text:"Project saved"})),a&&r(R.updateProjectDetails(i)),r(j.oh.resetDirtyBit())})).catch((function(t){var o;(0,v.rU)(t,r);var a=null===t||void 0===t||null===(o=t.responseJSON)||void 0===o?void 0:o.errorText;t.status===y.Wy.AlreadyExistsException&&a===y.pX.versionOutDatedMessage?r(H((function(){r(R.updateETag(O.Fh)),r(e(void 0,n))}))):r(f.n.show(d.ad,{status:"ERROR",text:"Failed to save project"}))}))}},L=function e(t){return function(n,r){return t&&n(t),n(f.n.show(d.ad,{status:"WAIT",text:"Saving Task"})),n(R.saveComponent({component:C(C({},r().project.component),{},{content:C(C({},r().project.component.content),{},{descriptionWidgets:r().widgets})})})).then((function(){n(f.n.show(d.ad,{status:"SUCCESS",text:"Task saved"})),n(j.oh.resetDirtyBit())})).catch((function(r){var o,a=null===r||void 0===r||null===(o=r.responseJSON)||void 0===o?void 0:o.errorText;r.status===y.Wy.AlreadyExistsException&&a===y.pX.versionOutDatedMessage?n(H((function(){n(R.updateComponentETag((0,i.Z)({},u.Zq,O.Fh))),n(e(t))}))):n(f.n.show(d.ad,{status:"ERROR",text:"Failed to save task"}))}))}},J=function(e){var t=e.entities,n=e.ids;return function(e){var r=n.map((function(e){return t[e]}));e(j.oh.load(Object.values(r)))}},F=function(e,t,n,r,o){return function(a){var i=r.file.name.split(" ").join("-"),s="/api/author/".concat(e,"/collection/").concat(t,"/containers/").concat(i,"/get_upload_url?project_id=").concat(n,"&docker_type=").concat(o.toLowerCase());return(0,c.Z)({url:s,type:"GET"}).then(JSON.parse).then((function(e){var t=e.gcs_object_name,n=e.container_id,s=void 0===n?-1:n,u=e.blob_upload_url,d=e.upload_success_url,l=e.build_status_url,p=e.tarball_download_url,f=e.build_log_url,v=e.rebuild_image_url,y=o===x.a5.TESTING?h.hT:m.ry;return a(y.setFile(C(C({},r),{},{id:s,buildStatusUrl:l,tarballDownloadUrl:p,buildLogUrl:f,rebuildImageUrl:v,file:{name:i,size:r.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return(0,c.Z)({url:d,type:"POST",data:{gcs_object_name:t}},!0)},upload:function(){return(0,c.Z)({url:u,type:"POST",data:r.file,processData:!1,contentType:r.file.type})}}})).catch((function(e){console.log(e)}))}},B=function e(t){var n=t.upload,r=t.onUploadSuccess,i=t.dockerType;return function(t){var c=i===x.a5.TESTING?h.hT:m.ry;return t(c.updateBuildStatus("UPLOADING")),n().then((function(){return r()})).then((function(e){return JSON.parse(e.data)})).then(function(){var e=(0,a.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.image_name,a=void 0===r?"default_name":r,t(q(void 0,c.afterFileUpload(a))),t(f.n.show(d.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(o){500!==o.status?(console.log("error while uploading docker file",o),t(c.updateBuildStatus("FAILURE")),t(f.n.show(d.ad,{status:"ERROR",text:"Uploading Docker File failed"}))):t(e({upload:n,onUploadSuccess:r,dockerType:i}))}))}},H=function(e){return function(t){t(f.n.close()),t(f.n.show(d.zN,{onConfirm:e,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}},W=function(e,t,n){return function(r){r(f.n.show(d.xq,{url:"www.educative.io".concat((0,T.Qk)(e,t,n,void 0,void 0))}))}},G=function(e){var t=e.firstProjectComponentId,n=e.projectId,r=e.authorId,o=e.collectionId,a=e.pathAuthorId,i=e.pathId,c=e.isReview;return function(e){(0,D.$3)(r,o,n).then((function(){e(R.clear()),k.default.push((0,E.Z)(r,o,void 0,t,n,!1,void 0,!1,void 0,a,i,c).projectComponentViewUrl.href)}))}}},68671:function(e,t,n){n.d(t,{F:function(){return E}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(20767),d=n(34560),l=n(51127),p=n(27913),f=n(84283),v=n(2293),y=n(10614),O=n(39064),g=n(16962),b=n(12006),m=n(10980),h=n(74013),j=n(49227),P=n(8535);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(0,c.Z)(),Z=w.initialState,D=w.reducers,k=(0,u.oM)({name:"author/proofread",initialState:Z,reducers:_(_({},D),{},{updateTitle:function(e,t){var n=t.payload;e.data.title=n,e.data.dirty=!0},updateSummary:function(e,t){var n=t.payload;e.data.summary=n,e.data.dirty=!0},updateBriefSummary:function(e,t){var n=t.payload;e.data.brief_summary=n,e.data.dirty=!0},updateCategoryTitle:function(e,t){var n=t.payload,r=n.title,o=n.id,a=function(e,t){return e.findIndex((function(e){return e.id===t}))}(e.data.toc.categories,o);e.data.toc.categories[a].title="__default"!==r?r:"",e.data.dirty=!0},updateCLO:function(e,t){var n=t.payload,r=n.text,o=n.index;e.data.clos[o]=r,e.data.dirty=!0},updateETAG:function(e,t){var n=t.payload;e.data[d.Zq]=n},resetDirtyBit:function(e){e.data.dirty=!1},setCollection:function(e,t){var n=t.payload,r=n.title,o=n.summary,a=n.brief_summary,i=n.toc,c=n.clos;e.data.title=r,e.data.summary=o,e.data.brief_summary=a,e.data.toc=i,e.data.clos=c},setPage:function(e,t){var n,r,o,a=t.payload,i=a.title,c=a.summary,s=a.components;e.data=_(_({},null!==(n=e.data)&&void 0!==n?n:{}),{},{page:_(_({},null!==(r=null===(o=e.data)||void 0===o?void 0:o.page)&&void 0!==r?r:{}),{},{title:i,summary:c,components:s,dirty:!1})})},updatePageTitle:function(e,t){var n=t.payload;e.data.page.title=n,e.data.page.dirty=!0},updatePageSummary:function(e,t){var n=t.payload;e.data.page.summary=n,e.data.page.dirty=!0},updatePageETAG:function(e,t){var n=t.payload;e.data.page[d.Zq]=n},resetPageDirtyBit:function(e){e.data.page.dirty=!1},rejectPageProofred:function(e,t){var n=t.payload,r=n.components,o=n.title,a=n.summary;e.data.page.components=r,e.data.page.title=o,e.data.page.summary=null===a||void 0===a?void 0:a.description},setPageComponent:function(e,t){var n=t.payload,r=n.index,o=n.component;e.data.page.components[r]=o},markPageResolved:function(e,t){var n=t.payload;e.data.pending_pages=e.data.pending_pages.filter((function(e){return e!==n}))}})});t.Z=k.reducer;var E=_(_({},k.actions),{},{load:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var c=(0,a.Z)(o().mark((function a(c){return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c(E.clear()),o.next=3,c((0,i.Z)({},s.S,{types:k.actions,endpoint:"author/".concat(e,"/collection/").concat(t,"/proofread/").concat(n,"?incorporate=").concat(r),postProcess:function(n){var r=n.data,o=(n.xhr,JSON.parse(r)),a=o.proofread,i=o.collection,s=o.is_admin,u=o.pending_pages,d=o.is_homepage_pending,l=a;return l||(l={title:i.instance.details.title||"",summary:i.instance.details.summary||"",brief_summary:i.instance.details.brief_summary||"",toc:i.instance.details.toc,clos:i.instance.details.clos||[]}),c(O.X5.set({instance:{details:_(_({},i.instance.details),{},{docker:{container:{}},author_id:e,collection_id:t})}})),_(_({},l),{},{is_admin:s,pending_pages:u.map((function(e){return e.split("_")[0]})),is_homepage_pending:d})},getHeaders:!0})).then((function(e){e&&c(E.updateETAG(e.xhr.headers.get(d.ZF))),e&&c(O.X5.updateETAG(e.xhr.headers.get(d.Zq)))}));case 3:case"end":return o.stop()}}),a)})));return function(e){return c.apply(this,arguments)}}()},saveProofread:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var c=(0,a.Z)(o().mark((function a(c,s){var u,l,p,y,O;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=s().author.proofread.data,l=s().author.collection,p={title:u.title,summary:u.summary,brief_summary:u.brief_summary,toc:u.toc,clos:u.clos},y=u[d.Zq],r&&(y=l[d.Zq]),O=y?(0,i.Z)({},d.Zq,y):{},o.abrupt("return",(0,f.Z)({url:"/api/author/".concat(e,"/collection/").concat(t,"/proofread/").concat(n),contentType:"application/json",processData:!1,type:r?"POST":"PUT",data:(0,v.deflate)(JSON.stringify({proofread_content:p}),{level:9}),headers:_(_({},O),{},{"Content-Encoding":"deflate"})},!0).then((function(e){var t=e.xhr;c(E.resetDirtyBit()),c(r?E.markPageResolved("homepage"):E.updateETAG(t.headers.get(d.Zq)))})));case 7:case"end":return o.stop()}}),a)})));return function(e,t){return c.apply(this,arguments)}}()},submitProofread:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(){var s=(0,a.Z)(o().mark((function s(u,d){var l,p,v,y,O;return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(l=d().author.proofread.data,p=l.pending_pages.length,v=l.is_homepage_pending,y=function(){var c=(0,a.Z)(o().mark((function a(){return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u(g.n.show(b.ad,{status:"WAIT",text:"Submitting"})),o.abrupt("return",(0,f.Z)({url:"/api/author/".concat(e,"/collection/").concat(t,"/proofread/").concat(n,"/submit?incorporate=").concat(i),type:"POST"}).then((function(){u(g.n.show(b.ad,{status:"SUCCESS",text:"Submitted"}));var n=(0,P.Z)(e,t,null,!0,j.dL.COLLECTION);r.push("/collection/[authorId]/[collectionId]/draft",n)})).catch((function(){u(g.n.show(b.ad,{status:"ERROR",text:"Unable to Submit"}))})));case 2:case"end":return o.stop()}}),a)})));return function(){return c.apply(this,arguments)}}(),!i){s.next=7;break}return O=p>0||v?'There are still <span style="color: #8887FF">'.concat(p,"</span> lesson(s) ").concat(v?"and Course Homepage":""," with pending and/or unsaved suggestions from the proofreader that need to be incorporated before this course can be submitted. Please incorporate and press save"):"Do you want to submit your changes? You won't be able to incorporate proofread for the whole course after submitting.",s.abrupt("return",u(g.n.show(b.zN,{onConfirm:function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(g.n.close());case 2:return e.next=4,y();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cancelText:p>0?"Close":"Cancel",confirmText:p>0?"Close":"Submit Changes",title:p?"Unable to submit":"Alert",description:O,hideConfirmButton:p>0,styleType:"leftAligned"})));case 7:return s.abrupt("return",u(g.n.show(b.zN,{onConfirm:function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(g.n.close());case 2:return e.next=4,y();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cancelText:"Cancel",confirmText:"Submit",title:"Alert",description:"Do you want to submit your changes? You won't be able to ".concat(c?"preview":""," proofread after submitting.")})));case 8:case"end":return s.stop()}}),s)})));return function(e,t){return s.apply(this,arguments)}}()},loadPage:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var c=(0,a.Z)(o().mark((function a(c,s){return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.Z)({url:"/api/author/".concat(e,"/collection/").concat(t,"/page/").concat(n,"/proofread/").concat(r,"?incorporate=").concat(i),contentType:"application/json",type:"GET"},!0).then((function(e){var t=e.data,r=e.xhr,o=JSON.parse(t),a=o.proofread,u=o.collection_page,f=u.content,v=u.props,O=a;O||(O={components:f.components||[],title:s().author.collection.instance.details.page_titles[n]||"",summary:f.summary.description||""});var g=O.components;c(l.x.fulfilled(f)),c(y.t.fulfilled(v)),c(E.setPage(O));var b=i?f.components:g;c(p.oh.load(b,!1)),c(E.updatePageETAG(r.headers.get(d.ZF))),c(l.x.updateETag(r.headers.get(d.Zq)))})));case 1:case"end":return o.stop()}}),a)})));return function(e,t){return c.apply(this,arguments)}}()},savePageProofread:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return function(c,s){var u=s().author.proofread.data,l=s().author.collectionArticle.data,y={title:u.page.title,summary:u.page.summary,components:a},O=u.page[d.Zq];if(o){var g=(0,m.D)(a),b=(0,h.TE)(a).TOC;y=_(_({},y),{},{concepts:g,page_toc:b,content:{components:a,summary:_(_({},l.summary),{},{description:u.page.summary})}}),O=l[d.Zq]}var j=O?(0,i.Z)({},d.Zq,O):{};return(0,f.Z)({url:"/api/author/".concat(e,"/collection/").concat(t,"/page/").concat(n,"/proofread/").concat(r),contentType:"application/json",processData:!1,type:o?"POST":"PUT",data:(0,v.deflate)(JSON.stringify({proofread_content:y}),{level:9}),headers:_(_({},j),{},{"Content-Encoding":"deflate"})},!0).then((function(e){var t=e.xhr;c(E.resetPageDirtyBit()),c(p.oh.resetDirtyBit()),c(p.oh.resetMarkdownDirtyBit()),c(o?E.markPageResolved(n):E.updatePageETAG(t.headers.get(d.Zq)))}))}},updateWidgetContent:function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r,a){var i,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=a().author.proofread.data.page.components,c=i.findIndex((function(t){return t.content.comp_id===e})),n.next=4,r(E.setPageComponent({component:_(_({},i[c]),{},{content:_(_({},i[c].content),t)}),index:c}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},incorporateWidget:function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r,a){var i,c,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=a().widgets,c=i.ids.indexOf(e),s=i.entities[e],!t){n.next=8;break}return n.next=6,r(l.x.setComponent({component:s,index:c}));case 6:n.next=10;break;case 8:return n.next=10,r(E.setPageComponent({component:s,index:c}));case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})},80015:function(e,t,n){n.d(t,{Y:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"author/sales",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(e,t){return(0,r.Z)({},a.S,{types:p.actions,endpoint:e?"ref_author/sales/".concat(e,"/").concat(t):"author/sales/".concat(t),postProcess:JSON.parse})}})},59290:function(e,t,n){n.d(t,{B:function(){return O}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="author/work",d={author:"author_work",ref:"ref_work",collab:"collab_work"},l=(0,o.Z)(),p=l.initialState,f=l.reducers,v=(0,i.oM)({name:u,initialState:p,reducers:s(s({},f),{},{delete:function(e,t){var n,r=t.payload,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"author";r&&e.loaded&&(e.data.work_summaries[d[o]]=null===(n=e.data.work_summaries)||void 0===n?void 0:n[d[o]].filter((function(e){return e.id!==r})))}})});t.Z=v.reducer;var y=function(e,t){return function(n){var o=JSON.parse(n),a=Object.keys(e).length?e:o.work_summaries;return o.work_summaries=s(s({},a),{},(0,r.Z)({},"".concat(t,"_work"),o.work_summaries["".concat(t,"_work")])),o}},O=s(s({},v.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"author",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)({},a.S,{types:v.actions,endpoint:"".concat(u,"/").concat(e),postProcess:y(t,e)})},loadPrivatePaths:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)({},a.S,{types:v.actions,endpoint:"".concat(u,"/path/organization/").concat(e),postProcess:y(t,"private")})}})},75843:function(e,t,n){n.d(t,{R:function(){return o}});var r=(0,n(20767).oM)({name:"banner",initialState:{count:0,bannersHeight:0,banners:{}},reducers:{show:{reducer:function(e,t){var n,r=t.payload,o=r.bannerType,a=r.bannerProps;null!==(n=e.banners[o])&&void 0!==n&&n.showBanner||!a||(e.banners[o]=a,e.count=e.count+1)},prepare:function(e,t){return{payload:{bannerType:e,bannerProps:t}}}},hide:function(e,t){var n=t.payload;e.banners[n]&&(e.banners[n].showBanner=!1,e.count=e.count-1)},forceHide:function(e,t){var n=t.payload;e.banners[n]&&(e.banners[n].forceHide=!0,e.banners[n].showBanner=!1)},setBannerHeight:function(e,t){var n=t.payload.bannerHeight;e.bannersHeight=n}}});t.Z=r.reducer;var o=r.actions},10614:function(e,t,n){n.d(t,{t:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"collectionArticlePreview",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(e){var t=e.author_id,n=e.collection_id,o=e.page_id,i=e.course_url_slug,c=void 0===i?void 0:i,s=e.page_url_slug,u=void 0===s?void 0:s,d=e.isDraft,l=e.editorPageProps,f=e.resetWidgetUserData,v=void 0===f||f,y=e.router,O=e.work_type,g=void 0===O?void 0:O,b=e.path_author_id,m=void 0===b?void 0:b,h=e.path_id,j=void 0===h?void 0:h,P=e.organization_id,S=void 0===P?void 0:P,_=e.menteeId,w=void 0===_?void 0:_,Z=c?"collection/".concat(c,"/page/").concat(u,"/props"):"collection/".concat(t,"/").concat(n,"/page/").concat(o,"/props").concat(d?"/draft?editor_page_props=".concat(!!l):"");g&&(Z+="?work_type=".concat(g)),d||(m&&j&&(Z+="&path_author_id=".concat(m,"&path_id=").concat(j)),S&&(Z+="&organization_id=".concat(S)),w&&(Z+="&mentee_id=".concat(w)));var D={menteeId:w,organization_id:S,path_author_id:m,path_id:j};return function(e,o){e((0,r.Z)({},a.S,{types:p.actions,endpoint:Z,errorHook:function(e){403===e.error.status&&y.push(c?"/courses/".concat(c):"/collection/".concat(t,"/").concat(n))},resetWidgetUserData:v,askForHelpData:D,postProcess:JSON.parse}))}}})},90337:function(e,t,n){n.d(t,{ry:function(){return O}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(54758),s=n(67261),u=n(20767),d=n(84283);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=c.s4,v=function(e,t){for(var n=e,r=0;t.filter((function(e){return e.name===n})).length;){if(++r>20){n="".concat(e,"-").concat((0,u.x0)());break}n="".concat(e,"-").concat((0,s.Z)().substr(0,6))}return n},y=(0,u.oM)({name:"dockerDetails",initialState:f,reducers:{setObject:function(e,t){return p(p({},t.payload),{},{loaded:!0})},setFile:function(e,t){var n=t.payload;e.container.imageName="",Object.assign(e.container,n)},removeImage:function(e){e.container=c.s4.container},updateBuildStatus:function(e,t){var n=t.payload;e.container&&(e.container.buildStatus=n)},setTrackStatus:function(e,t){var n=t.payload,r=void 0!==n&&n;e.container&&(e.container.track=r)},addJob:function(e,t){var n=t.payload;e.jobs||(e.jobs=[]),e.jobs.push(p(p({},n),{},{key:(0,u.x0)()}))},duplicateJob:function(e,t){var n=t.payload;e.jobs||(e.jobs=[]),e.jobs.push(p(p({},n),{},{key:(0,u.x0)(),name:v("".concat(n.name,"-copy"),e.jobs)}))},updateJob:function(e,t){var n=t.payload,r=n.payload,o=n.index;e.jobs[o]=r},resetLoaded:function(e){e.loaded=!1},removeJob:function(e,t){var n=t.payload.index;e.jobs.splice(n,1)},afterFileUpload:function(e,t){var n=t.payload;e.container.imageName=n,e.container.buildStatus="PENDING",e.container.file.awaitingUpload=!1},saveEnvVariable:function(e,t){var n,r=t.payload.env,o=r.id,a=void 0===o?"":o,i=r.key,c=void 0===i?"":i,s=r.value,d=void 0===s?"":s,l=r.useAsDefault,p=void 0===l||l,f=r.deleted,v=void 0!==f&&f,y=r.defaultValue,O=void 0===y?"":y,g=c,b=null!==(n=null===e||void 0===e?void 0:e.envs)&&void 0!==n?n:[],m={id:a||(0,u.x0)(),key:c,name:g,value:d,useAsDefault:p,deleted:v,defaultValue:O},h=b.findIndex((function(e){return e.id===a}));-1!==h?e.envs[h]=m:e.envs.push(m)},saveEnvs:function(e,t){var n=t.payload;e.envs=n.envs},removeEnvVariable:function(e,t){var n=t.payload.env,r=e.envs.findIndex((function(e){return e.id===n.id}));-1!==r&&e.envs.splice(r,1)}}});t.ZP=y.reducer;var O=p(p({},y.actions),{},{rebuildImage:function(e){return function(t){t(O.updateBuildStatus("REBUILDING"));var n=null===e||void 0===e?void 0:e.container;(0,d.Z)({url:null===n||void 0===n?void 0:n.rebuildImageUrl,type:"PUT",processData:!1}).then((function(){t(O.updateBuildStatus("PENDING"))})).catch((function(){t(O.updateBuildStatus("FAILURE"))}))}},trackBuild:function(e,t){return function(n,r){var i,s=null===(i=r().dockerDetails)||void 0===i?void 0:i.container;if(s&&s.track&&(0,c.FE)(s.buildStatus)){var u=function(){var i=(0,a.Z)(o().mark((function a(){var i,l,p,f,v,y;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,d.Z)({url:s.buildStatusUrl,type:"GET"},!0);case 3:f=o.sent,p=f.data,o.next=11;break;case 7:return o.prev=7,o.t0=o.catch(0),500===o.t0.status&&setTimeout(u,3e3),o.abrupt("return");case 11:v=JSON.parse(p),y=v.build_status,null!==(i=r().dockerDetails)&&void 0!==i&&null!==(l=i.container)&&void 0!==l&&l.track&&(0,c.FE)(y)?setTimeout(u,3e3):(0,c.FE)(y)||(n(O.setTrackStatus(!1)),n(e(t,O.updateBuildStatus(y))));case 13:case"end":return o.stop()}}),a,null,[[0,7]])})));return function(){return i.apply(this,arguments)}}();setTimeout(u,1e3)}}}})},63021:function(e,t,n){n.d(t,{hT:function(){return v}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(84283),s=n(20767),u=n(54758);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=u.s4,f=(0,s.oM)({name:"testingDockerDetails",initialState:p,reducers:{setObject:function(e,t){return l(l({},t.payload),{},{loaded:!0})},setFile:function(e,t){var n=t.payload;e.container.imageName="",Object.assign(e.container,n)},removeImage:function(e){e.container=u.s4.container},updateBuildStatus:function(e,t){var n=t.payload;e.container&&(e.container.buildStatus=n)},setTrackStatus:function(e,t){var n=t.payload,r=void 0!==n&&n;e.container&&(e.container.track=r)},addTestRunner:function(e,t){var n,r=t.payload;e.testRunners=null!==(n=e.testRunners)&&void 0!==n?n:[],e.testRunners.push(l(l({},r),{},{id:(0,s.x0)()}))},updateTestRunner:function(e,t){var n=t.payload,r=n.payload,o=n.index;e.testRunners[o]=r},removeTestRunner:function(e,t){var n=t.payload.index;e.testRunners.splice(n,1)},resetLoaded:function(e){e.loaded=!1},afterFileUpload:function(e,t){var n=t.payload;e.container.imageName=n,e.container.buildStatus="PENDING",e.container.file.awaitingUpload=!1},saveEnvVariable:function(e,t){var n,r=t.payload.env,o=null!==(n=e.envs)&&void 0!==n?n:[],a={id:r.id||(0,s.x0)(),key:r.key||"",name:r.key||"",value:r.value||"",deleted:r.deleted||!1,defaultValue:r.defaultValue||"",useAsDefault:r.useAsDefault||!0},i=o.findIndex((function(e){return e.id===r.id}));-1!==i?e.envs[i]=a:e.envs.push(a)},saveEnvs:function(e,t){var n=t.payload;e.envs=n.envs},removeEnvVariable:function(e,t){var n=t.payload.env,r=e.envs.findIndex((function(e){return e.id===n.id}));-1!==r&&e.envs.splice(r,1)}}}),v=l(l({},f.actions),{},{rebuildImage:function(e){return function(t){t(v.updateBuildStatus("REBUILDING")),(0,c.Z)({url:e.container.rebuildImageUrl,type:"PUT",processData:!1}).then((function(){t(v.updateBuildStatus("PENDING"))})).catch((function(){t(v.updateBuildStatus("FAILURE"))}))}},trackBuild:function(e,t){return function(n,r){var i=r().testingDockerDetails.container;if(i&&i.track&&(0,u.FE)(i.buildStatus)){var s=function(){var d=(0,a.Z)(o().mark((function a(){var d,l,p,f,y;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,c.Z)({url:i.buildStatusUrl,type:"GET"},!0);case 3:p=o.sent,l=p.data,o.next=11;break;case 7:return o.prev=7,o.t0=o.catch(0),500===o.t0.status&&setTimeout(s,3e3),o.abrupt("return");case 11:f=JSON.parse(l),y=f.build_status,null!==(d=r().testingDockerDetails.container)&&void 0!==d&&d.track&&(0,u.FE)(y)?setTimeout(s,3e3):(0,u.FE)(y)||(n(v.setTrackStatus(!1)),n(e(t,v.updateBuildStatus(y))));case 13:case"end":return o.stop()}}),a,null,[[0,7]])})));return function(){return d.apply(this,arguments)}}();setTimeout(s,1e3)}}}});t.ZP=f.reducer},74237:function(e,t,n){n.d(t,{yH:function(){return j}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(98888),d=n(20767),l=n(27913),p=n(97242),f=n(49227);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O="page/editor",g=(0,c.Z)(),b=g.initialState,m=g.reducers,h=(0,d.oM)({name:O,initialState:b,reducers:y(y({},m),{},{updateReadTime:function(e,t){var n=t.payload;n&&e.loaded&&(e.data.readTime=n)}})});t.ZP=h.reducer;var j=y(y({},h.actions),{},{load:function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r,a){var c,d,v,y,g,b,m,j;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r((0,i.Z)({},s.S,{types:h.actions,endpoint:"".concat(O,"/").concat(e),postProcess:u.u,getHeaders:!0}));case 2:if(!(j=null===(c=a().editorPages)||void 0===c||null===(d=c.editorPage)||void 0===d||null===(v=d.data)||void 0===v?void 0:v.marketing_page_content)||t){n.next=7;break}return n.next=6,(0,p.nA)(j,!1,f.sL.BLOGS);case 6:j=n.sent;case 7:return n.abrupt("return",r(l.oh.load(null!==(y=null===(g=a().editorPages)||void 0===g||null===(b=g.editorPage)||void 0===b||null===(m=b.data)||void 0===m?void 0:m.content)&&void 0!==y?y:j,!0,t)));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})},62083:function(e,t,n){n.d(t,{NT:function(){return j}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(98888),d=n(20767),l=n(97242),p=n(49227),f=n(12101);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O="page/url",g=(0,c.Z)(),b=g.initialState,m=g.reducers,h=(0,d.oM)({name:O,initialState:b,reducers:y(y({},m),{},{getReadTime:function(e,t){var n=t.payload;n&&e.loaded&&(e.data.page_read_time=n)},updateContent:function(e,t){var n=t.payload;n&&e.loaded&&(e.data.marketing_page_content=n)}})});t.ZP=h.reducer;var j=y(y({},h.actions),{},{load:function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r,a){var c,d,v,y;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r((0,i.Z)({},s.S,{types:h.actions,endpoint:"".concat(O,"/").concat(t,"/").concat(e),postProcess:u.u,getHeaders:!0}));case 2:if(!(y=null===(c=a().editorPages)||void 0===c||null===(d=c.editorPagePublished)||void 0===d||null===(v=d.data)||void 0===v?void 0:v.marketing_page_content)||![f.Mq.blog,f.Mq.enterprise].includes(t)){n.next=8;break}return n.next=6,(0,l.nA)(y,!0,p.sL.BLOGS);case 6:y=n.sent,r(j.updateContent(y));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})},33027:function(e,t,n){n.d(t,{P:function(){return y}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="edpresso/all_tags",d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:u,initialState:l,reducers:p});t.Z=f.reducer;var v=function(e){return function(e){return JSON.parse(e)}},y=s(s({},f.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:f.actions,endpoint:u,postProcess:v()})}})},64768:function(e,t,n){n.d(t,{x:function(){return y}});var r=n(32868),o=n(93586),a=n(10047),i=n(11616),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="edpresso/bookmarked-shots",l=(0,a.Z)(),p=l.initialState,f=l.reducers,v=(0,c.oM)({name:d,initialState:p,reducers:u(u({},f),{},{set:function(e,t){var n,o,a,i=t.payload,c=i.isBookmarkedByReader,s=i.shot,d=null!==(n=null===(o=e.data)||void 0===o||null===(a=o.bookmarked_shots)||void 0===a?void 0:a.findIndex((function(e){return e.id===s.id})))&&void 0!==n?n:-1;if(e.loaded&&d>=0)e.data.bookmarked_shots[d].isBookmarkedByReader=c,c||e.data.bookmarked_shots.splice(d,1);else if(e.loaded){var l=u(u({},s),{},{isBookmarkedByReader:c});e.data.bookmarked_shots=[].concat((0,r.Z)(e.data.bookmarked_shots),[l])}}})});t.Z=v.reducer;var y=u(u({},v.actions),{},{load:function(){return(0,o.Z)({},i.S,{types:v.actions,endpoint:d,postProcess:JSON.parse})}})},44091:function(e,t,n){n.d(t,{A:function(){return m}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(18115),d=n(20767),l=n(84283),p=n(55532);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,c.Z)(),O=y.initialState,g=y.reducers,b=(0,d.oM)({name:"edpresso/shotProperties",initialState:O,reducers:v(v({},g),{},{setBookmarkStatus:function(e,t){var n=t.payload;e.loaded&&(e.data.isBookmarkedByReader=n)},updateAttributions:function(e,t){var n=t.payload;e.data.attributions=n||[]},updateDraftViewers:function(e,t){var n=t.payload;e.data.draftViewers=n||"[]"},invertIsShotApproved:function(e,t){var n=t.payload;e.data&&(e.data.isShotApprovedForPublish=n)},setLikeStatus:function(e,t){var n=t.payload,r=n.like,o=n.shotLikes;e.loaded&&(e.data.isLikedByReader=r,e.data.shotLikes=o)}})});t.Z=b.reducer;var m=v(v({},b.actions),{},{load:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){r().edpresso.properties.loaded||r().edpresso.properties.loading||n((0,i.Z)({},s.S,{types:b.actions,endpoint:"edpresso/shot/".concat(e,"/props"),queryParams:{status:t?"published":"draft"},postProcess:function(e){var t=(0,u.Z)(JSON.parse(e));return n(p.T.updateShotTags(t.tags)),t}}))}},updateShotAttribution:function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.Z)({url:"/api/edpresso/editor/shot/".concat(e,"/update-attributions"),type:"POST",data:{attributions:JSON.stringify(t)}});case 2:return a=n.sent,r(m.updateAttributions((0,u.Z)(t))),n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})},55532:function(e,t,n){n.d(t,{T:function(){return D}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(34560),s=n(54758),u=n(51945),d=n(10047),l=n(11616),p=n(98888),f=n(20767),v=n(27913),y=n(60136),O=n(44091),g=n(90337),b=n(97242),m=n(49227);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P="edpresso/shot",S=(0,d.Z)(),_=S.initialState,w=S.reducers,Z=(0,f.oM)({name:P,initialState:_,reducers:j(j({},w),{},{updateReadTime:function(e,t){var n=t.payload;n&&e.loaded&&(e.data.readTime=n)},updateShotTags:function(e,t){var n=t.payload;e.loaded&&e.data.tags!==n&&(e.data.tags=n)},updateContent:function(e,t){var n=t.payload;n&&e.loaded&&(e.data.content=n)}})});t.Z=Z.reducer;var D=j(j({},Z.actions),{},{clear:function(){return function(e){e(Z.actions.clear()),e(O.A.clear())}},load:function(e){var t=e.shot_id,n=e.shot_url,r=void 0===n?void 0:n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var e=(0,a.Z)(o().mark((function e(n,a){var u,d,f,O,g,h,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,i.Z)({},l.S,{types:Z.actions,endpoint:"".concat(P,"/").concat(null!==t&&void 0!==t?t:"url/".concat(r)),postProcess:function(e){return j(j({},(0,p.u)(e)),{},{tags:""})},getHeaders:!0}));case 3:if((O=e.sent)&&n(D.updateETag(O.xhr.headers.get(c.Zq))),!a().edpresso.shots.error){e.next=7;break}throw new Error("SHOT_NOT_LOADED");case 7:if((g=a().edpresso.shots.data)&&s&&n(D.prepareDockerOnSetShot(g,!0)),null!==g&&void 0!==g&&g.shotId||s){e.next=11;break}throw new Error("SHOT_CLEARED");case 11:return h=null===(u=a().edpresso)||void 0===u||null===(d=u.shots)||void 0===d||null===(f=d.data)||void 0===f?void 0:f.content,e.next=14,(0,b.nA)(h,!s,m.sL.SHOT);case 14:h=e.sent,n(v.oh.load(h,!0,!1,!0)),n(D.updateContent(h)),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),"SHOT_CLEARED"!==(S=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&"SHOT_NOT_LOADED"!==S&&(0,y.u)(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}()},prepareDockerOnSetShot:function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r,a){var i,c,d,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null!==e&&void 0!==e&&e.docker?j(j({},e.docker),{},{envs:null!==(i=e.docker.envs)&&void 0!==i?i:[]}):s.s4,!t){n.next=7;break}return n.next=4,(0,u.wi)();case 4:n.t0=n.sent,n.next=8;break;case 7:n.t0={};case 8:d=n.t0,l=j(j({},c),{},{container:j(j({},c.container),{},{liveInstance:d})}),r(g.ry.setObject(l));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})},30976:function(e,t,n){n.d(t,{M:function(){return f}});var r=n(93586),o=n(11616),a=n(10047),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,a.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"enterprise/discount",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(e){return(0,r.Z)({},o.S,{types:p.actions,endpoint:"enterprise/discount/".concat(e),postProcess:JSON.parse})}})},21085:function(e,t,n){n.d(t,{C:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/employee-assigned-courses",initialState:l,reducers:p});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e,t){return(0,r.Z)({},o.S,{types:f.actions,endpoint:"enterprise/organization/".concat(e,"/assigned-courses/user/").concat(t),apiMethod:"GET",postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},45877:function(e,t,n){n.d(t,{H:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/employees-with-assigned-courses",initialState:l,reducers:u(u({},p),{},{updateAssignedCoursesCountForUser:function(e,t){var n,r=t.payload,o=r.count,a=r.userId,i=r.action,c=((null===(n=e.data)||void 0===n?void 0:n.users)||[]).findIndex((function(e){return e.id===a}));c>=0&&("increment"===i?e.data.users[c].numOfAssignedCourses+=o:"decrement"===i&&(e.data.users[c].numOfAssignedCourses-=o))}})});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e){return(0,r.Z)({},o.S,{types:f.actions,endpoint:"enterprise/organization/".concat(e,"/assigned-courses/users"),apiMethod:"GET",postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},67427:function(e,t,n){n.d(t,{X:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/organization/sso-config",initialState:l,reducers:u(u({},p),{},{updateOktaFieldValues:function(e,t){var n=t.payload.updatedValue;e.data.values=n.values}})});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e){return(0,r.Z)({},o.S,{types:f.actions,endpoint:"enterprise/organization/".concat(e,"/sso-config"),apiMethod:"GET",postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},10456:function(e,t,n){n.d(t,{$:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/organization/subscriptions",initialState:l,reducers:u(u({},p),{},{add:function(e,t){var n=t.payload;e.loaded&&n&&e.data.subscriptions.push(n.subscription)},update:function(e,t){var n=t.payload;if(e.loaded&&n){var r=e.data.subscriptions.findIndex((function(e){return e.id===n.id}));e.data.subscriptions[r]=n}}})});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e){return(0,r.Z)({},o.S,{types:f.actions,endpoint:"enterprise/organization/".concat(e,"/subscriptions"),apiMethod:"GET",postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},32645:function(e,t,n){n.d(t,{J:function(){return y}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/organization/subscriptions/users",initialState:l,reducers:u(u({},p),{},{update:function(e,t){var n=t.payload,r=n.subscriptionId,o=n.users,a=void 0===o?{}:o;r&&(e.data[r]=a)}})}),v=function(e,t){return function(n){var o,a,c=(0,i.Z)(JSON.parse(n)),s=(null===(o=t().enterprise)||void 0===o||null===(a=o.subscriptionUsers)||void 0===a?void 0:a.data)||null;return s?u(u({},s),{},(0,r.Z)({},e,c)):(0,r.Z)({},e,c)}};t.Z=f.reducer;var y=u(u({},f.actions),{},{load:function(e,t){return function(n,a){return n((0,r.Z)({},o.S,{types:f.actions,endpoint:"enterprise/organization/".concat(e,"/subscription/").concat(t,"/users"),apiMethod:"GET",postProcess:v(t,a)}))}}})},61066:function(e,t,n){n.d(t,{d:function(){return O}});var r=n(93586),o=n(32868),a=n(11616),i=n(10047),c=n(18115),s=n(20767);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,i.Z)(),p=l.initialState,f=l.reducers,v=function(e){return function(t){var n=JSON.parse(t),r=e().enterprise.teamTrials.data,a=(null===r||void 0===r?void 0:r.trials)||[],i=(0,c.Z)((null===n||void 0===n?void 0:n.trials)||[]);return{more:null===n||void 0===n?void 0:n.more,cursor:null===n||void 0===n?void 0:n.cursor,trials:[].concat((0,o.Z)(a),(0,o.Z)(i))}}},y=(0,s.oM)({name:"enterprise/team-trial/admin-team-trials",initialState:p,reducers:d(d({},f),{},{updateTrial:function(e,t){var n,r,o=t.payload,a=null===(n=e.data)||void 0===n||null===(r=n.trials)||void 0===r?void 0:r.findIndex((function(e){return e.id===o.trial.id}));a>=0&&(e.data.trials[a]=o.trial)},updateTrialStatus:function(e,t){var n,r,o=t.payload,a=null===(n=e.data)||void 0===n||null===(r=n.trials)||void 0===r?void 0:r.findIndex((function(e){return e.id===o.id}));a>=0&&(e.data.trials[a].status=o.status,e.data.trials[a].startDate=o.startDate,e.data.trials[a].endDate=o.expirationDate)}})});t.Z=y.reducer;var O=d(d({},y.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"team-trials";return function(n,o){return n((0,r.Z)({},a.S,{types:y.actions,endpoint:e?"enterprise/".concat(t,"?cursor=").concat(e):"enterprise/".concat(t),apiMethod:"GET",postProcess:v(o)}))}}})},90652:function(e,t,n){n.d(t,{j:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/time-spent/courses",initialState:l,reducers:p});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.Z)({},o.S,{types:f.actions,endpoint:n&&a?"enterprise/time-spent/subscription/".concat(e,"/").concat(t,"/courses"):"enterprise/time-spent/subscription/alltime/".concat(e,"/").concat(t,"/courses"),apiMethod:"POST",data:{start_date:n,end_date:a},postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},90059:function(e,t,n){n.d(t,{U:function(){return o}});var r=(0,n(20767).oM)({name:"UsageStatsSelectedUser",initialState:{data:null},reducers:{setUser:function(e,t){var n=t.payload;e.data=n?{id:n.id,email:n.email,name:n.name}:null}}});t.Z=r.reducer;var o=r.actions},63406:function(e,t,n){n.d(t,{G:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/time-spent/user/user-id",initialState:l,reducers:u(u({},p),{},{set:function(e,t){var n=t.payload;e.data.works=n}})});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,r.Z)({},o.S,{types:f.actions,endpoint:a&&c?"enterprise/time-spent/subscription/".concat(t,"/").concat(n,"/user/").concat(e,"/V2"):"enterprise/time-spent/subscription/alltime/".concat(t,"/").concat(n,"/user/").concat(e,"/V2"),apiMethod:"POST",data:{start_date:a,end_date:c},postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},5663:function(e,t,n){n.d(t,{e:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"enterprise/time-spent/users",initialState:l,reducers:p});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.Z)({},o.S,{types:f.actions,endpoint:n&&a?"enterprise/time-spent/subscription/".concat(e,"/").concat(t,"/users/V2"):"enterprise/time-spent/subscription/alltime/".concat(e,"/").concat(t,"/users/V2"),apiMethod:"POST",data:{start_date:n,end_date:a},postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},10047:function(e,t,n){var r=n(93586),o=n(34560);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){return{initialState:{loaded:!1},reducers:{pending:function(e){e.loading=!0},fulfilled:function(e,t){var n=t.payload;return{error:void 0,loading:!1,loaded:!0,data:i(i({},e.data),n)}},rejected:function(e,t){return{loading:!1,loaded:!1,error:t.error}},clear:function(e){return{loaded:!1}},updateETag:function(e,t){var n,r=t.payload;e.data=null!==(n=e.data)&&void 0!==n?n:{},e.data[o.Zq]=r},updateLastModified:function(e){var t;e.data=null!==(t=e.data)&&void 0!==t?t:{},e.data.lastModified=new Date}}}}},12569:function(e,t,n){n.d(t,{A:function(){return o}});var r=(0,n(20767).oM)({name:"loader",initialState:{isLoaded:!1,isLoading:!1},reducers:{set:function(e,t){var n=t.payload;void 0!==n.isLoaded&&(e.isLoaded=n.isLoaded),void 0!==n.isLoading&&(e.isLoading=n.isLoading)}}});t.ZP=r.reducer;var o=r.actions},16962:function(e,t,n){n.d(t,{n:function(){return f}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(20767),s=n(12006);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={showModal:!1,typeToShow:null,params:null,className:""},p=(0,c.oM)({name:"modals",initialState:l,reducers:{show:{reducer:function(e,t){var n=t.payload,r=n.typeToShow,o=n.params,a=void 0===o?null:o,i=n.className,c=void 0===i?"":i;e.showModal=!0,e.typeToShow=r,a&&(e.params=a),c&&(e.className=c)},prepare:function(e,t,n){return{payload:{typeToShow:e,params:t,className:n}}}},update:function(e,t){var n=t.payload;n&&(e.params=n)},showOrUpdate:{reducer:function(e,t){var n=t.payload,r=n.typeToShow,o=n.params,a=void 0===o?null:o;e.showModal||(e.showModal=!0,e.typeToShow=r),a&&(e.params=a)},prepare:function(e,t){return{payload:{typeToShow:e,params:t}}}},close:function(){return l}}});t.Z=p.reducer;var f=d(d({},p.actions),{},{actionWithMessages:function(e,t,n,r){return function(){var i=(0,a.Z)(o().mark((function a(i){var c;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i(f.show(s.ad,{status:"WAIT",text:t})),o.prev=1,o.next=4,i(e);case 4:return c=o.sent,i(f.update({status:"SUCCESS",text:n})),o.abrupt("return",c);case 9:throw o.prev=9,o.t0=o.catch(1),i(f.update({status:"ERROR",text:r})),o.t0;case 13:case"end":return o.stop()}}),a,null,[[1,9]])})));return function(e){return i.apply(this,arguments)}}()}})},92346:function(e,t,n){n.d(t,{i:function(){return o}});var r=(0,n(20767).oM)({name:"notFoundPage",initialState:!1,reducers:{set:function(e,t){return t.payload}}});t.Z=r.reducer;var o=r.actions},27644:function(e,t,n){n.d(t,{D:function(){return m}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(98888),d=n(20767),l=n(27913);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v="page",y=(0,c.Z)(),O=y.initialState,g=y.reducers,b=(0,d.oM)({name:v,initialState:O,reducers:g});t.Z=b.reducer;var m=f(f({},b.actions),{},{load:function(e,t,n){return function(){var r=(0,a.Z)(o().mark((function r(a,c){var d,p;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a((0,i.Z)({},s.S,{types:b.actions,endpoint:v+"/".concat(e,"/").concat(t),errorHook:function(r){403===r.error.status&&n.push("/page/preview/".concat(e,"/").concat(t))},postProcess:u.u}));case 2:return r.abrupt("return",a(l.oh.load(null===(d=c().page)||void 0===d||null===(p=d.data)||void 0===p?void 0:p.components)));case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}})},5905:function(e,t,n){n.d(t,{E:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"pagePreview",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,r.Z)({},a.S,{types:p.actions,endpoint:"page/".concat(e,"/").concat(t,"/props").concat(n),errorHook:function(e){console.log(e)},postProcess:JSON.parse})}})},17412:function(e,t,n){n.d(t,{W:function(){return g}});var r=n(30645),o=n(64537),a=n(93586),i=n(20767),c=n(83354),s=n(11616);function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,n(10047).Z)(),v=f.initialState,y=f.reducers,O=(0,i.oM)({name:"paths/moduleCategories",initialState:v,reducers:p(p({},y),{},{set:function(e,t){var n=t.payload;e.data=n,e.loaded=!0},editConnectInfos:function(e,t){t.payload.forEach((function(t){var n,r=t.week_id,o=t.email,a=t.full_name,i=t.index,c=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.connects,s=c.findIndex((function(e){return e.week_id===r}));if(s>=0){var u=c[s].connect_info[i-1];u.email=o,u.full_name=a}}))},updateConnectStatus:function(e,t){var n,r=t.payload,o=r.weekId,a=r.id,i=r.status,c=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.connects,s=c.findIndex((function(e){return e.week_id===o})),u=c[s].connect_info.findIndex((function(e){return e.id===a}));c[s].connect_info[u].status=i}})});t.Z=O.reducer;var g=p(p({},O.actions),{},{load:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,a.Z)({},s.S,{types:O.actions,endpoint:"".concat(n?"author":"collection","/").concat(e).concat(n?"/collection":"","/").concat(t,"/categories?update_path_item_titles=").concat(i).concat(d?"&menteeId=".concat(d):""),postProcess:function(n){var a=JSON.parse(n),i=a.plan_title,s=a.connects,d=a.is_assigned,l=(0,o.Z)(a,["plan_title","connects","is_assigned"]),f=l,v="".concat(e,"_").concat(t),y=0,O=[],g=function(e,t){var n=t.pages,r=0;return null===n||void 0===n||n.forEach((function(t){(t.is_optional||e!==v&&O.includes(e))&&((0,c.mz)(t.type)?(O.push("".concat(t.author_id,"_").concat(t.collection_id,"_").concat(t.page_id)),r++):O.push("".concat(t.author_id,"_").concat(t.collection_id)))})),r},b=f[v];null===b||void 0===b||b.forEach((function(e){y+=g(v,e)}));for(var m=0,h=Object.entries(f);m<h.length;m++){var j=(0,r.Z)(h[m],2),P=j[0],S=j[1];if(P!==v){var _,w=u(S);try{for(w.s();!(_=w.n()).done;){var Z=_.value;y+=g(P,Z)}}catch(D){w.e(D)}finally{w.f()}}}return p({planTitle:i,is_assigned:d,connects:s,optionalItemsCount:y,optionalItems:O},l)}})}})},50844:function(e,t,n){n.d(t,{J:function(){return v}});var r=n(93586),o=n(20767),a=n(11616),i=n(10047);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,i.Z)(),d=u.initialState,l=u.reducers,p=(0,o.oM)({name:"paths/pathCompletion",initialState:d,reducers:s(s({},l),{},{updateMap:function(e,t){var n=t.payload,r=n.authorId,o=n.collectionId,a=n.key,i=n.value,c=function(e,t){return"CourseCompletion_".concat(e,"_").concat(t)}(r,o);c in e.data.maps||(e.data.maps[c]={}),e.data.maps[c][a]=i}})}),f=function(e,t){return function(n){return s(s({},JSON.parse(n)),{},{pathAuthorId:Number(e),pathId:Number(t)})}};t.Z=p.reducer;var v=s(s({},p.actions),{},{load:function(e,t,n,o,i){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"userdata/map/path/".concat(e,"/").concat(t).concat(i?"?organization_id=".concat(o,"&mentee_id=").concat(i):""),apiMethod:"POST",data:{categories_json_string:n},postProcess:f(e,t)})}})},92927:function(e,t,n){n.d(t,{e:function(){return i}});var r=n(20767),o={workData:null,coupon:null,total_price:null,transaction_id:null,user_transaction_id:null},a=(0,r.oM)({name:"payment",initialState:o,reducers:{setWorkData:function(e,t){var n=t.payload,r=n.price;return"preferred_subscription_id"in n&&null!==n.preferred_subscription_id&&n.preferred_subscription_id===n.subscription_id&&n.b2c_trial_currency_code===n.currency_code?r=n.preferred_subscription_total_price:"preferred_subscription_credit_used"in n&&n.preferred_subscription_credit_used&&n.b2c_trial_currency_code===n.currency_code&&(r-=n.preferred_subscription_credit_used),{workData:n,total_price:r,transaction_id:null,user_transaction_id:null,subscription:n.subscription}},resetAll:function(){return o},setCouponData:function(e,t){var n,r=t.payload;e.coupon=r,e.total_price=r.price_with_coupon-(null!==(n=e.redeem_credit_amount)&&void 0!==n?n:0),e.discount_never_expires=r.discount_never_expires},setOriginalPrice:function(e,t){var n,r=t.payload,o=null!==(n=e.redeem_credit_amount)&&void 0!==n?n:0;e.workData.price=r.price-o,e.workData.price_with_special_discount=r.price_with_special_discount-o,e.workData.price_calc_str=""},resetCouponData:function(e,t){var n,r=t.payload,o=void 0===r?null:r;if(e.workData||o){e.coupon=null;var a=null!==(n=e.redeem_credit_amount)&&void 0!==n?n:0;!o&&e.workData.price_with_special_discount&&(e.workData.price=e.workData.price_with_special_discount-a),e.total_price=(null!==o&&void 0!==o?o:e.workData.price)-a,e.discount_never_expires=null}},setRedeemCreditData:function(e,t){var n=t.payload;e.total_price=n.newTotalPrice,e.redeem_credit_amount=n.redeemedCreditAmount},resetRedeemCreditData:function(e,t){var n=t.payload;e.total_price=e.total_price+n,e.redeem_credit_amount=null},setTransactionId:function(e,t){var n=t.payload;e.transaction_id=n},setUserTransactionId:function(e,t){var n=t.payload;e.user_transaction_id=n}}});t.Z=a.reducer;var i=a.actions},14601:function(e,t,n){n.d(t,{e:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767),c=n(49227);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:"reader/assigned-courses",initialState:l,reducers:p});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.xC.ASSIGNED;return(0,r.Z)({},a.S,{types:f.actions,endpoint:"reader/enterprise/assigned-courses?status=".concat(e),postProcess:JSON.parse})}})},66866:function(e,t,n){n.d(t,{T:function(){return v}});var r=n(93586),o=n(20767),a=n(49227),i=n(11616);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,n(10047).Z)(),d=u.initialState,l=u.reducers,p=(0,o.oM)({name:"reader/learnertags/path-list",initialState:d,reducers:l}),f=function(e){return function(t){var n=JSON.parse(t);return n.summaries=e.concat(n.summaries),n}};t.Z=p.reducer;var v=s(s({},p.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6;return(0,r.Z)({},i.S,{types:p.actions,endpoint:"reader/learnertags/work-list?work_type=".concat(a.dL.PATH,"&tags=").concat(n).concat(o?"&tags=".concat(encodeURIComponent(o)):"").concat(e?"&cursor=".concat(e):"","&page_size=").concat(c),postProcess:f(t)})}})},73565:function(e,t,n){n.d(t,{_:function(){return y}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767),c=n(49227);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:"reader/learnertags/work-list",initialState:l,reducers:p});t.Z=f.reducer;var v=function(e){return function(t){var n=JSON.parse(t);return n.summaries=e.concat(n.summaries),n}},y=u(u({},f.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6;return(0,r.Z)({},a.S,{types:f.actions,endpoint:"reader/learnertags/work-list?work_type=".concat(c.dL.COLLECTION,"&tags=").concat(n).concat(o?"&tags=".concat(encodeURIComponent(o)):"").concat(e?"&cursor=".concat(e):"","&page_size=").concat(i),postProcess:v(t)})}})},46052:function(e,t,n){n.d(t,{aE:function(){return y}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="page/editor/all",d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:u,initialState:l,reducers:s(s({},p),{},{delete:function(e,t){var n=t.payload;n&&e.loaded&&(e.data.pages=e.data.pages.filter((function(e){return e.id!==n})))}})});t.ZP=f.reducer;var v=function(e){return function(t){var n=JSON.parse(t);return n.pages=e.concat(n.pages),delete n.editor_pages,n}},y=s(s({},f.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(0,r.Z)({},a.S,{types:f.actions,endpoint:"".concat(u,"/").concat(n,"/").concat(e,"?filter_type=").concat(encodeURIComponent(o)),postProcess:v(t)})}})},96807:function(e,t,n){n.d(t,{s:function(){return y}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="reader/featured",d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:u,initialState:l,reducers:p});t.Z=f.reducer;var v=function(e){return function(t){var n=JSON.parse(t);return n.summaries=e.concat(n.summaries),n}},y=s(s({},f.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return(0,r.Z)({},a.S,{types:f.actions,endpoint:"free"===n?"reader/featured_items?only_free=true":"".concat(u,"/").concat(e,"?filter_type=").concat(n),postProcess:v(t)})},loadEarlyAccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.Z)({},a.S,{types:f.actions,endpoint:"".concat(u,"-early-access"),postProcess:v(e)})}})},14203:function(e,t,n){n.d(t,{z:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="reader/inprogress",d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:u,initialState:l,reducers:p});t.Z=f.reducer;var v=s(s({},f.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:f.actions,endpoint:"".concat(u),postProcess:JSON.parse})},loadAll:function(){return(0,r.Z)({},a.S,{types:f.actions,endpoint:"".concat(u,"?fetch_all=true"),postProcess:JSON.parse})}})},68999:function(e,t,n){n.d(t,{d:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/completedWorks",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false";return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/all-completed-works?work_type=".concat(e,"&fetch_all_types=").concat(t),postProcess:JSON.parse})}})},97432:function(e,t,n){n.d(t,{g:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/githubStudentPack",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/github-student-pack",postProcess:JSON.parse})}})},76905:function(e,t,n){n.d(t,{F:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/inProgressPaths",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/inprogress?work_type=path",postProcess:JSON.parse})},loadAll:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/inprogress?work_type=path&fetch_all=true",postProcess:JSON.parse})}})},14191:function(e,t,n){n.d(t,{C:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/latestCourses",initialState:d,reducers:l});t.Z=p.reducer;var f=function(e){return function(t){var n=JSON.parse(t);return n.summaries=e.concat(n.summaries),n}},v=s(s({},p.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/featured?filter_type=new",postProcess:f(e)})}})},65131:function(e,t,n){n.d(t,{V:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/popularCourses",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,r.Z)({},a.S,{types:p.actions,endpoint:"editorial/get-all-popular-category".concat(e&&"?fetch_details=true"),postProcess:JSON.parse})}})},83968:function(e,t,n){n.d(t,{k:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/popularPaths",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/featured-paths?page_size=".concat(e),postProcess:JSON.parse})}})},34614:function(e,t,n){n.d(t,{O:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/purchasedCourses",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/all-purchased-courses",postProcess:JSON.parse})}})},16797:function(e,t,n){n.d(t,{A:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/savedWorks",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/all-saved-works",postProcess:JSON.parse})}})},83342:function(e,t,n){n.d(t,{I:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/myLearnPage/workRecommendations",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/course-recommendations",postProcess:JSON.parse})}})},8986:function(e,t,n){n.d(t,{I:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/owned-tracks",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"reader/owned-tracks",postProcess:JSON.parse})}})},68122:function(e,t,n){n.d(t,{c:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="reader/saved",d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:u,initialState:l,reducers:p});t.Z=f.reducer;var v=s(s({},f.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:f.actions,endpoint:"".concat(u),postProcess:JSON.parse})}})},93636:function(e,t,n){n.d(t,{W:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"reader/edpresso/featured",initialState:d,reducers:s(s({},l),{},{bookmark:{reducer:function(e,t){var n,r,o,a=t.payload,i=a.isBookmarkedByReader,c=a.shotId,s=null!==(n=null===e||void 0===e||null===(r=e.data)||void 0===r||null===(o=r.edpresso_shots)||void 0===o?void 0:o.findIndex((function(e){return e.id===c})))&&void 0!==n?n:-1;e.loaded&&s>=0&&(e.data.edpresso_shots[s].isBookmarkedByReader=i)},prepare:function(e,t){return{payload:{isBookmarkedByReader:e,shotId:t}}}}})});t.Z=p.reducer;var f=function(e){return function(t){var n=JSON.parse(t);return n.edpresso_shots=e.concat(n.edpresso_shots),n}},v=s(s({},p.actions),{},{load:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"published",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return e=c?"reader/shots/".concat(c):i?"edpresso/shots?status=published&cursor=".concat(t):"edpresso/shots?status=".concat(o,"&cursor=").concat(t),(0,r.Z)({},a.S,{types:p.actions,endpoint:e,postProcess:f(n)})}})},14972:function(e,t,n){n.d(t,{u:function(){return g}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767),c=n(83200);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="reader/tracks/featured",l=(0,o.Z)(),p=l.initialState,f=l.reducers,v=(0,i.oM)({name:d,initialState:p,reducers:f});t.Z=v.reducer;var y=function(e,t){return function(n){var r=JSON.parse(n),o=e.findIndex((function(e){return e.id===t}));return e[o].summaries=r.summaries,{tracks:e}}},O=function(e){return function(t){var n=JSON.parse(t);return n.tracks=e.concat(n.tracks),n}},g=u(u({},v.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,r.Z)({},a.S,{types:v.actions,endpoint:t?"track/".concat(t):i?"".concat(d,"/").concat(e,"?page_size=").concat(o,"&searchString=").concat(i,"&onlyTracks=").concat(s):"".concat(d,"/").concat(e,"?page_size=").concat(o,"&onlyTracks=").concat(s),postProcess:t?y(n,t):O(n),errorHook:function(e){401===e.error.status&&c.default.push({pathname:"/login",query:{ru:"/tracks"}})},errorWhitelist:[401]})}})},29631:function(e,t,n){n.d(t,{_:function(){return v}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="reader/works",d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:u,initialState:l,reducers:p});t.Z=f.reducer;var v=s(s({},f.actions),{},{load:function(e){return(0,r.Z)({},a.S,{types:f.actions,endpoint:"".concat(u,"/").concat(e),postProcess:JSON.parse})}})},51726:function(e,t,n){n.d(t,{ZP:function(){return sr},TL:function(){return cr},ix:function(){return ir}});var r=n(85032),o=n(78854),a=n(93020),i=n(39064),c=n(51127),s=n(32653),u=n(56402),d=n(59290),l=n(32051),p=n(9430),f=(0,r.UY)({properties:p.ZP}),v=n(15593),y=n(33714),O=n(48941),g=n(80015),b=n(68671),m=n(20702),h=(0,r.UY)({articleSnapshot:f,collection:i.ZP,collectionArticle:c.Z,articleRevisions:l.ZP,page:s.Z,profile:u.Z,work:d.Z,catalog:v.Z,allCollaborators:y.ZP,concepts:O.Z,sales:g.Z,proofread:b.Z,profWorks:m.Z}),j=n(7742),P=n(93586),S=n(11616),_=n(10047),w=n(18115),Z=n(20767);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E="editorial/affiliate/get-affiliates",x=(0,_.Z)(),T=x.initialState,I=x.reducers,C=(0,Z.oM)({name:E,initialState:T,reducers:k(k({},I),{},{toggleDailyReport:function(e,t){var n=t.payload;if(e.loaded){var r,o=(null!==(r=e.data.affiliatesDetail)&&void 0!==r?r:[]).findIndex((function(e){return e.email===n.email}));-1!==o&&(e.data.affiliatesDetail[o].isDailyReportEnabled=n.is_daily_report_enabled)}}})}),N=function(e,t){return function(n){var r,o,a=(0,w.Z)(JSON.parse(n)),i=(null===(r=e().affiliate.affiliates)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.affiliatesDetail)||null;return t&&i&&(a.affiliatesDetail=i.concat(a.affiliatesDetail)),a}},A=function(e,t,n){return e&&n?"".concat(E,"?cursor=").concat(e,"&include_inactive=").concat(t,"&pagesize=").concat(n):e?"".concat(E,"?cursor=").concat(e,"&include_inactive=").concat(t):n?"".concat(E,"?include_inactive=").concat(t,"&pagesize=").concat(n):E},M=C.reducer,U=(k(k({},C.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return function(r,o){return r((0,P.Z)({},S.S,{types:C.actions,endpoint:A(e,t,n),apiMethod:"GET",postProcess:N(o,e)}))}}}),(0,r.UY)({catalog:j.Z,affiliates:M})),R=n(55532),q=n(33027),L=n(64768),J=n(44091),F=(0,r.UY)({shots:R.Z,bookmarkedShots:L.Z,allTags:q.Z,properties:J.Z}),B=n(10614),H=n(12569),W=n(16962),G=n(92927),z=n(27644),Q=n(5905),V=n(56651),Y=n(79269),X=n(74237),K=n(62083),$=(0,r.UY)({editorPage:X.ZP,editorPagePublished:K.ZP}),ee=n(15644),te=n(96807),ne=n(29631),re=n(14972),oe=n(93636),ae=n(46052),ie=n(66866);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue="reader/learnertags/track-list",de=(0,_.Z)(),le=de.initialState,pe=de.reducers,fe=(0,Z.oM)({name:ue,initialState:le,reducers:pe}),ve=fe.reducer,ye=function(e){return function(t){var n=JSON.parse(t);return n.tracks=e.concat(n.summaries),n}},Oe=(se(se({},fe.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;return(0,P.Z)({},S.S,{types:fe.actions,endpoint:"".concat(ue,"?tags=").concat(n).concat(r?"&tags=".concat(encodeURIComponent(r)):"").concat(e?"&cursor=".concat(e):"","&page_size=").concat(o),postProcess:ye(t)})}}),n(73565)),ge=(0,r.UY)({works:Oe.Z,tracks:ve,paths:ie.Z}),be=n(68122),me=n(14203),he=n(14601);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se="reader/enterprise/assigned-paths",_e=(0,_.Z)(),we=_e.initialState,Ze=_e.reducers,De=(0,Z.oM)({name:Se,initialState:we,reducers:Ze}),ke=De.reducer,Ee=(Pe(Pe({},De.actions),{},{load:function(){return function(e){return e((0,P.Z)({},S.S,{types:De.actions,endpoint:Se,postProcess:JSON.parse}))}}}),n(8986)),xe=n(97432),Te=n(16797);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=(0,_.Z)(),Ae=Ne.initialState,Me=Ne.reducers,Ue=(0,Z.oM)({name:"reader/myLearnPage/recommendedCourses",initialState:Ae,reducers:Me}),Re=Ue.reducer,qe=function(e){return function(t){var n=JSON.parse(t);return n.summaries=e.concat(n.summaries),n}},Le=(Ce(Ce({},Ue.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,P.Z)({},S.S,{types:Ue.actions,endpoint:"reader/featured?filter_type=ranked",postProcess:qe(e)})}}),n(83968)),Je=n(65131),Fe=n(76905),Be=n(14191),He=n(68999),We=n(34614),Ge=n(83342),ze=(0,r.UY)({githubStudentPack:xe.Z,savedWorks:Te.Z,recommendedCourses:Re,popularPaths:Le.Z,popularCourses:Je.Z,inProgressPaths:Fe.Z,latestCourses:Be.Z,completedWorks:He.Z,purchasedCourses:We.Z,workRecommendations:Ge.Z}),Qe=(0,r.UY)({featured:te.Z,works:ne.Z,tracks:re.Z,shots:oe.Z,editorPages:ae.ZP,audience:ge,saved:be.Z,inProgress:me.Z,assignedWorks:he.Z,assignedPaths:ke,ownedTracks:Ee.Z,myLearnPage:ze}),Ve=n(18147),Ye=n(27913),Xe=n(513),Ke=n(5947),$e=n(80974),et=n(45835),tt=n(77558),nt=n(82546),rt=n(37624),ot=n(40393),at=n(24603),it=n(98271),ct=(0,r.UY)({info:Ke.Z,learn:$e.Z,widgetsData:et.ZP,metaData:tt.ZP,courseCompletion:nt.Z,defaultCourseLanguage:ot.Z,readerPreferences:rt.Z,basicProfiles:it.Z,userApiKeys:at.Z}),st=n(59808),ut=n(73777);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=(0,_.Z)(),ft=pt.initialState,vt=pt.reducers,yt=(0,Z.oM)({name:"courseTracks",initialState:ft,reducers:vt}),Ot=yt.reducer,gt=function(e){return JSON.parse(e)},bt=(lt(lt({},yt.actions),{},{load:function(e,t){return(0,P.Z)({},S.S,{types:yt.actions,endpoint:"track/course/".concat(e,"/").concat(t),postProcess:gt})}}),n(93228)),mt=n(75843),ht=n(75880),jt=n(90337),Pt=n(63021),St=n(69160),_t=n(7709),wt=n(91283);function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=(0,_.Z)(),Et=kt.reducers,xt=kt.initialState,Tt=(0,Z.oM)({name:"enterprise/organizations",initialState:xt,reducers:Dt(Dt({},Et),{},{addOrUpdateOrganization:function(e,t){var n=t.payload;n&&(e.data[n.id]=n)}})}),It=function(e){return(0,w.Z)(JSON.parse(e)).reduce((function(e,t){return Dt(Dt({},e),{},(0,P.Z)({},t.id,t))}),{})},Ct=Tt.reducer,Nt=(Dt(Dt({},Tt.actions),{},{load:function(){return(0,P.Z)({},S.S,{types:Tt.actions,endpoint:"enterprise/organizations",postProcess:It})}}),n(10456)),At=n(32645),Mt=n(30976),Ut=n(61066),Rt=n(5663),qt=n(90652),Lt=n(63406),Jt=n(90059),Ft=(0,r.UY)({usersData:Rt.Z,coursesData:qt.Z,userPerCourseData:Lt.Z,usageStatsSelectedUser:Jt.Z}),Bt=n(45877),Ht=n(21085),Wt=n(67427),Gt=(0,r.UY)({organizations:Ct,subscriptions:Nt.Z,subscriptionsUsers:At.Z,discount:Mt.Z,teamTrials:Ut.Z,usageData:Ft,employeesWithAssignedCourses:Bt.Z,employeeAssignedCourses:Ht.Z,organizationSSOConfig:Wt.Z}),zt=n(92346),Qt=n(32868);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt=(0,_.Z)(),Kt=Xt.initialState,$t=Xt.reducers,en=function(e){return function(t){var n=JSON.parse(t),r=e().regionalDiscounts.data,o=(null===r||void 0===r?void 0:r.regionalDiscounts)||[],a=(0,w.Z)(n.regional_discounts);return{hasMore:n.has_more,nextCursor:n.next_cursor,regionalDiscounts:[].concat((0,Qt.Z)(o),(0,Qt.Z)(a))}}},tn=(0,Z.oM)({name:"regionalDiscount",initialState:Kt,reducers:$t}),nn=tn.reducer;Yt(Yt({},tn.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(n,r){n((0,P.Z)({},S.S,{types:tn.actions,endpoint:"editorial/regional_pricing",postProcess:en(r),queryParams:{page_size:t,start_cursor:e}}))}}});function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=(0,_.Z)(),cn=an.initialState,sn=an.reducers,un=(0,Z.oM)({name:"marketingRedirect",initialState:cn,reducers:on(on({},sn),{},{addLink:function(e,t){var n=t.payload;e.data.links.push(n)},deleteLink:function(e,t){var n,r=t.payload;e.data.links=null===(n=e.data.links)||void 0===n?void 0:n.filter((function(e){return e.sourceUrl!==r}))},updateLink:function(e,t){var n,r=t.payload,o=null===(n=e.data.links)||void 0===n?void 0:n.findIndex((function(e){return e.sourceUrl===r.sourceUrl}));o>=0&&(e.data.links[o]=r)}})}),dn=un.reducer,ln=function(e){return function(t){var n,r,o=(0,w.Z)(JSON.parse(t));return(null===(n=e().marketingRedirect.data)||void 0===n?void 0:n.links)?on(on({},o),{},{links:[].concat((0,Qt.Z)(null===(r=e().marketingRedirect.data)||void 0===r?void 0:r.links),(0,Qt.Z)(o.links))}):o}},pn=(on(on({},un.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,n){return t((0,P.Z)({},S.S,{types:un.actions,endpoint:"editorial/marketing/redirects",postProcess:ln(n),queryParams:{page_size:5,start_cursor:e}}))}}}),n(52746)),fn=n(20653),vn=(0,r.UY)({subscriptions:pn.Z,subscriptionUsers:fn.Z}),yn=n(60003),On=n(72406),gn=n(3102),bn=n(86807),mn=n(68396),hn=n(97559),jn=n(50124),Pn=n(63344);function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wn=(0,_.Z)(),Zn=wn.initialState,Dn=wn.reducers,kn=(0,Z.oM)({name:"time-spent/access/domains",initialState:Zn,reducers:Dn}),En=function(e){return function(t){var n=(0,w.Z)(JSON.parse(t)),r=e().usageStats.allDomainsStats.data,o=(null===r||void 0===r?void 0:r.domains)||[],a=(null===n||void 0===n?void 0:n.domains)||[];return{more:(null===n||void 0===n?void 0:n.hasMore)||!1,cursor:(null===n||void 0===n?void 0:n.nextCursor)||null,domains:[].concat((0,Qt.Z)(o),(0,Qt.Z)(a))}}},xn=kn.reducer;_n(_n({},kn.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(n,r){return n((0,P.Z)({},S.S,{types:kn.actions,endpoint:"time-spent/access/domains",apiMethod:"POST",data:{page_size:t,start_cursor:e},postProcess:En(r)}))}}});function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cn=(0,_.Z)(),Nn=Cn.initialState,An=Cn.reducers,Mn=(0,Z.oM)({name:"time-spent/access/domains/new-users",initialState:Nn,reducers:An}),Un=function(e){return function(t){var n=JSON.parse(t),r=e().usageStats.allDomainsNewUsersStats.data,o=(null===r||void 0===r?void 0:r.domains)||[],a=(0,w.Z)((null===n||void 0===n?void 0:n.domains)||[]);return{more:(null===n||void 0===n?void 0:n.more)||!1,cursor:(null===n||void 0===n?void 0:n.cursor)||null,domains:[].concat((0,Qt.Z)(o),(0,Qt.Z)(a))}}},Rn=Mn.reducer,qn=(In(In({},Mn.actions),{},{load:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;return function(o,a){return o((0,P.Z)({},S.S,{types:Mn.actions,endpoint:"time-spent/access/domains/new-users",apiMethod:"POST",data:{start_date:e,end_date:t,page_size:r,start_cursor:n},postProcess:Un(a)}))}}}),(0,r.UY)({usersTimeSpent:hn.Z,coursesTimeSpent:jn.Z,userPerCourseTimeSpent:Pn.Z,allDomainsStats:xn,allDomainsNewUsersStats:Rn}));function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=(0,_.Z)(),Bn=Fn.initialState,Hn=Fn.reducers,Wn=(0,Z.oM)({name:"adminsWithStatsAccess",initialState:Bn,reducers:Jn(Jn({},Hn),{},{updateAdminsList:function(e,t){var n,r,o,a=t.payload.adminDetail;((null===(n=e.data)||void 0===n?void 0:n.stats_admins)||[]).find((function(e){return e.email===a.email}))||(null===(r=e.data)||void 0===r||null===(o=r.stats_admins)||void 0===o||o.push(a))},updateCanViewPerCourseStats:function(e,t){var n=t.payload,r=n.adminEmail,o=n.updatedValue;e.loaded&&e.data.stats_admins.length&&(e.data.stats_admins=e.data.stats_admins.map((function(e){return e.email===r?Jn(Jn({},e),{},{can_view_user_per_course_stats:o}):e})))}})}),Gn=Wn.reducer,zn=function(e){return JSON.parse(e)};Jn(Jn({},Wn.actions),{},{load:function(){return(0,P.Z)({},S.S,{types:Wn.actions,endpoint:"editorial/time-spent/access-admins",postProcess:zn})}});function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yn=(0,_.Z)(),Xn=Yn.initialState,Kn=Yn.reducers,$n=(0,Z.oM)({name:"editorial/blacklist-domain",initialState:Xn,reducers:Vn(Vn({},Kn),{},{add:function(e,t){var n,r,o,a=t.payload,i=a.domains,c=a.instanceType;if((null===(n=e.data)||void 0===n?void 0:n.instanceType)===c){var s;if(((null===(r=e.data)||void 0===r?void 0:r.domains)||[]).length)e.data.domains=null===(s=e.data)||void 0===s?void 0:s.domains.filter((function(e){return-1===i.findIndex((function(t){return e.domain===t}))}));e.data.domains=[].concat((0,Qt.Z)((null===(o=e.data)||void 0===o?void 0:o.domains)||[]),(0,Qt.Z)(i.map((function(e){return{domain:e}}))))}},remove:function(e,t){var n,r=t.payload.domains;e.loaded&&(e.data.domains=null===(n=e.data)||void 0===n?void 0:n.domains.filter((function(e){return!r.includes(e.domain)})))}})}),er=function(e,t){return function(n){var r=JSON.parse(n),o=e().blackListedDomains.data,a=(null===o||void 0===o?void 0:o.domains)||[],i=(0,w.Z)((null===r||void 0===r?void 0:r.domains)||[]);return{hasMore:null===r||void 0===r?void 0:r.has_more,cursor:null===r||void 0===r?void 0:r.next_cursor,domains:[].concat((0,Qt.Z)(a),(0,Qt.Z)(i)),instanceType:t}}},tr=$n.reducer,nr=(Vn(Vn({},$n.actions),{},{load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;return function(r,o){return r((0,P.Z)({},S.S,{types:$n.actions,endpoint:"editorial/blacklist-domain?pageSize=".concat(n,"&instanceType=").concat(e,"&cursor=").concat(t),postProcess:er(o,e)}))}}}),n(21692)),rr=n(17412),or=n(50844),ar=(0,r.UY)({moduleCategories:rr.Z,pathCompletion:or.Z}),ir=o.v9,cr=function(){return(0,o.I0)()},sr=function(e,t){var n="CLEAR"===t.type?{modals:e.modals,userConfig:e.userConfig,subscriptionBannerState:e.subscriptionBannerState}:e;return(0,r.UY)({ajaxMode:Xe.Z,author:h,affiliate:U,edpresso:F,collectionArticlePreview:B.Z,loader:H.ZP,modals:W.Z,payment:G.Z,page:z.Z,pagePreview:Q.Z,pageSummary:V.Z,shotSummary:Y.Z,editorPages:$,editorPageSummary:ee.ZP,reader:Qe,subscription:st.Z,search:Ve.Z,widgets:Ye.ZP,user:ct,userCollectionArticle:ut.Z,courseTracks:Ot,trackPage:bt.Z,educativeBanner:mt.Z,dockerDetails:jt.ZP,testingDockerDetails:Pt.ZP,terminalWidgetStats:ht.Z,comments:a.Z,testimonials:St.Z,widgetsWrapper:_t.Z,subscriptionBannerState:wt.ZP,enterprise:Gt,marketingRedirect:dn,notFoundPage:zt.Z,regionalDiscounts:nn,teamBuy:vn,assessment:yn.ZP,project:On.ZP,workspace:bn.Z,cloudLab:gn.ZP,userConfig:mn.ZP,usageStats:qn,adminsWithStatsAccess:Gn,blackListedDomains:tr,userSuggestions:nr.ZP,paths:ar})(n,t)}},18147:function(e,t,n){n.d(t,{R:function(){return d}});var r=n(93586),o=n(20767),a=n(84283);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={searchString:"",isResetable:!0,filter:"all"},u=(0,o.oM)({name:"search",initialState:s,reducers:{search:function(e,t){var n=t.payload,r=n.searchString,o=n.resetable;e.isResetable=o,e.searchString=r},finishSearch:function(e){e.isResetable=!0,e.searchString=""},setFilter:function(e,t){var n=t.payload;e.filter=n},resetFilter:function(){return s}},extraReducers:{"@@router/LOCATION_CHANGE":function(e){if(e.isResetable)return s}}});t.Z=u.reducer;var d=c(c({},u.actions),{},{searchFeaturedWorks:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.Z)({url:"/api/reader/featured_items?search_string=".concat(encodeURIComponent(e)).concat(n?"&only_courses=true":""),type:"GET"}).then((function(e){return t(e)})).catch((function(e){}))}})},59808:function(e,t,n){n.d(t,{T:function(){return o}});var r=(0,n(20767).oM)({name:"subscriptionBar",initialState:{},reducers:{toggle:function(e,t){var n=t.payload;e.hide=n}}});t.Z=r.reducer;var o=r.actions},91283:function(e,t,n){n.d(t,{dH:function(){return a},$h:function(){return i},IC:function(){return c}});var r=(0,n(20767).oM)({name:"subscriptionBanner",initialState:{showBanner:!1,showAnnouncementBanner:!0,hideUpgradeBanner:!1},reducers:{changeBannerState:function(e,t){var n=t.payload;e.showBanner=n},changeAnnouncementBannerState:function(e,t){var n=t.payload;e.showAnnouncementBanner=n},hideUpgradeBanner:function(e,t){var n=t.payload;e.hideUpgradeBanner=n}}});t.ZP=r.reducer;var o=r.actions,a=o.changeBannerState,i=o.changeAnnouncementBannerState,c=o.hideUpgradeBanner},52746:function(e,t,n){n.d(t,{E:function(){return y}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="enterprise/teams/subscription",l=(0,a.Z)(),p=l.initialState,f=l.reducers,v=(0,c.oM)({name:d,initialState:p,reducers:f});t.Z=v.reducer;var y=u(u({},v.actions),{},{load:function(){return(0,r.Z)({},o.S,{types:v.actions,endpoint:d,apiMethod:"GET",postProcess:function(e){return{subscriptions:(0,i.Z)(JSON.parse(e))}}})}})},20653:function(e,t,n){n.d(t,{t:function(){return y}});var r=n(93586),o=n(20767),a=n(11616),i=n(10047),c=n(18115);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,i.Z)(),l=d.initialState,p=d.reducers,f=(0,o.oM)({name:"enterprise/teams/subscription/users",initialState:l,reducers:u(u({},p),{},{updateTeamBuySubscriptionUsers:function(e,t){var n=t.payload,r=(null===n||void 0===n?void 0:n.users)||{},o=(null===n||void 0===n?void 0:n.subscriptionId)||null;o&&(e.data[o]=r)}})}),v=function(e,t){return function(n){var o,a,i=(0,c.Z)(JSON.parse(n)),s=(null===(o=t().enterprise)||void 0===o||null===(a=o.subscriptionUsers)||void 0===a?void 0:a.data)||null;return s?u(u({},s),{},(0,r.Z)({},e,i)):(0,r.Z)({},e,i)}};t.Z=f.reducer;var y=u(u({},f.actions),{},{load:function(e){return function(t,n){return t((0,r.Z)({},a.S,{types:f.actions,endpoint:"enterprise/teams/subscription/".concat(e,"/users"),apiMethod:"GET",postProcess:v(e,n)}))}}})},75880:function(e,t,n){n.d(t,{x:function(){return o}});var r=(0,n(20767).oM)({name:"terminalWidgetStats",initialState:{activeTermID:null},reducers:{connect:function(e,t){return{activeTermID:t.payload}}}});t.Z=r.reducer;var o=r.actions},69160:function(e,t,n){n.d(t,{N:function(){return y}});var r=n(93586),o=n(49227),a=n(10047),i=n(11616),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"testimonials",initialState:l,reducers:p});t.Z=f.reducer;var v=function(e){var t=JSON.parse(e),n=new DOMParser;return t=t.map((function(e){if(e.testimonial_type===o.Sf.TWEET){var t=n.parseFromString(e.text,"text/html");e.text=t.getElementsByTagName("p")[0].innerHTML}return e.processedText="".concat(e.author_name.bold()," - ").concat(e.text.replace(/<\/?[^>]+(>|$)/g,"")),e}))},y=u(u({},f.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return(0,r.Z)({},i.S,{types:f.actions,endpoint:"get-testimonial",overrideAjaxMode:!0,postProcess:v,errorHook:e})}})},93228:function(e,t,n){n.d(t,{N:function(){return y}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767),c=n(83200);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,i.oM)({name:"trackPage",initialState:l,reducers:p});t.Z=f.reducer;var v=function(e){return JSON.parse(e)},y=u(u({},f.actions),{},{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.Z)({},a.S,{types:f.actions,endpoint:"track/".concat(e),postProcess:v,errorHook:function(t){401===t.error.status&&c.default.push({pathname:"/login",query:{ru:"/track/".concat(e)}})},errorWhitelist:[401]})}})},50124:function(e,t,n){n.d(t,{F:function(){return b}});var r=n(93586),o=n(32868),a=n(11616),i=n(10047),c=n(18115),s=n(20767);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="time-spent/access/courses",p=(0,i.Z)(),f=p.initialState,v=p.reducers,y=(0,s.oM)({name:l,initialState:f,reducers:v}),O=function(e){return(0,c.Z)(JSON.parse(e))},g=function(e){return function(t){var n=JSON.parse(t),r=e().usageStats.coursesTimeSpent.data,a=(null===r||void 0===r?void 0:r.courses)||[],i=(0,c.Z)((null===n||void 0===n?void 0:n.courses)||[]);return{more:(null===n||void 0===n?void 0:n.more)||null,cursor:(null===n||void 0===n?void 0:n.cursor)||null,courses:[].concat((0,o.Z)(a),(0,o.Z)(i))}}};t.Z=y.reducer;var b=d(d({},y.actions),{},{load:function(e,t){return(0,r.Z)({},a.S,{types:y.actions,endpoint:l,apiMethod:"POST",data:{start_date:e,end_date:t},postProcess:O})},loadForDomain:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:500;return function(c,s){return c((0,r.Z)({},a.S,{types:y.actions,endpoint:"time-spent/access/courses/".concat(n),apiMethod:"POST",data:{start_date:e,end_date:t,page_size:i,start_cursor:o},postProcess:g(s)}))}}})},63344:function(e,t,n){n.d(t,{V:function(){return v}});var r=n(93586),o=n(11616),a=n(10047),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"time-spent/access/user/user-id",initialState:l,reducers:p});t.Z=f.reducer;var v=u(u({},f.actions),{},{load:function(e,t,n){return(0,r.Z)({},o.S,{types:f.actions,endpoint:"time-spent/access/user/".concat(e),apiMethod:"POST",data:{start_date:t,end_date:n},postProcess:function(e){return(0,i.Z)(JSON.parse(e))}})}})},97559:function(e,t,n){n.d(t,{s:function(){return b}});var r=n(93586),o=n(32868),a=n(11616),i=n(10047),c=n(18115),s=n(20767);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="time-spent/access/users",p=(0,i.Z)(),f=p.initialState,v=p.reducers,y=(0,s.oM)({name:l,initialState:f,reducers:v}),O=function(e){return(0,c.Z)(JSON.parse(e))},g=function(e){return function(t){var n=JSON.parse(t),r=e().usageStats.usersTimeSpent.data,a=(null===r||void 0===r?void 0:r.users)||[],i=(0,c.Z)((null===n||void 0===n?void 0:n.users)||[]);return{more:null===n||void 0===n?void 0:n.more,cursor:null===n||void 0===n?void 0:n.cursor,users:[].concat((0,o.Z)(a),(0,o.Z)(i))}}};t.Z=y.reducer;var b=d(d({},y.actions),{},{load:function(e,t){return(0,r.Z)({},a.S,{types:y.actions,endpoint:l,apiMethod:"POST",data:{start_date:e,end_date:t},postProcess:O})},loadForDomain:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:500;return function(c,s){return c((0,r.Z)({},a.S,{types:y.actions,endpoint:"time-spent/access/users/".concat(n),apiMethod:"POST",data:{start_date:e,end_date:t,page_size:i,start_cursor:o},postProcess:g(s)}))}}})},98271:function(e,t,n){n.d(t,{F:function(){return O}});var r=n(93586),o=n(10047),a=n(11616),i=n(18115),c=n(20767);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,o.Z)(),l=d.initialState,p=d.reducers,f=(0,c.oM)({name:"user/basicProfiles",initialState:l,reducers:p}),v=function(e,t){return function(n){var o=t().user.basicProfiles,a=(null===o||void 0===o?void 0:o.data)||{},c=(0,i.Z)(JSON.parse(n));return c.profileSlug="/profile/view/".concat(e),u(u({},a),{},(0,r.Z)({},e,c))}},y={};t.Z=f.reducer;var O=u(u({},f.actions),{},{clear:function(){return function(e){e(f.actions.clear),y={}}},load:function(e){return function(t,n){return e in y||(y[e]=t((0,r.Z)({},a.S,{types:f.actions,endpoint:"author/profile/".concat(e),queryParams:{basic_info:!0},postProcess:v(e,n)}))),y[e]}}})},82546:function(e,t,n){n.d(t,{x:function(){return l}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(17279);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,n(20767).oM)({name:"user/courseCompletion",initialState:{},reducers:{set:function(e,t){var n=t.payload;return u(u({},e),n)},setAll:function(e,t){return t.payload},reset:function(e){}}});t.Z=d.reducer;var l=u(u({},d.actions),{},{load:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return function(){var i=(0,a.Z)(o().mark((function a(i,s){var d,p,f;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t){o.next=2;break}return o.abrupt("return");case 2:return d=e.filter((function(e){return"collection"===e.doc_type})).map((function(e){return{map_name:"CourseCompletion_".concat(e.author_id,"_").concat(e.id),map_keys:null}})),o.next=5,(0,c.Dt)(d);case 5:p=o.sent,f=u(u({},n),JSON.parse(p)),"function"===typeof r?r(f):i(l.setAll(f));case 8:case"end":return o.stop()}}),a)})));return function(e,t){return i.apply(this,arguments)}}()}})},40393:function(e,t,n){n.d(t,{o:function(){return o}});var r=(0,n(20767).oM)({name:"user/defaultCourseLanguage",initialState:{},reducers:{set:function(e,t){return t.payload.data}}});t.Z=r.reducer;var o=r.actions},5947:function(e,t,n){n.d(t,{V:function(){return b}});var r=n(93586),o=n(49128),a=n(10047),i=n(11616),c=n(68396),s=n(20767),u=n(71808),d=n(75843),l=n(49227);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(0,a.Z)(),y=v.initialState,O=v.reducers,g=(0,s.oM)({name:"user/info",initialState:y,reducers:f(f({},O),{},{update:function(e,t){var n,r,o,a;e.data=t.payload,e.loaded=!0,e.loading=!1,dataLayer.push({event:"userChanged",userId:t.payload.user_id,signupDate:null!==(n=e.data)&&void 0!==n&&n.sign_up_date?new Date(null===(r=e.data)||void 0===r?void 0:r.sign_up_date).toISOString():null,ownsFreeCourses:null===(o=e.data)||void 0===o?void 0:o.owns_free_courses,ownsPaidCourses:null===(a=e.data)||void 0===a?void 0:a.owns_paid_courses})},freeTrialAvailed:function(e,t){e.data&&(e.data.has_active_b2c_trial=!0,e.data.has_availed_b2c_trial=!0,e.data.preferred_subscription_id=t.payload.preferred_subscription_id,e.data.preferred_subscription_price=t.payload.preferred_subscription_price)},freeTrialCancelled:function(e,t){e.data&&t.payload===l.BF&&(e.data.has_active_b2c_trial=!1)},userSubscriptionBought:function(e){e.data&&(e.data.is_user_subscribed=!0)},teamSubscriptionBought:function(e){e.data&&(e.data.is_team_buy_admin=!0)},setIsTeamTrialAdmin:function(e){e.data&&(e.data.is_team_trial_admin=!0)},setDarkModeSelected:function(e,t){e.data.dark_mode_selected=t.payload},setInProgressLab:function(e,t){e.data.in_progress_lab=t.payload},setUserLoggedOut:function(e){e.loggedOut=!0},clearAndSetLoggedOut:function(e){return{loaded:!1,loggedOut:!0}},setUserMentorStatus:function(e,t){var n=t.payload.orgId,r=e.data.enterprise.organizations.findIndex((function(e){return e.organization_id===Number(n)}));e.data.enterprise.organizations[r].is_mentor=t.payload.status},setUserSlackStatus:function(e,t){var n=t.payload,r=n.orgId,o=n.slackStatus,a=e.data.enterprise.organizations.findIndex((function(e){return e.organization_id===Number(r)}));e.data.enterprise.organizations[a].is_slack_authorized=o},setUserOnboardingTutorialStatus:function(e,t){var n=t.payload;e.data.enterprise=f(f({},e.data.enterprise),{},{user_onboarding_tutorial_status:f(f({},e.data.enterprise.user_onboarding_tutorial_status),{},(0,r.Z)({},n,!0))})},decrementOnboardingSeats:function(e,t){var n,r,o=t.payload,a=o.numOfSeatsToDecrement,i=o.orgId,c=null===(n=e.data)||void 0===n||null===(r=n.enterprise)||void 0===r?void 0:r.organizations.findIndex((function(e){return e.organization_id===i}));c>=0&&(e.data.enterprise.organizations[c].free_onboarding_seats-=a)}})});t.Z=g.reducer;var b=f(f({},g.actions),{},{load:function(e){return function(e,t){return e((0,r.Z)({},i.S,{types:g.actions,endpoint:"user/info",postProcess:JSON.parse})).then((function(){var n,r,a,i,s,l,p,f,v,y,O;401===(null===(n=t().user.info)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.status)?(document.documentElement.style.removeProperty("--loggedout-false"),document.documentElement.style.setProperty("--loggedout-true","none"),e(b.clearAndSetLoggedOut())):dataLayer.push({event:"userChanged",userId:null===(a=t().user.info.data)||void 0===a?void 0:a.user_id,signupDate:null!==(i=t().user.info.data)&&void 0!==i&&i.sign_up_date?new Date(null===(s=t().user.info.data)||void 0===s?void 0:s.sign_up_date).toISOString():null,ownsFreeCourses:null===(l=t().user.info.data)||void 0===l?void 0:l.owns_free_courses,ownsPaidCourses:null===(p=t().user.info.data)||void 0===p?void 0:p.owns_paid_courses});var g=null===(f=t().user.info.data)||void 0===f||null===(v=f.bannerDetails)||void 0===v?void 0:v[u.Z.GITHUB_STATUS_BANNER];g&&e(d.R.show(u.Z.GITHUB_STATUS_BANNER,g)),null!==(y=t().user.info)&&void 0!==y&&null!==(O=y.data)&&void 0!==O&&O.admin&&e(c.V5.updateLanguages()),e((0,o.Fp)())}))}}})},80974:function(e,t,n){n.d(t,{G:function(){return f}});var r=n(93586),o=n(10047),a=n(11616),i=n(20767);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.Z)(),d=u.initialState,l=u.reducers,p=(0,i.oM)({name:"user/learn",initialState:d,reducers:l});t.Z=p.reducer;var f=s(s({},p.actions),{},{load:function(){return(0,r.Z)({},a.S,{types:p.actions,endpoint:"user/info/learn",postProcess:JSON.parse})}})},77558:function(e,t,n){n.d(t,{LZ:function(){return o},Ex:function(){return i}});var r=n(20767),o=function(){return"UserMetaData"},a=(0,r.oM)({name:"metaData",initialState:{},reducers:{set:function(e,t){var n=t.payload;e.githubToken=n}}});t.ZP=a.reducer;var i=a.actions},37624:function(e,t,n){n.d(t,{o:function(){return c}});var r=n(93586);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=(0,n(20767).oM)({name:"user/readerPreferences",initialState:{themes:null},reducers:{set:function(e,t){var n=t.payload;return a(a({},e),n)}}});t.Z=i.reducer;var c=i.actions},24603:function(e,t,n){n.d(t,{R:function(){return c}});var r=n(20767),o={loading:!1,loaded:!1,keys:{}},a=function(e,t,n){return Object.keys(t).forEach((function(r){e.hasOwnProperty(r)&&"UPDATE"===n?e[r]!==t[r]&&(e[r]=t[r].toString()):e[r]=t[r].toString()}))},i=(0,r.oM)({name:"user",initialState:o,reducers:{pending:function(e){e.loading=!0,e.loaded=!1},rejected:function(e){e.loading=!1,e.loaded=!1},fulfilled:function(e,t){var n=t.payload,r=n.keys,o=void 0===r?{}:r,i=n.action,c=void 0===i?"UPDATE":i;a(e.keys,o,c),e.loading=!1,e.loaded=!0},saveRequest:function(e){e.loading=!0,e.loaded=!1},saveFailure:function(e){e.loading=!1,e.loaded=!1},saveSuccess:function(e,t){var n=t.payload,r=n.keys,o=void 0===r?{}:r,i=n.action,c=void 0===i?"UPDATE":i;a(e.keys,o,c),e.loading=!1,e.loaded=!0},reset:function(){return o}}});t.Z=i.reducer;var c=i.actions},45835:function(e,t,n){n.d(t,{XU:function(){return v},iU:function(){return y},vW:function(){return O},LZ:function(){return g},Vy:function(){return b}});var r=n(93586),o=n(20767),a=n(49227),i=n(64977),c=n.n(i),s=n(46845),u=n.n(s);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={loading:!1,savingWidget:null,resettingWidget:null,snapshots:{},copiedWidget:null},f=(0,o.oM)({name:"widgetsData",initialState:p,reducers:{pending:function(e){e.loading=!0},rejected:function(e){e.loading=!1,e.snapshots={}},fulfilled:function(e,t){var n=t.payload;e.loading=!1,e.snapshots=n},saveRequest:function(e,t){var n=t.payload;e.savingWidget=n.reset?null:n.compId,e.resettingWidget=n.reset?n.compId:null},saveFailure:function(e){e.savingWidget=null,e.resettingWidget=null},saveSuccess:function(e,t){var n=t.payload;e.savingWidget=null,e.resettingWidget=null,e.snapshots=l(l({},e.snapshots),n)},copy:function(e,t){var n=t.payload;e.copiedWidget=n},reset:function(){return p}}}),v=function(e){return e.widgetsData.snapshots},y=function(e){return e.widgetsData.savingWidget},O=function(e){return e.widgetsData.resettingWidget},g=function(e){var t=e.userId,n=e.collectionId,r=e.pageId,o=e.shotId,a=e.editorPageId,i=e.authorId,c=e.compId,s="WidgetUserData";return o?"".concat(s,"_").concat(t,"_").concat(o,"_").concat(c):a?"".concat(s,"_").concat(t,"_").concat(a,"_").concat(c):n?"".concat(s,"_").concat(t,"_").concat(i,"_").concat(n,"_").concat(r,"_").concat(c):"".concat(s,"_").concat(t,"_").concat(i,"_").concat(r,"_").concat(c)};t.ZP=f.reducer;var b=l(l({},f.actions),{},{copyWidget:function(e,t,n){return function(r){var o=function(e,t){var n={index:0,data:l(l({},e.find((function(e){var n=e.hash;return t===n}))),{},{mode:"view",comp_id:null,iteration:void 0,hash:void 0}),parentHash:"0"};return u().AES.encrypt(JSON.stringify(n),a.Y4).toString()}(t,n);if(e){var i=e.target.nodeName.toLowerCase();if(window.getSelection().toString()||"textarea"===i||!n)return;e.clipboardData.setData("text/plain",o),e.preventDefault()}else c()(o);r(b.copy(o))}}})},73777:function(e,t,n){n.d(t,{m:function(){return j}});var r=n(88753),o=n.n(r),a=n(52198),i=n(93586),c=n(10047),s=n(11616),u=n(98888),d=n(20767),l=n(27913),p=n(92346),f=n(97242),v=n(60136);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=(0,c.Z)(),b=g.initialState,m=g.reducers,h=(0,d.oM)({name:"userCollectionArticle",initialState:b,reducers:m});t.Z=h.reducer;var j=O(O({},h.actions),{},{load:function(e){var t=e.author_id,n=e.collection_id,r=e.page_id,c=e.course_url_slug,d=e.page_url_slug,y=e.work_type;return function(){var e=(0,a.Z)(o().mark((function e(a,O){var g,b,m,j;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=c?"collection/".concat(c,"/page/").concat(d):"collection/".concat(t,"/").concat(n,"/page/").concat(r),y&&(m+="?work_type=".concat(y)),e.next=4,a((0,i.Z)({},s.S,{types:h.actions,endpoint:m,postProcess:u.u,errorHook:function(e){e.error.status&&!e.error.responseJSON&&(0,v.u)(new Error("Content blocked by third party, for ".concat(y," from ").concat(m))),404===e.error.status&&a(p.i.set(!0))}}));case 4:return j=null===(g=O().userCollectionArticle)||void 0===g||null===(b=g.data)||void 0===b?void 0:b.components,e.next=7,(0,f.nA)(j);case 7:return j=e.sent,e.abrupt("return",a(l.oh.load(j)));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})},68396:function(e,t,n){n.d(t,{_r:function(){return r},V5:function(){return y}});var r,o=n(93586),a=n(20767),i=n(11616),c=n(10047);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.USER=6e3]="USER",e[e.TEAM=6001]="TEAM",e[e.EXTERNAL=6002]="EXTERNAL"}(r||(r={}));var d=(0,c.Z)(),l=d.initialState,p=d.reducers,f=(0,a.oM)({name:"userConfig",initialState:l,reducers:u(u({},p),{},{updateLanguages:function(e){e.data&&(e.data.languages=e.data.admin_languages)}})});t.ZP=f.reducer;var v=function(e){var t=JSON.parse(e),n=t.languages,r=n.admin_languages,o=n.public_languages,a=Object.keys(r).sort().reduce((function(e,t){return e[t]=r[t],e}),{}),i=Object.keys(o).sort().reduce((function(e,t){return e[t]=o[t],e}),{});return u(u({},t),{},{languages:i,admin_languages:a})},y=u(u({},f.actions),{},{load:function(){return function(e,t){e((0,o.Z)({},i.S,{types:f.actions,endpoint:"userdata/user_config",postProcess:v})).then((function(){var n,r;null!==(n=t().user.info)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.admin&&e(y.updateLanguages())}))}}})},21692:function(e,t,n){n.d(t,{sW:function(){return u},hv:function(){return d},gN:function(){return g}});var r=n(93586),o=n(20767),a=n(10047),i=n(11616);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u,d,l="user-suggestion";!function(e){e.EDPRESSO="EDPRESSO"}(u||(u={})),function(e){e.UPVOTE="UPVOTE",e.FLAG="FLAG",e.UNFLAG="UNFLAG",e.DOWNVOTE="DOWNVOTE"}(d||(d={}));var p=(0,a.Z)(),f=p.initialState,v=p.reducers,y=(0,o.oM)({name:l,initialState:f,reducers:s(s({},v),{},{flag:function(e,t){var n=t.payload,r=n.id,o=n.flagged,a=e.data.user_suggestions.findIndex((function(e){return e.id===r}));-1!==a&&(e.data.user_suggestions[a].flagged=o)},upvote:function(e,t){var n=t.payload,r=n.id,o=n.upvoted,a=e.data.user_suggestions.findIndex((function(e){return e.id===r}));if(-1!==a){e.data.user_suggestions[a].upvoted=o;var i=e.data.user_suggestions[a].upvotes;e.data.user_suggestions[a].upvotes=o?i+1:i-1}},add:function(e,t){var n=t.payload;e.data.user_suggestions.unshift(n)}})}),O=function(e){return function(t){var n=JSON.parse(t),r=e.map((function(e){return e.id})),o=n.user_suggestions.filter((function(e){return!r.includes(e.id)}));return n.user_suggestions=e.concat(o),n}},g=s(s({},y.actions),{},{load:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c={suggestion_type:String(e),admin:o,is_trash:a};return n&&(c.cursor=n),(0,r.Z)({},i.S,{types:y.actions,endpoint:l,postProcess:O(t),queryParams:c})}});t.ZP=y.reducer},27913:function(e,t,n){n.d(t,{pB:function(){return p},oh:function(){return y}});var r=n(30645),o=n(32868),a=n(93586),i=n(20767),c=n(49227),s=n(73647);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={ids:[],entities:{},markdownDirty:!1},p={type:"MarkdownEditor",content:{version:"2.0",text:"",mdHtml:"",cursorPosition:{line:0,ch:0}}},f={type:"SlateHTML",content:{html:"<p></p>"}},v=(0,i.oM)({name:"widgets",initialState:l,reducers:{clear:function(){return l},addAll:function(e,t){var n=t.payload,r=n.widgets,o=void 0===r?[]:r,a=n.dirty,i=void 0!==a&&a;e.ids=o.map((function(t,n){return 0!==e.ids.length&&t.hash&&e.selectedHash||"SlateHTML"===t.type||(e.selectedHash=n),e.entities[n]=d(d({},t),{},{iteration:0,hash:n}),e.dirty=e.dirty||i,n})),e.viewerDirtyComps={}},clean:function(){return l},add:function(e,t){var n=t.payload,r=n.data,a=n.index,i=n.dirty,c=void 0===i||i;if(!e.entities[r.hash]){var s,u,l=null!==(s=r.hash)&&void 0!==s?s:Math.max.apply(Math,(0,o.Z)(e.ids.length?e.ids:[0]))+1;0!==e.ids.length&&r.hash||"SlateHTML"===r.type||(e.selectedHash=l),e.ids.splice((null!==(u=null!==a&&void 0!==a?a:e.selectedHash)&&void 0!==u?u:9999999)+1,0,l),e.entities[l]=d(d({},r),{},{iteration:0,hash:l}),e.dirty=e.dirty||c}},bumpVersion:function(e){var t,n=e.entities[e.selectedHash];n&&(n.saveVersion=(null!==(t=n.saveVersion)&&void 0!==t?t:0)+1)},selectActive:function(e,t){var n=t.payload;e.selectedHash!==n&&(v.caseReducers.bumpVersion(e),e.selectedHash=n)},editToggle:function(e,t){var n=t.payload;e.selectedHash===n?(v.caseReducers.bumpVersion(e),e.selectedHash=void 0):e.selectedHash=n},remove:function(e,t){var n=t.payload;e.ids=e.ids.filter((function(e){return e!==n})),delete e.entities[n],e.dirty=!0,e.markdownDirty=!0},moveUp:function(e,t){var n=t.payload,o=e.ids.indexOf(n);if(-1!==o){var a=e.ids.splice(o,1),i=(0,r.Z)(a,1)[0];e.ids.splice(o-1,0,i),e.dirty=!0,e.markdownDirty=!0}},addOnExistingHash:function(e,t){var n=t.payload,r=n.data,o=n.hash,a=e.entities[o];e.entities[o]=d(d({},r),{},{iteration:a.iteration,saveVersion:a.saveVersion,hash:o}),e.dirty=!0},updateContentState:{reducer:function(e,t){var n=t.payload,r=n.hash,o=n.contentUpdater,a=n.cb,i=void 0===a?function(){}:a,c=e.entities[r];if(c){var s;if("function"===typeof o)c.content=null!==(s=o(c.content))&&void 0!==s?s:c.content;else c.content=d(d({},c.content),o);null===i||void 0===i||i(),c.iteration++,e.dirty=!0,["MarkdownEditor","Columns"].includes(c.type)&&(e.markdownDirty=!0)}},prepare:function(e,t,n){return{payload:{hash:e,contentUpdater:t,cb:n}}}},setDirtyBit:function(e){e.dirty=!0},setMarkdownDirtyBit:function(e){e.markdownDirty=!0},addViewerDirtyComp:function(e,t){var n=t.payload;e.viewerDirtyComps[n]=!0},resetDirtyBit:function(e){e.dirty=!1},resetMarkdownDirtyBit:function(e){e.markdownDirty=!1},removeViewerDirtyComp:function(e,t){var n=t.payload;delete e.viewerDirtyComps[n]}}});t.ZP=v.reducer;var y=d(d({},v.actions),{},{moveDown:function(e){return function(t,n){var r=n().widgets.ids.indexOf(e)+1,o=n().widgets.ids[r];t(y.moveUp(o))}},load:function(e,t,n,r){return function(o,a){var i,u,l,v,O,g,b,m,h,j,P,S,_,w,Z,D,k,E=null===(i=a().author)||void 0===i||null===(u=i.collection)||void 0===u||null===(l=u.instance)||void 0===l?void 0:l.details,x=(null===E||void 0===E?void 0:E.is_plan)||(null===E||void 0===E?void 0:E.is_parent_plan),T=(null===E||void 0===E?void 0:E.is_standalone_module)&&!(null!==E&&void 0!==E&&E.is_global),I=null===(v=a().user)||void 0===v||null===(O=v.info)||void 0===O||null===(g=O.data)||void 0===g?void 0:g.email,C=(null===I||void 0===I?void 0:I.endsWith("@educative.io"))&&!c.cU.includes(I),N=(null===(b=a().user)||void 0===b||null===(m=b.info.data)||void 0===m?void 0:m.is_user_subscribed)&&(0,s.mg)(null===(h=a().user)||void 0===h?void 0:h.info.data,"is_editor_enabled")&&(T||x)||r||C||"true"===(null===(j=a().userConfig.data)||void 0===j?void 0:j.constants[c.zj.ENABLE_NEW_EDITOR_B2C])&&!(null!==(P=a().user)&&void 0!==P&&null!==(S=P.info)&&void 0!==S&&null!==(_=S.data)&&void 0!==_&&_.organization_id)||"true"===(null===(w=a().userConfig.data)||void 0===w?void 0:w.constants[c.zj.ENABLE_NEW_EDITOR_B2B])&&(null===(Z=a().user)||void 0===Z||null===(D=Z.info)||void 0===D||null===(k=D.data)||void 0===k?void 0:k.organization_id);if((null===e||void 0===e||!e.length)&&t&&!n)return o(N?y.add({data:f,dirty:!1}):y.add({data:p}));var A={},M=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return!("TabbedCode"===e.type&&(null===(t=e.content)||void 0===t||null===(n=t.codeContents)||void 0===n||!n.length))})).map((function(e){var n,r,o;if(t&&"WebpackBin"===e.type&&null!==(n=e.content)&&void 0!==n&&null!==(r=n.dockerJob)&&void 0!==r&&r.android)return d(d({},e),{},{type:"Android"});if(!t&&null!==(o=e.content)&&void 0!==o&&o.comp_id){var a=e.content.comp_id;return A[a]?(A[a]++,d(d({},e),{},{content:d(d({},e.content),{},{comp_id:"".concat(a,"-").concat(A[a])})})):(A[a]=1,e)}return e}));o(y.addAll({widgets:M,dirty:!1}))}},areViewerCompsDirty:function(){return function(e,t){var n;return Boolean(Object.keys(null!==(n=t().widgets.viewerDirtyComps)&&void 0!==n?n:{}).length)}}})},7709:function(e,t,n){n.d(t,{m:function(){return o}});var r=(0,n(20767).oM)({name:"widgetsWrapper",initialState:{},reducers:{set:function(e,t){return t.payload}}});t.Z=r.reducer;var o=r.actions},86807:function(e,t,n){n.d(t,{J:function(){return i}});var r=n(20767),o={newFile:null,requestedFile:null,saveFile:null,removedFile:null},a=(0,r.oM)({name:"workspace",initialState:o,reducers:{openFile:function(e,t){var n=t.payload;e.newFile=n},clearOpenFile:function(e){e.newFile=o.newFile},requestFile:function(e,t){var n=t.payload;e.requestedFile=n},clearRequestFile:function(e){e.requestedFile=o.requestedFile},saveFileContent:function(e,t){var n=t.payload;e.saveFile=n},clearSaveFileContent:function(e){e.saveFile=o.saveFile},removeFile:function(e,t){var n=t.payload;e.removedFile=n},clearRemoveFile:function(e){e.removedFile=o.removedFile},reset:function(){return o}}});t.Z=a.reducer;var i=a.actions}}]);
//# sourceMappingURL=reduxStore-6ca6ef5c92de497c12f5.js.map