"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13389],{13389:function(e,t,n){n.r(t),n.d(t,{default:function(){return Dt}});var s=n(20348),r=n(79003),o=n(70989),i=n(58055),a=n(31428),l=n(27018),c=n(29799),u=n(93586),d=n(89703),h=n(97810),p=n(98735),f=n(86229),g=n(64875),j=n(14796),m=n(9696),v=n(82703),y=n(17985),x=n(60374),b=n(17811),C=n(61365);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}function Z(e){return(0,s.jsx)(h.Z,{id:e,children:e})}var w=function(e){(0,a.Z)(n,e);var t=S(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"updateState",(function(t,n){e.props.updateReadOnlyState(t,!!n.target.checked)})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.readOnlyState;return(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{style:{marginRight:"10px"},children:"Read Only State: "}),(0,s.jsx)(p.Z,{placement:"top",overlay:Z("HTML pane will be read only (or editable) when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"HTML"}),(0,s.jsx)(g.Z,{checked:t.html,onChange:function(t){return e.updateState("html",t)}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:Z("CSS pane will be read only (or editable) when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"CSS"}),(0,s.jsx)(g.Z,{checked:t.css,onChange:function(t){return e.updateState("css",t)}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:Z("JS pane will be read only (or editable) when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"JS"}),(0,s.jsx)(g.Z,{checked:t.js,onChange:function(t){return e.updateState("js",t)}})]})})]})}}]),n}(d.Component),O=n(17730),R=n(54046),P=n(46606),k=n(94065);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}var H=function(e){(0,a.Z)(n,e);var t=T(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"handleSelect",(function(t,n){var s="html";switch(t){case 0:s="html";break;case 1:s="css";break;case 2:s="js";break;case 3:s="hiddenjs";break;default:s="html"}e.props.onPanelSelect(s)})),e}return(0,o.Z)(n,[{key:"getTabContent",value:function(e){var t=this,n=e;"js"!==e&&"hiddenjs"!==e&&"exercise"!==e||(n="javascript"),"css"===e&&(n="scss");var r={content:this.props.panels[e],highlightedLines:this.props.panelsHighlightedLines[e],language:n,theme:this.props.codeTheme,lineNumbers:this.props.showLineNumbers};return(0,s.jsx)(k.Z,{inView:this.props.inView,codeContent:r,resizable:!1,exercise:this.props.exercise,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:function(n){t.props.onCodeChange(e,n)}})}},{key:"render",value:function(){return(0,s.jsx)("div",{children:(0,s.jsxs)(C.mQ,{onSelect:this.handleSelect,children:[(0,s.jsxs)(P.td,{children:[(0,s.jsx)(P.OK,{children:"HTML"}),(0,s.jsx)(P.OK,{children:"CSS (SCSS)"}),(0,s.jsx)(P.OK,{children:"JavaScript"}),(0,s.jsx)(P.OK,{children:"JavaScript (hidden)"}),this.props.exercise&&(0,s.jsx)(P.OK,{children:"Exercise"})]}),(0,s.jsx)(P.x4,{children:this.getTabContent("html")}),(0,s.jsx)(P.x4,{children:this.getTabContent("css")}),(0,s.jsx)(P.x4,{children:this.getTabContent("js")}),(0,s.jsx)(P.x4,{children:this.getTabContent("hiddenjs")}),this.props.exercise&&(0,s.jsx)(P.x4,{children:this.getTabContent("exercise")})]})})}}]),n}(d.Component);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}var I=function(e){(0,a.Z)(n,e);var t=D(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getTabContent",value:function(e){var t=this,n=e;"js"!==e&&"exercise"!==e||(n="javascript");var r={content:this.props.panels[e],highlightedLines:this.props.panelsHighlightedLines[e],language:n,theme:this.props.codeTheme,lineNumbers:this.props.showLineNumbers};return(0,s.jsx)(k.Z,{codeContent:r,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:function(n){t.props.onCodeChange(e,n)}})}},{key:"render",value:function(){return(0,s.jsx)("div",{children:(0,s.jsxs)(C.mQ,{children:[(0,s.jsxs)(P.td,{children:[(0,s.jsx)(P.OK,{children:"HTML"}),(0,s.jsx)(P.OK,{children:"CSS"}),(0,s.jsx)(P.OK,{children:"JavaScript"})]}),(0,s.jsx)(P.x4,{children:this.getTabContent("html")}),(0,s.jsx)(P.x4,{children:this.getTabContent("css")}),(0,s.jsx)(P.x4,{children:this.getTabContent("js")})]})})}}]),n}(d.Component);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}function L(e){return(0,s.jsx)(h.Z,{id:e,children:e})}var N=function(e){(0,a.Z)(n,e);var t=E(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"updateToggleState",(function(t,n){e.props.updateToggleState(t,!!n.target.checked)})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.playgroundTemplate,r=t.toggleState;return"onelinePanels"!==n&&"resultBelow"!==n?null:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{style:{marginRight:"10px"},children:"Panels State: "}),"onelinePanels"===n&&(0,s.jsx)(p.Z,{placement:"top",overlay:L("Output pane will be enabled (or disabled) when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Output"}),(0,s.jsx)(g.Z,{checked:r.result,onChange:function(t){return e.updateToggleState("result",t)}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:L("HTML pane will be enabled (or disabled) when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"HTML"}),(0,s.jsx)(g.Z,{checked:r.html,onChange:function(t){return e.updateToggleState("html",t)}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:L("CSS pane will be enabled (or disabled) when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"CSS (SCSS)"}),(0,s.jsx)(g.Z,{checked:r.css,onChange:function(t){return e.updateToggleState("css",t)}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:L("JS pane will be enabled (or disabled) when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"JS"}),(0,s.jsx)(g.Z,{checked:r.js,onChange:function(t){return e.updateToggleState("js",t)}})]})})]})}}]),n}(d.Component),_=n(99583);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}function V(e){return(0,s.jsx)(h.Z,{id:e,children:e})}var K=function(e){(0,a.Z)(n,e);var t=B(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"heightRef",{current:null}),(0,u.Z)((0,i.Z)(e),"heightCodepanelRef",{current:null}),(0,u.Z)((0,i.Z)(e),"state",{onlyCodeChanged:!1,hintsInView:!1,panels:{js:"",html:"",css:"",hiddenjs:"",exercise:""},selectedPanel:"html",plugins:["codemirror"]}),(0,u.Z)((0,i.Z)(e),"addPlugin",(function(t,n){-1===e.state.plugins.indexOf(t)&&e.setState((0,_.ZP)((function(e){if(e.plugins.push(t),n){var s=e.plugins.indexOf(n);s>-1&&e.plugins.splice(s,1)}})),(function(){e.props.updateContentState((function(t){t.jotted.plugins=e.mapPluginsToReduxState()}))}))})),(0,u.Z)((0,i.Z)(e),"removePlugin",(function(t){var n=e.state.plugins.indexOf(t);n>-1&&e.setState((0,_.ZP)((function(e){e.plugins.splice(n,1)})),(function(){return e.props.updateContentState((function(t){t.jotted.plugins=e.mapPluginsToReduxState()}))}))})),(0,u.Z)((0,i.Z)(e),"onUpdateToggleState",(function(t,n){e.props.updateContentState((function(e){e.jotted.toggleState[t]=n}))})),(0,u.Z)((0,i.Z)(e),"onUpdateReadOnlyState",(function(t,n){e.props.updateContentState((function(e){e.jotted.readOnlyState[t]=n}))})),(0,u.Z)((0,i.Z)(e),"onPanelSelect",(function(t){e.setState({selectedPanel:t})})),(0,u.Z)((0,i.Z)(e),"handleApiKeySelection",(function(t){e.props.updateContentState({selectedApiKeys:t})})),(0,u.Z)((0,i.Z)(e),"mapPluginsToReduxState",(function(){var t=e.props.jotted,n=t.theme,s={codemirror:{name:"codemirror",options:{lineNumbers:t.showLineNumbers,theme:n}},babel:{name:"babel",options:{presets:["es2015","stage-2"]}},"babel-react":{name:"babel",options:{presets:["react","stage-2"]}},console:{name:"console",options:{autoClear:!0}},play:{name:"play",options:{firstRun:!1}}};return e.state.plugins.map((function(e){return s[e]}))})),(0,u.Z)((0,i.Z)(e),"saveComponent",(function(){e.props.updateContentState((function(t){t.jotted.files=["css","exercise","hiddenjs","html","js"].map((function(e){return{type:e,content:t.jotted.files.filter((function(t){return t.type===e}))[0].content}})),t.jotted.showBlank=!1,t.plugins=e.mapPluginsToReduxState()}))})),(0,u.Z)((0,i.Z)(e),"onChangePanelCode",(function(t,n){e.setState({onlyCodeChanged:!0}),e.props.updateContentState((function(e){var s=e.jotted.files.findIndex((function(e){return e.type===t}));e.jotted.files[s].content=n}))})),(0,u.Z)((0,i.Z)(e),"onChangePanelCodeSolution",(function(t,n){e.setState({onlyCodeChanged:!0}),e.props.updateContentState((function(e){e.jotted.solutionPanels[t]=n}))})),(0,u.Z)((0,i.Z)(e),"onHighlightedLinesChange",(function(t){"hiddenjs"!==e.state.selectedPanel&&(e.setState({onlyCodeChanged:!1}),e.props.updateContentState((function(n){n.jotted.panelsHighlightedLines[e.state.selectedPanel]=t.target.value})))})),(0,u.Z)((0,i.Z)(e),"handleHintsChange",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({onlyCodeChanged:n}),e.props.updateContentState((function(e){e.jotted.hints=t}))})),(0,u.Z)((0,i.Z)(e),"handleCaptionChange",(function(t){e.props.updateContentState((function(e){e.jotted.caption=t}))})),e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=J({},this.state.panels),t=this.props.jotted;e=t.files.reduce((function(e,t){return J(J({},e),{},(0,u.Z)({},t.type,t.content))}),e);var n=t.plugins.map((function(e){return"babel"===e.name&&e.options.presets.indexOf("react")>-1?"babel-react":e.name})),s=!1;s="autoRun"in t?t.autoRun:-1===n.indexOf("play"),this.setState({panels:e,plugins:n,onlyCodeChanged:!1}),this.props.updateContentState((function(e){e.jotted.autoRun=s})),this.heightRef.current&&(this.heightRef.current.value=t.height),this.heightCodepanelRef.current&&(this.heightCodepanelRef.current.value=t.heightCodepanel)}},{key:"componentDidUpdate",value:function(){var e=this.props.jotted;this.heightRef.current&&(this.heightRef.current.value=e.height),this.heightCodepanelRef.current&&(this.heightCodepanelRef.current.value=e.heightCodepanel)}},{key:"getCodeTheme",value:function(){var e=this.props.jotted;return"default"===e.theme&&this.props.default_themes||this.props.default_themes&&this.props.default_themes.isForced.RunJS?this.props.default_themes.RunJS:e.theme}},{key:"render",value:function(){var e=this,t=this.props.active,n=this.props,r=n.jotted,o=n.isProject,i=r.files.reduce((function(e,t){return J(J({},e),{},(0,u.Z)({},t.type,t.content))}),{});"js"!==t&&"hiddenjs"!==t||(t="javascript");var a=this.state.selectedPanel,l=r.panelsHighlightedLines[a],c=this.state.plugins.indexOf("console")>-1;return(0,s.jsxs)("div",{style:{paddingBottom:"3px"},children:[(0,s.jsxs)("div",{className:"edcomp-toolbar",style:{borderRadius:R.Sj,marginBottom:15,paddingLeft:10,paddingRight:10},children:[(0,s.jsx)(p.Z,{placement:"top",overlay:V("Default Active Pane when RunJS is shown to reader"),children:(0,s.jsxs)(C.BY.Label,{className:"form-label",children:["Default Active Pane",(0,s.jsxs)(f.Z,{componentClass:"select",style:{marginLeft:5},value:r.pane,onChange:function(t){e.props.updateContentState((function(e){e.jotted.pane=t.target.value}))},children:[(0,s.jsx)("option",{value:"result",children:"Output"}),(0,s.jsx)("option",{value:"html",children:"HTML"}),(0,s.jsx)("option",{value:"css",children:"CSS (SCSS)"}),(0,s.jsx)("option",{value:"js",children:"Javascript"})]})]})}),(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Line Numbers"}),(0,s.jsx)(g.Z,{checked:r.showLineNumbers,onChange:function(t){e.setState({onlyCodeChanged:!1}),e.props.updateContentState((function(e){e.jotted.showLineNumbers=!!t.target.checked}))}})]}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Show console panel when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Show Console"}),(0,s.jsx)(g.Z,{checked:c,onChange:function(t){t.target.checked?e.addPlugin("console"):e.removePlugin("console")}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("When unchecked Run button is shown and auto-run is turned off"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"AutoRun"}),(0,s.jsx)(g.Z,{checked:r.autoRun,onChange:function(t){e.props.updateContentState((function(e){e.jotted.autoRun=!!t.target.checked,r.runOnLoad&&(e.jotted.runOnLoad=!1)}))}})]})}),this.props.apiKeys&&this.props.apiKeys.length>0&&(0,s.jsx)(v.Z,{title:"API Keys",apiKeys:this.props.apiKeys,selectedApiKeys:this.props.selectedApiKeys,handleApiKeySelection:this.handleApiKeySelection,children:(0,s.jsx)(C.BY.Label,{className:"form-label",isKeys:!0,children:"Select API Keys"})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Evaluate the contents as Exercise"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Exercise"}),(0,s.jsx)(g.Z,{checked:r.exercise,onChange:function(t){e.props.updateContentState((function(e){e.jotted.exercise=!!t.target.checked,t.target.checked||(e.jotted.showSolution=!1)}))}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Show Solution to Exercise"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Solution"}),(0,s.jsx)(g.Z,{checked:r.showSolution,onChange:function(t){e.props.updateContentState((function(e){e.jotted.showSolution=!!t.target.checked}))}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Autorun code once when the widget is loaded"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Run on load"}),(0,s.jsx)(g.Z,{disabled:r.autoRun,checked:r.runOnLoad,onChange:function(t){e.props.updateContentState((function(e){e.jotted.runOnLoad=!!t.target.checked&&!r.autoRun}))}})]})}),!o&&(0,s.jsx)(p.Z,{placement:"top",overlay:V("Select the look of Panels and tabs, how they will be organized and presented"),children:(0,s.jsxs)(C.BY.Label,{className:"form-label",children:["Layout",(0,s.jsxs)(f.Z,{componentClass:"select",style:{marginLeft:5},value:r.codePlaygroundTemplate,onChange:function(t){e.props.updateContentState((function(e){e.jotted.codePlaygroundTemplate=t.target.value}))},children:[(0,s.jsx)("option",{value:"jottedTabs",children:"Default (tabs)"}),(0,s.jsx)("option",{value:"onelinePanels",children:"Side-by-side"}),(0,s.jsx)("option",{value:"resultBelow",children:"Show Output below"})]})]})}),!o&&(0,s.jsx)(p.Z,{placement:"top",overlay:V("Optional Height for the output in pixels. Min 150"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:["Height(px)",(0,s.jsx)(f.Z,{inputRef:function(t){e.heightRef.current=t},onBlur:function(t){var n=t.target.value;e.props.updateContentState((function(e){e.jotted.height=n<150?null:n}))},style:{marginLeft:5}})]})}),"resultBelow"===r.codePlaygroundTemplate&&(0,s.jsx)(p.Z,{placement:"top",overlay:V("Optional Height for code panels in pixels. Min 225"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:["Code Height(px)",(0,s.jsx)(f.Z,{inputRef:function(t){e.heightCodepanelRef.current=t},onBlur:function(t){var n=t.target.value;e.props.updateContentState((function(e){e.jotted.heighttCodepanel=n<255?null:n}))},style:{marginLeft:5}})]})}),(0,s.jsx)(b.Z,{value:l,onChangeLines:this.onHighlightedLinesChange}),(0,s.jsxs)("div",{style:{display:"inline-block"},children:[(0,s.jsx)("span",{style:{marginRight:"10px"},children:"Hide Panels: "}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Hide Output Pane when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Output"}),(0,s.jsx)(g.Z,{checked:r.hideResult,onChange:function(t){e.props.updateContentState((function(e){e.jotted.hideResult=!!t.target.checked}))}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Hide Html Pane if html has some content when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"HTML"}),(0,s.jsx)(g.Z,{checked:r.hideHtml,onChange:function(t){return e.props.updateContentState((function(e){e.jotted.hideHtml=!!t.target.checked}))}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Hide Css Pane if html has some content when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"CSS"}),(0,s.jsx)(g.Z,{checked:r.hideCss,onChange:function(t){e.props.updateContentState((function(e){e.jotted.hideCss=!!t.target.checked}))}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Hide Js Pane if Js has some content when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"JS"}),(0,s.jsx)(g.Z,{checked:r.hideJs,onChange:function(t){e.props.updateContentState((function(e){e.jotted.hideJs=!!t.target.checked}))}})]})}),(0,s.jsx)(p.Z,{placement:"top",overlay:V("Hide Navbar to switch between different tabs when RunJs is viewed"),children:(0,s.jsxs)(C.BY.DownloadLabel,{className:"form-label",children:[(0,s.jsx)("span",{children:"Navbar"}),(0,s.jsx)(g.Z,{checked:r.hideNav,onChange:function(t){e.props.updateContentState((function(e){e.jotted.hideNav=!!t.target.checked}))}})]})})]}),(0,s.jsx)(w,{updateReadOnlyState:this.onUpdateReadOnlyState,readOnlyState:r.readOnlyState}),(0,s.jsx)(N,{updateToggleState:this.onUpdateToggleState,toggleState:r.toggleState,playgroundTemplate:r.codePlaygroundTemplate})]}),(0,s.jsx)(H,{inView:this.props.inView,panels:i,panelsHighlightedLines:r.panelsHighlightedLines,onCodeChange:this.onChangePanelCode,codeTheme:this.getCodeTheme(),exercise:r.exercise,showLineNumbers:r.showLineNumbers,onlyCodeChanged:this.state.onlyCodeChanged,onPanelSelect:this.onPanelSelect}),r.showSolution&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{children:(0,s.jsx)("strong",{children:" Solution: "})}),(0,s.jsx)(I,{panels:r.solutionPanels,panelsHighlightedLines:r.panelsHighlightedLines,onCodeChange:this.onChangePanelCodeSolution,codeTheme:this.getCodeTheme(),showLineNumbers:r.showLineNumbers,onlyCodeChanged:this.state.onlyCodeChanged})]}),r.exercise?(0,s.jsx)("div",{className:"border border-solid border-gray-200 dark:border-dark-80 mt-5",children:(0,s.jsx)(y.Z,{judgeHints:r.hints,onJudgeHintsUpdate:this.handleHintsChange,onlyCodeChanged:this.state.onlyCodeChanged})}):null,r.exercise&&r.hints&&r.hints.length>0&&(0,s.jsx)("div",{style:{textAlign:"center",marginBottom:"10px"},children:(0,s.jsx)(C.aL,{onClick:function(){return e.setState({hintsInView:!e.state.hintsInView})},children:this.state.hintsInView?"Hide Hint":"Need Hint?"})}),(0,s.jsx)(j.Z,{children:this.state.hintsInView?(0,s.jsx)(m.Z,{classNames:"runnable",timeout:500,children:(0,s.jsx)(x.Z,{judgeHints:r.hints})}):null}),(0,s.jsx)(O.Z,{caption:r.caption,readOnly:!1,onCaptionChange:this.handleCaptionChange})]})}}]),n}(d.Component),F=n(88753),U=n.n(F),M=n(52198),W=n(32868),Y=n(5451),z=n(46703),Q=n.n(z),q=n(36927),$=n.n(q),G=n(84851),X=n(33156),ee=n(80944),te=n(23838),ne=n(92840),se=n(13243),re=n(60907),oe=n(84283);function ie(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var le={babel:function(e,t,n,s,r,o){var i=function(){var e=null;if("undefined"!==typeof window.Babel)e=window.Babel;else{if("undefined"===typeof window.babel)return"Babel not supported";e={transform:window.babel}}return e}(),a=null;try{a=i.transform(t,r).code}catch(l){a=t}return{jsContent:a,scriptsToAdd:function(e,t){return-1!==t.presets.indexOf("react")&&(e+='<script src="https://fb.me/react-0.14.6.js"><\/script>\n      <script src="https://fb.me/react-dom-0.14.6.js"><\/script>'),e}(s,r),htmlContent:e,cssContent:n}},console:function(e,t,n,s,r){return{jsContent:"".concat("try { ".concat(t)," \n} catch(e) { console.log(e); throw e; }"),scriptsToAdd:s,htmlContent:e,cssContent:n}}},ce=function(e,t,n,s,r){var o,i=e,a=t,l=n,c="",u=ie(s);try{for(u.s();!(o=u.n()).done;){var d=o.value;if(d.name in le){var h=(0,le[d.name])(i,a,l,c,d.options,r);i=h.htmlContent,a=h.jsContent,l=h.cssContent,c=h.scriptsToAdd}}}catch(p){u.e(p)}finally{u.f()}return{htmlContent:i,jsContent:a,cssContent:l,scriptsToAdd:c}},ue=n(786),de=n.n(ue),he=n(23612),pe=n(20767),fe=n(55587),ge=n.n(fe),je=n(10321),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,pe.x0)(5);return(0,he.a8)()?"".concat(window.location.origin,"/static/runjs/index.html?id=").concat(e):(0,he.ZP)()?"https://js.d.educative.io/static/runjs/index.html?id=".concat(e):"https://js.educative.io/static/runjs/index.html?id=".concat(e)},ve=function(e,t,n){return"".concat(e.slice(0,t),"\n").concat(n,"\n").concat(e.slice(t))},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/javascript";return'<script language="javascript" type="'.concat(t,'">').concat(e,"<\/script>")},xe='<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.js"><\/script>',be=function(e){return void 0===e||""===e.trim()?"<!DOCTYPE html><html><head></head><body></body></html>":e},Ce=function(e,t){var n=t.timeout,s=1,r=[],o="__ed_loopvar",i="\nif (Date.now() - %d > ".concat(n,') { document.body.innerHTML = "Infinite Loop Detected!"; throw new Error("Infinite loop"); break;}\n');try{je.parse(e,{tolerant:!0,range:!0,jsx:!0},(function(e){switch(e.type){case"DoWhileStatement":case"ForStatement":case"ForInStatement":case"ForOfStatement":case"WhileStatement":var t=1+e.body.range[0],n=e.body.range[1],a=i.replace("%d",o+s),l="";"BlockStatement"!==e.body.type&&(a="{"+a,l="}",--t),r.push({pos:t,str:a}),r.push({pos:n,str:l}),r.push({pos:e.range[0],str:"var %d = Date.now();\n".replace("%d",o+s)}),++s}}))}catch(a){console.log(a)}return r.sort((function(e,t){return t.pos-e.pos})).forEach((function(t){e=e.slice(0,t.pos)+t.str+e.slice(t.pos)})),e},Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["</head>","</body>","</html>"],n=t.reduce((function(t,n){return-1===t?e.indexOf(n):t}),-1);return-1===n?e.length:n};function Ze(e){return we.apply(this,arguments)}function we(){return(we=(0,M.Z)(U().mark((function e(t){return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/code/sass",e.abrupt("return",(0,oe.Z)({url:"/api/code/sass",type:"POST",data:t}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t,n,s){if(n.length>0&&s.length>0){var r=Se(e),o="<style>".concat(t,"</style>");return ve(e,r,o)}return e}var Re=function(e,t,n,s){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=(null!==e&&void 0!==e?e:[]).filter((function(e){return"html"===e.type})),i=(null!==e&&void 0!==e?e:[]).filter((function(e){return"css"===e.type})),a=(null!==e&&void 0!==e?e:[]).filter((function(e){return"js"===e.type})),l=i[0].content,c=o[0].content,u=a[0].content;n&&(u="".concat(n,";\n").concat(u)),u=Ce(u,{timeout:3e3}),c=be(c);var d=ce(c,u,l,t,s);c=d.htmlContent,u=d.jsContent,l=d.cssContent;var h=d.scriptsToAdd;return new Promise((function(e,n){if(o.length>0&&a.length>0){var s=Se(c,["</body>","</html>","</head>"]),d=0!==t.filter((function(e){return"babel"===e||"babel"===e.name})).length;if(c=ve(c,s,h+ye(u,d?"text/babel":"text/javascript")),d){var p=Se(c);c=ve(c,p,xe)}}r&&l?Ze({language:"sass",source_code:l,source_code_hash:ge()(l),entry_filename:"main.scss",time_limit:30,comp_type:"RunJS"}).then((function(e){var t=JSON.parse(e);0===t.status&&(l=t.stdout,i=de()(i,{0:{content:{$set:t.stdout}}}))})).catch((function(){})).finally((function(){c=Oe(c,l,o,i),e(c)})):(c=Oe(c,l,o,i),e(c))}))},Pe=n(55041);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}var De=function(e){(0,a.Z)(n,e);var t=He(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"onEditorChange",(function(t){var n=e.props,s=n.onCodeChange,r=n.type,o=n.autoRun;return e.props.isSolution?null:s(r,t,o)})),(0,u.Z)((0,i.Z)(e),"getPaneProps",(function(){var t=e.props,n=t.type,s=t.files,r=t.showLineNumbers,o=t.theme,i=t.onlyCodeChanged,a=t.autoRun,l=t.default_themes,c=t.paneReadOnlyState,u=t.exercise,d=t.vimMode,h=t.inView,p=t.updateOnChange,f=c[n],g=e.props.readOnly||f,j={js:"javascript",css:"scss"}[n]||n,m="";e.props.panelsHighlightedLines&&(m=e.props.panelsHighlightedLines[n]);var v=o;"default"===o&&l&&(v=l.RunJS);var y={content:s[n],language:j,theme:v,highlightedLines:m,lineNumbers:r,vimMode:d};return e.props.isSolution&&(y=Te(Te({},y),{},{content:e.props.solutionPanels[n]})),{codeContent:y,readOnly:g,showRuler:!1,onlyCodeChanged:i,exercise:u,autoRun:a,inView:h,updateOnChange:p}})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e,t=this.getPaneProps(),n=this.props.height;return(0,s.jsx)("div",{children:(0,s.jsx)(k.Z,Te(Te({},t),{},{hasContainer:this.props.hasContainer,onEditorChange:this.onEditorChange,isSolution:this.props.isSolution,forcedHeight:null!==(e=Number(n))&&void 0!==e?e:null}))})}}]),n}(d.Component);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}(0,u.Z)(De,"defaultProps",{vimMode:!1});var Ne=function(e){(0,a.Z)(n,e);var t=Le(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"state",{selectedIndex:null,outputEndpoint:""}),(0,u.Z)((0,i.Z)(e),"handleSelect",(function(t){var n=e.props,s=n.onOutputTabSelected,r=n.autoRun,o=n.hideResult;e.props.clearConsoleHistory().then((function(){e.setState({selectedIndex:t}),0===t&&r&&!o&&s()}))})),(0,u.Z)((0,i.Z)(e),"handleRunClicked",(function(){var t=e.state.selectedIndex;e.props.hideResult||(t=0),e.setState({selectedIndex:t})})),e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.setState({outputEndpoint:me()})}},{key:"getResultView",value:function(){var e={link:this.state.outputEndpoint,html:this.props.compiledHtml,height:parseInt(this.props.height)||this.props.height||void 0,responsive:this.props.responsive,captureIFrameLogs:this.props.captureIFrameLogs};return(0,s.jsx)(Pe.Z,Ee({},e))}},{key:"getTabContent",value:function(e){return"result"===e?this.getResultView():(0,s.jsx)(C.hz,{children:(0,s.jsx)(De,Ee(Ee({},this.props),{},{hasContainer:this.props.hasContainer,type:e}))})}},{key:"getTabsToShow",value:function(){var e=this,t=this.props,n=t.hideCss,r=t.hideJs,o=t.hideHtml,i=t.hideResult,a=t.pane,l=0,c=0,u=[!i&&{title:"Output",type:"result"},!r&&{title:"JavaScript",type:"js"},!o&&{title:"HTML",type:"html"},!n&&{title:"CSS (SCSS)",type:"css"}].filter(Boolean);return i||("result"===a&&(c=l),++l),r||("js"===a&&(c=l),++l),o||("html"===a&&(c=l),++l),n||("css"===a&&(c=l),++l),null!==this.state.selectedIndex&&(c=this.state.selectedIndex),(0,s.jsxs)(C.mQ,{selectedIndex:c,onSelect:this.handleSelect,className:"dark:bg-white",children:[(0,s.jsx)(C.td,{children:u.map((function(e,t){return(0,s.jsx)(C.OK,{selected:c===t,alignLeft:!0,children:e.title},t)}))}),u.map((function(t,n){return(0,s.jsx)(C.x4,{children:e.getTabContent(t.type)},n)}))]})}},{key:"render",value:function(){var e=this.props,t=e.hideNav,n=e.hideResult,r=e.runOnLoad,o=e.pane,i=null;return i=t?this.getTabContent("result"):this.getTabsToShow(),(0,s.jsxs)("div",{children:[i,(n||r&&"result"!==o&&null===this.state.selectedIndex)&&(0,s.jsx)("div",{style:{display:"none"},children:this.getResultView()})]})}}]),n}(d.Component);(0,u.Z)(Ne,"defaultProps",{responsive:!0,onOutputTabSelected:function(){}});var _e={html:"HTML",css:"CSS",js:"JavaScript",result:"Output"},Ae={html:"",css:"",js:""};function Je(e){var t=[];return e.forEach((function(e){var n=Object.keys(e)[0];e[n]&&t.push(n)})),t}function Be(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=" ",s=t?["html","css","js","result"]:["html","css","js"],r=0,o=s;r<o.length;r++){var i=o[r];e[i]||(n+="hide-code-".concat(i," "))}return n.trim()}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}var Ue=function(e){(0,a.Z)(n,e);var t=Fe(n);function n(e,s){var o;return(0,r.Z)(this,n),o=t.call(this,e,s),(0,u.Z)((0,i.Z)(o),"outputEndpoint",void 0),(0,u.Z)((0,i.Z)(o),"handleToggleCode",(function(e){o.props.onPaneToggleStateChange(e,!o.props.paneToggleState[e])})),(0,u.Z)((0,i.Z)(o),"onFocus",(function(e){if("result"!==e){var t=Ke(Ke({},o.state.focusClasses),{},(0,u.Z)({},e,"focus-pane"));o.setState({focusClasses:t})}})),(0,u.Z)((0,i.Z)(o),"onBlur",(function(){o.setState({focusClasses:Ae})})),o.state={availableCodes:[{html:!e.hideHtml},{css:!e.hideCss},{js:!e.hideJs},{result:!e.hideResult}],focusClasses:Ae,outputEndpoint:""},o}return(0,o.Z)(n,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({availableCodes:[{html:!this.props.hideHtml},{css:!this.props.hideCss},{js:!this.props.hideJs},{result:!this.props.hideResult}]})}},{key:"componentDidMount",value:function(){this.setState({outputEndpoint:me()})}},{key:"getPaneContent",value:function(e){return"result"===e?this.getResultView():(0,s.jsx)("div",{style:{height:this.props.height},children:(0,s.jsx)(De,Ke(Ke({},this.props),{},{type:e}))})}},{key:"getResultView",value:function(){var e={link:this.state.outputEndpoint,html:this.props.compiledHtml,height:parseInt(this.props.height,10)||this.props.height,responsive:this.props.responsive,captureIFrameLogs:this.props.captureIFrameLogs};return(0,s.jsx)(Pe.Z,Ke({},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.hideNav,r=t.hideResult,o=t.hideHtml,i=t.hideCss,a=t.hideJs,l=t.height,c=t.paneToggleState,u=this.state,d=u.availableCodes,h=u.focusClasses,p=Je(d),f=_e,g="",j=Be(c,!r);j.split(" ").forEach((function(e){g+=(e||"")+" "}));var m="";(function(e){var t=e.split(" ");if(1===t.length){if(!t[0])return["html-has-border","css-has-border","js-has-border"];if(e.indexOf("result")>=0)return["html-has-border","css-has-border"];if(e.indexOf("html")>=0)return["css-has-border","js-has-border"];if(e.indexOf("css")>=0)return["html-has-border","js-has-border"];if(e.indexOf("js")>=0)return["html-has-border","css-has-border"]}if(2===t.length){if(e.indexOf("html")>=0&&e.indexOf("css")>=0)return["js-has-border"];if(e.indexOf("html")>=0&&(e.indexOf("js")>=0||e.indexOf("result")>=0))return["css-has-border"];if(e.indexOf("css")>=0&&(e.indexOf("js")>=0||e.indexOf("result")>=0))return["html-has-border"];if(e.indexOf("js")>=0&&e.indexOf("result")>=0)return["html-has-border"]}return[]})(j).forEach((function(e){m+=(e||"")+" "}));var v="runjs-container ".concat(g," ").concat(m);!r&&o&&i&&a&&(v+="".concat(v," result-single-pane"));var y={height:l};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:v,children:[(0,s.jsx)("ul",{className:"runjs-nav-list",children:!n&&p.map((function(t,n){return(0,s.jsx)("li",{onClick:e.handleToggleCode.bind(null,t),className:"runjs-nav-item runjs-nav-item-".concat(t),children:(0,s.jsx)("span",{children:f[t]})},n)}))}),(0,s.jsx)("div",{className:"runjs-panes-row",children:p.map((function(t,n){return(0,s.jsx)("div",{className:"runjs-pane runjs-pane-".concat(t," ").concat(h[t]),onFocus:e.onFocus.bind(e,t),onBlur:e.onBlur,children:(0,s.jsx)("div",{style:y,children:e.getPaneContent(t)})},n)}))}),r&&(0,s.jsx)("div",{style:{display:"none"},children:this.getResultView()})]})})}}]),n}(d.Component);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}(0,u.Z)(Ue,"defaultProps",{responsive:!0});var ze=function(e){(0,a.Z)(n,e);var t=Ye(n);function n(e,s){var o;return(0,r.Z)(this,n),o=t.call(this,e,s),(0,u.Z)((0,i.Z)(o),"outputEndpoint",void 0),(0,u.Z)((0,i.Z)(o),"handleToggleCode",(function(e){o.props.onPaneToggleStateChange(e,!o.props.paneToggleState[e])})),(0,u.Z)((0,i.Z)(o),"onFocus",(function(e){var t=We(We({},o.state.focusClasses),{},(0,u.Z)({},e,"focus-pane"));o.setState({focusClasses:t})})),(0,u.Z)((0,i.Z)(o),"onBlur",(function(){o.setState({focusClasses:Ae})})),o.state={availableCodes:[{html:!e.hideHtml},{css:!e.hideCss},{js:!e.hideJs}],focusClasses:Ae,outputEndpoint:""},o}return(0,o.Z)(n,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({availableCodes:[{html:!this.props.hideHtml},{css:!this.props.hideCss},{js:!this.props.hideJs}]})}},{key:"componentDidMount",value:function(){this.setState({outputEndpoint:me()})}},{key:"getPaneContent",value:function(e){return"result"===e?this.getResultView():(0,s.jsx)("div",{style:{height:this.props.heightCodepanel},children:(0,s.jsx)(De,We(We({},this.props),{},{type:e}))})}},{key:"getResultView",value:function(){var e={link:this.state.outputEndpoint,html:this.props.compiledHtml,height:parseInt(this.props.height,10)||this.props.height||"100%",responsive:this.props.responsive,captureIFrameLogs:this.props.captureIFrameLogs};return(0,s.jsx)(Pe.Z,We({},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.hideNav,r=t.autoRun,o=t.hideResult,i=t.hideHtml,a=t.hideCss,l=t.hideJs,c=t.height,u=t.heightCodepanel,d=t.paneToggleState,h=this.state,p=h.availableCodes,f=h.focusClasses,g=Je(p),j=_e,m="",v=Be(d);v.split(" ").forEach((function(e){m+=(e||"")+" "}));var y="";(function(e){var t=e.split(" ");return 1===t.length?t[0]?e.indexOf("html")>=0?["css-has-border"]:["html-has-border"]:["html-has-border","css-has-border"]:[]})(v).forEach((function(e){y+=(e||"")+" "}));var x="runjs-container ".concat(m," ").concat(y);!o&&i&&a&&l&&(x+="".concat(x," result-single-pane"));var b={panel:{height:"65vh",maxHeight:"".concat(u,"px")}};return i&&a&&l||(b=We(We({},b),{},{result:{borderTop:"1px solid ".concat("#D2D2D6"),height:c}})),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:x,children:[(!n||!r)&&(0,s.jsx)("ul",{className:"runjs-nav runjs-nav-list",children:!n&&g.map((function(t,n){return(0,s.jsx)("li",{onClick:e.handleToggleCode.bind(null,t),className:"runjs-nav-item runjs-nav-item-".concat(t),children:(0,s.jsx)("span",{children:j[t]})},n)}))}),!(i&&a&&l)&&!n&&(0,s.jsx)("div",{className:"runjs-panes-row",style:u?b.panel:{},children:g.map((function(t,n){return(0,s.jsx)("div",{className:"runjs-pane runjs-pane-cell runjs-pane-".concat(t," ").concat(f[t]),onFocus:e.onFocus.bind(e,t),onBlur:e.onBlur,children:e.getPaneContent(t)},n)}))}),!o&&(0,s.jsx)("div",{className:"runjs-result-wrapper",style:We({},b.result),children:(0,s.jsx)("div",{className:"runjs-pane runjs-pane-result",children:this.getPaneContent("result")})}),o&&(0,s.jsx)("div",{style:{display:"none"},children:this.getResultView()})]})})}}]),n}(d.Component);(0,u.Z)(ze,"defaultProps",{responsive:!0});var Qe=ze;function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}var Xe=function(e){(0,a.Z)(n,e);var t=Ge(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"state",{selectedIndex:null}),(0,u.Z)((0,i.Z)(e),"handleSolutionSelect",(function(t){e.setState({selectedIndex:t})})),(0,u.Z)((0,i.Z)(e),"getSolutionTabContent",(function(t){return(0,s.jsx)(C.hz,{children:(0,s.jsx)(De,$e($e({},e.props),{},{type:t,isSolution:!0}))})})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e,t,n,r,o,i,a=this,l=[(null===(e=this.props)||void 0===e||null===(t=e.solutionPanels)||void 0===t?void 0:t.js)&&""!==this.props.solutionPanels.js.trim()&&{title:"JavaScript",type:"js"},(null===(n=this.props)||void 0===n||null===(r=n.solutionPanels)||void 0===r?void 0:r.html)&&""!==this.props.solutionPanels.html.trim()&&{title:"HTML",type:"html"},(null===(o=this.props)||void 0===o||null===(i=o.solutionPanels)||void 0===i?void 0:i.css)&&""!==this.props.solutionPanels.css.trim()&&{title:"CSS",type:"css"}].filter(Boolean);return(0,s.jsx)(C.WQ,{children:(0,s.jsx)(j.Z,{children:(0,s.jsx)(m.Z,{classNames:"runnable",timeout:500,children:(0,s.jsxs)("div",{children:[this.props.solutionInView&&(0,s.jsx)(O.Z,{caption:"Solution",readOnly:!0,inCode:!0}),this.props.solutionInView&&(0,s.jsxs)(C.mQ,{selectedIndex:this.state.selectedIndex||0,onSelect:this.handleSolutionSelect,children:[(0,s.jsx)(C.td,{children:l.map((function(e,t){return(0,s.jsx)(C.OK,{selected:(a.state.selectedIndex||0)===t,isSolution:!0,children:e.title},e.type)}))}),l.map((function(e){return(0,s.jsx)(P.x4,{children:a.getSolutionTabContent(e.type)},e.type)}))]})]})})})})}}]),n}(d.Component),et=n(91122),tt=n(30583),nt=n(89465),st=n(74156),rt=n(42226),ot=n(74455),it=n(91936),at=n(82378);function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}function ct(e){return(0,s.jsx)(et.Z,{id:(0,pe.x0)(),children:(0,s.jsx)("span",{children:e})})}var ut=function(e){(0,a.Z)(n,e);var t=lt(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"_truncateText",(function(e){return e&&st.ZP.isString(e)?e.length>40?(0,s.jsx)(p.Z,{rootClose:!0,placement:"top",trigger:"click",overlay:ct(e),children:(0,s.jsxs)("span",{style:{cursor:"pointer"},children:[e.substring(0,40),(0,s.jsx)(nt.Z,{className:"py-0 px-1 rounded-md float-right fill-current text-white bg-gray-700 w-5 h-5"})]})}):e:null})),(0,u.Z)((0,i.Z)(e),"handleHideResults",(function(){e.props.onHideTestResults()})),e}return(0,o.Z)(n,[{key:"getExecutionFailedView",value:function(e){var t=e.stderr,n=e.stdout,r=e.reason,o=e.status;this.props.logWidgetInteraction({code_widget_type:"judge",status:o,reason:r});var i=!n&&!t,a="Succeeded"===r?(0,s.jsxs)(it.fB,{children:[(0,s.jsx)(it.Jr,{}),(0,s.jsx)("p",{className:"text-xs font-semibold tracking-wide",children:e.reason})]}):(0,s.jsxs)(it.M6,{children:[(0,s.jsx)(it.X,{}),(0,s.jsx)("p",{className:"text-xs font-semibold tracking-wide",children:e.reason})]});return(0,s.jsxs)("div",{children:[e.compilation_result&&(0,s.jsx)(it.w_,{children:e.compilation_result}),a,!i&&(0,s.jsxs)(it.fh,{children:[(0,s.jsx)(it.__,{children:(0,s.jsx)("h6",{children:"Output"})}),(0,s.jsx)(it.qp,{children:e.time})]}),n&&(0,s.jsx)(it.r_,{children:n}),t&&(0,s.jsx)(it.qv,{children:t})]})}},{key:"getTestCasesResultView",value:function(e,t){var n=this,r="border border-solid border-gray-300 dark:border-gray-A100",o=0;t.forEach((function(e){e.succeeded&&o++})),t=(0,W.Z)(t).sort((function(e,t){return(e.succeeded?2:1)-(t.succeeded?2:1)})),this.props.logWidgetInteraction({code_widget_type:"judge",status:e.status,reason:e.reason,test_total_count:t.length,test_passed_count:o});var i,a;return i=t.map((function(e,t){var o=e.succeeded?(0,s.jsx)(it.Jr,{}):(0,s.jsx)(it.X,{});return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:r,children:o}),(0,s.jsx)("td",{className:r,children:n._truncateText(e.input)}),(0,s.jsx)("td",{className:r,children:n._truncateText(e.expected_output)}),(0,s.jsx)("td",{className:r,children:n._truncateText(e.actual_output)}),(0,s.jsx)("td",{className:r,children:n._truncateText(e.reason)})]},t)})),(0,s.jsxs)("div",{children:[(0,s.jsx)(C.kn,{onClick:this.handleHideResults,children:ot.closeIcon}),(0,s.jsxs)(tt.Z,{responsive:!0,style:{marginBottom:7},children:[(0,s.jsx)("thead",{className:r,children:(0,s.jsxs)("tr",{className:r,children:[(0,s.jsx)("th",{className:"".concat(r," dark:bg-dark-70"),children:"Result"}),(0,s.jsx)("th",{className:"".concat(r," dark:bg-dark-70"),children:"Input"}),(0,s.jsx)("th",{className:"".concat(r," dark:bg-dark-70"),children:"Expected Output"}),(0,s.jsx)("th",{className:"".concat(r," dark:bg-dark-70"),children:"Actual Output"}),(0,s.jsx)("th",{className:"".concat(r," dark:bg-dark-70"),children:"Reason"})]})}),(0,s.jsx)("tbody",{className:r,children:i})]}),(a=e.stdout,a&&a.length>0?(0,s.jsxs)("div",{style:{padding:10},children:[(0,s.jsx)(C.pq,{children:(0,s.jsx)("p",{className:"font-normal",children:"output"})}),(0,s.jsx)(C.up,{children:(0,s.jsx)("p",{className:"text-sm font-semibold tracking-widest text-transform: uppercase",children:a})})]}):null)]})}},{key:"getResultsView",value:function(e){var t=e.execution_result,n=e.test_results,r=null;if(0===t.status){var o=n.filter((function(e){return e.succeeded})).length,i=n.length;r=(0,s.jsxs)(at.ZP,{style:{alignItems:"stretch",textAlign:"center"},children:[(0,s.jsxs)(at.b_,{children:[(0,s.jsx)(at.TU,{}),(0,s.jsx)("h6",{children:"".concat(o," of ").concat(i," Tests Passed")})]}),this.getTestCasesResultView(t,n),(0,s.jsx)(it.qp,{children:t.time})]})}else r=this.getExecutionFailedView(t);return(0,s.jsx)("div",{children:r})}},{key:"render",value:function(){var e=this.props,t=e.testExecResult,n=e.testExecError,r=e.testExecInProgress,o=e.disableBorder,i=null;return r?i=(0,s.jsx)(C.vw,{children:(0,s.jsx)(rt.Z,{statusData:{status:"WAIT",text:"Evaluating code "}})}):n?i=(0,s.jsx)(C.Yt,{children:(0,s.jsx)("p",{className:"text-sm font-semibold tracking-widest uppercase",children:n})}):t&&(i=this.getResultsView(t)),(0,s.jsx)(m.Z,{classNames:"runnable",timeout:500,children:(0,s.jsx)("div",{className:"flex flex-col pt-2.5 px-5 pb-8 bg-white dark:bg-dark font-mono ".concat(o?"":"border-l border-r border-b border-solid border-gray-300 dark:border-dark-60"," "),children:i})})}}]),n}(d.Component);(0,u.Z)(ut,"defaultProps",{logWidgetInteraction:function(){return null},disableBorder:!1});var dt=ut,ht=n(46365),pt=n(81376),ft=n(72930),gt=n(33212),jt=n(37103),mt=n(54783);function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=(0,ft.default)((function(){return n.e(47533).then(n.bind(n,47533))}),{ssr:!1,loadableGenerated:{webpack:function(){return[47533]},modules:["../components/widgets/RunJS/CodePlayground2.tsx -> react-split"]}}),Ct=function(e){var t=e.toggleShowSolution,n=e.solutionInView,r=e.hints,o=e.hintsInView,i=e.onClickHintButton,a=e.keydownSaveHandler,l=e.isConsoleEnabled,c=e.clearConsoleHistory,u=e.iframeLogs,d=e.testExecResultHidden,h=e.testExecResult,p=e.testExecError,f=e.testExecInProgress,g=e.hideTestResults,v=e.logWidgetInteraction,y=e.calculateFullHeight,x=e.allProps,b=x.showSolution,S=x.exercise;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between bg-gray-200 p-1",children:[(0,s.jsx)("div",{className:"flex p-3",children:(0,s.jsx)("span",{className:"font-bold",children:"Console"})}),(0,s.jsxs)("div",{className:"flex",children:[b&&(0,s.jsx)("button",{className:"outlined-default py-2 m-1",onClick:t,children:n?"Hide Solution":"Show Solution"}),!!r&&(0,s.jsx)("button",{className:"outlined-default py-2 m-1",onClick:i,children:o?"Hide Hint":"Need Hint?"})]})]}),(0,s.jsx)(C.ZP,{onKeyDown:a,children:(0,s.jsxs)("div",{role:"none",className:"overflow-y-scroll",style:{height:"".concat(y(),"px")},children:[l&&(0,s.jsx)(C.$Q,{children:(0,s.jsx)(pt.Z,{clearConsole:c,consoleLogs:u})}),(0,s.jsx)(j.Z,{children:o&&(0,s.jsx)(m.Z,{classNames:"runnable",timeout:500,children:(0,s.jsx)(C.j2,{judgeHints:r})})}),b&&n&&(0,s.jsx)(Xe,xt(xt({},x),{},{solutionInView:n,height:null})),S&&!(d&&!h&&!p&&!f)&&(0,s.jsx)(dt,{testExecResult:h,testExecError:p,testExecInProgress:f,isResultHidden:d,onHideTestResults:g,logWidgetInteraction:v,disableBorder:!0})]})})]})},St=function(e){(0,a.Z)(n,e);var t=vt(n);function n(e){var s;(0,r.Z)(this,n),s=t.call(this,e),(0,u.Z)((0,i.Z)(s),"bindProjectListener",(function(e){switch(e.detail.event){case jt.lx.RUN:s.handleOnRunClick();break;case jt.lx.TEST:s.onJudgeClicked();break;case jt.lx.SAVE:s.handleSaveUserData({})}})),(0,u.Z)((0,i.Z)(s),"getCodeFilesAsHash",(function(e){return e.reduce((function(e,t){return xt(xt({},e),{},(0,u.Z)({},t.type,t.content))}),{})})),(0,u.Z)((0,i.Z)(s),"saveComponent",(function(){})),(0,u.Z)((0,i.Z)(s),"debouncedOnCodeChange",$()((function(e,t,n){var r=s.state.files;if(Object.hasOwnProperty.call(r,e)){var o=s.state.dirty||r[e]!==t,i={files:r=xt(xt({},r),{},(0,u.Z)({},e,t)),onlyCodeChanged:!0,dirty:o};s.setState(i,(function(){"jottedTabs"!==s.getPlaygroundType()&&n&&s.getCompiledHtml()}))}else console.log("Error: onCodeChange: unknown file type",e)}),500)),(0,u.Z)((0,i.Z)(s),"replaceApiKeys",(function(e,t){return Object.keys(t).reduce((function(n,s){return xt(xt({},n),{},(0,u.Z)({},s,(0,re.Q_)(t[s],e)))}),{})})),(0,u.Z)((0,i.Z)(s),"findUnReplacedKeys",(function(e,t){var n=new Set([]);return Object.keys(t).forEach((function(t){Object.values(e).forEach((function(e){n.has(t)||(0,re.iD)(e,t)&&n.add(t)}))})),(0,W.Z)(Object.keys(t).filter((function(e){return n.has(e)})))})),(0,u.Z)((0,i.Z)(s),"onPaneToggleStateChange",(function(e,t){var n=s.state.paneToggleState;n=xt(xt({},n),{},(0,u.Z)({},e,t)),s.setState({paneToggleState:n,onlyCodeChanged:!1})})),(0,u.Z)((0,i.Z)(s),"replaceAndCheckApiKeys",(function(e){s.setState({files:s.replaceApiKeys(s.props.apiKeysToReplace,s.state.files)},(function(){var t,n=null!==(t=s.props.jotted)&&void 0!==t&&t.autoRun?[]:s.findUnReplacedKeys(s.state.files,s.props.apiKeysToReplace);n.length>0?s.props.renderReplacementWrapper(n):e()}))})),(0,u.Z)((0,i.Z)(s),"onRunClicked",(0,M.Z)(U().mark((function e(){var t,n,r,o;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.props,n=t.isProject,r=t.allowWidgetUserData,o=t.isUserLoggedOut,r&&!o&&s.handleSaveUserData({reset:!1}),n&&jt.ZP.dispatch(jt.lx.CSS_LOADING),s.replaceAndCheckApiKeys((function(){s.getCompiledHtml().finally((function(){n&&jt.ZP.dispatch(jt.lx.CSS_COMPILED)}))}));case 4:case"end":return e.stop()}}),e)})))),(0,u.Z)((0,i.Z)(s),"onJudgeClicked",function(){var e=(0,M.Z)(U().mark((function e(t){return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===t||void 0===t||t.stopPropagation(),s.replaceAndCheckApiKeys((function(){return s.executeCodeJudge()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,u.Z)((0,i.Z)(s),"executeCodeJudge",(function(){s.getCompiledHtml();var e=s.state,t=e.files,n=e.compiledHtmlJudge,r='var userJsCode = "'.concat(Q()(t.js),'";')+'var userCssCode = "'.concat(Q()(t.css),'";')+'var userHtmlCode = "'.concat(Q()(t.html),'";')+'var userHtmlPage = "'.concat(Q()(n),'";')+'var displayTestOutput = function(results) {\r\n  const test_results = [];\r\n\r\n  for (let result in results) {\r\n    let jres = {};\r\n    jres["succeeded"] = results[result].succeeded;\r\n    jres["reason"] = results[result].reason;\r\n    jres["input"] = results[result].input;\r\n    jres["expected_output"] = results[result].expected_output;\r\n    jres["actual_output"] = results[result].actual_output;\r\n\r\n    test_results.push(jres);\r\n  }\r\n\r\n  let output = { test_results: test_results };\r\n  let json_output = JSON.stringify(output);\r\n  console.log(\r\n    "<__educative_test_results__>" +\r\n      json_output +\r\n      "</__educative_test_results__>"\r\n  );\r\n};\r\n\r\nvar mainSync = function() {\r\n  const results = executeTests(\r\n    userJsCode,\r\n    userCssCode,\r\n    userHtmlCode,\r\n    userHtmlPage\r\n  );\r\n  return results;\r\n};\r\n\r\nvar mainAsync = async function() {\r\n  const results = await executeTestsAsync(\r\n    userJsCode,\r\n    userCssCode,\r\n    userHtmlCode,\r\n    userHtmlPage\r\n  );\r\n  return results;\r\n};\r\n\r\nvar main = function() {\r\n  if (typeof executeTestsAsync !== "undefined") {\r\n    mainAsync().then((test_results_async, err) => {\r\n      if (err) {\r\n        console.log("Error in Async Tests execution.");\r\n        return;\r\n      }\r\n      displayTestOutput(test_results_async);\r\n    });\r\n  } else if (typeof executeTests !== "undefined") {\r\n    const test_results_sync = mainSync();\r\n    displayTestOutput(test_results_sync);\r\n  }\r\n};\r\n\r\nmain();\r\n',o="".concat(t.exercise,"\n").concat(r),i=s.props,a=i.authorId,l=i.collectionId,c=i.shotId,u=i.pageType,d=i.pageId,h=i.isDraft,p=i.comp_id;s.setState({testExecResult:null,testExecResultHidden:!0,testExecError:null,testExecInProgress:!0}),(0,ee.eV)({language:"javascript",entry_filename:"index.js",source_code:o,stdin:"",test_output_on_console:!1,author_id:a,work_id:l||c,work_type:u,page_id:d,is_draft_page:h,comp_id:p||null,comp_type:"RunJS"}).then((function(e){s.setState({testExecResult:JSON.parse(e),testExecResultHidden:!1,testExecInProgress:!1})})).catch((function(e){console.log("codeJudge error in runjs",e);var t=401!==e.status?e.responseText||e.toString():"Please login to use code judge.";s.setState({testExecError:t,testExecInProgress:!1})}))})),(0,u.Z)((0,i.Z)(s),"isConsoleEnabled",(function(){var e=!1;return s.props.jotted.plugins.forEach((function(t){"console"===t.name&&(e=!0)})),e})),(0,u.Z)((0,i.Z)(s),"clearConsoleHistory",(function(){return new Promise((function(e){s.state.iframeLogs.length?s.setState({iframeLogs:[]},(function(){e()})):e()}))})),(0,u.Z)((0,i.Z)(s),"captureIFrameLogs",(function(e){var t={type:e.type,messages:e.messages},n=[].concat((0,W.Z)(s.state.iframeLogs),[t]);s.setState({iframeLogs:n})})),(0,u.Z)((0,i.Z)(s),"hideTestResults",(function(){s.setState({testExecResultHidden:!0,testExecResult:null,testExecError:null,testExecInProgress:!1})})),(0,u.Z)((0,i.Z)(s),"handleSaveUserData",(function(e){var t=e.reset,n=void 0!==t&&t;if(n||!s.props.userId||s.state.dirty){var r=s.props.comp_id,o=null,i=s.state.files;!n&&Object.keys(null!==i&&void 0!==i?i:{}).length&&(o={files:i}),s.props.saveWidgetUserData(o,{compId:r,reset:n}),s.setState({dirty:!1})}})),(0,u.Z)((0,i.Z)(s),"handleResetUserData",(function(){s.props.userId&&s.state.hasSnapshot&&s.handleSaveUserData({reset:!0}),s.updateFilesInState(s.props.jotted),s.setState({dirty:!1})})),(0,u.Z)((0,i.Z)(s),"keydownSaveHandler",(function(e){if(s.props.allowWidgetUserData){var t=e.metaKey,n=e.ctrlKey,r="s"===e.key;(t||n)&&r&&(e.preventDefault(),s.handleSaveUserData({reset:!1}))}})),(0,u.Z)((0,i.Z)(s),"onClickHintButton",(function(){s.state.judgeHintsInView||s.props.logWidgetInteraction({interaction_touch_point:se.jD}),s.setState({hintsInView:!s.state.hintsInView})})),(0,u.Z)((0,i.Z)(s),"toggleShowSolution",(function(){s.state.solutionInView||s.props.logWidgetInteraction({interaction_touch_point:se.UO}),s.setState({solutionInView:!s.state.solutionInView}),s.confirmationTrigger&&s.confirmationTrigger.handleHide()})),(0,u.Z)((0,i.Z)(s),"handleOnRunClick",(function(e){var t;null===e||void 0===e||e.stopPropagation(),"jottedTabs"===s.getPlaygroundType()&&s.viewTabs&&s.viewTabs.handleRunClicked(),null!==(t=s.props.jotted)&&void 0!==t&&t.autoRun||s.setState({compiledHtml:null,compiledHtmlJudge:null,iframeLogs:[]}),s.onRunClicked()})),(0,u.Z)((0,i.Z)(s),"calculateFullHeight",(function(){return window.innerHeight-gt.jw-gt.iv-gt.gr}));var o='<text style="color:'.concat("#8F8F99",'">Click Run for output...</text>');return s.state={files:{},onlyCodeChanged:!1,compiledHtml:e.jotted.autoRun?null:o,compiledHtmlJudge:null,hints:null,hintsInView:!1,solutionInView:!1,caption:"",testExecResultHidden:!0,testExecResult:null,testExecError:null,testExecInProgress:!1,consoleEnabled:s.isConsoleEnabled(),consoleId:"runjs_console_output_".concat(X.Z.getKey()),paneToggleState:e.jotted.toggleState||{html:!0,css:!0,js:!0,result:!0},paneReadOnlyState:e.jotted.readOnlyState||{html:!1,css:!1,js:!1},iframeLogs:[]},s}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.jotted,n=e.contentSnapshot;e.isProject&&jt.ZP.add(this.bindProjectListener);var s=this.props.jotted,r=s.autoRun,o=s.runOnLoad;this.updateFilesInState(t,n,!1,r||o)}},{key:"componentDidUpdate",value:function(e){if(this.props.contentSnapshot!==e.contentSnapshot||this.props.jotted!==e.jotted||this.props.apiKeysToReplace!==e.apiKeysToReplace){var t=this.props,n=t.jotted,s=t.contentSnapshot;this.updateFilesInState(n,s,this.state.dirty)}}},{key:"componentWillUnmount",value:function(){this.props.isProject&&jt.ZP.remove(this.bindProjectListener)}},{key:"updateFilesInState",value:function(e,t){var n=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Boolean(null===t||void 0===t?void 0:t.files),i=o?null===t||void 0===t?void 0:t.files:this.getCodeFilesAsHash(e.files);this.setState({files:this.replaceApiKeys(this.props.apiKeysToReplace,s?this.state.files:i),hints:e.hints,onlyCodeChanged:!1,hasSnapshot:o},(function(){r&&n.getCompiledHtml()}))}},{key:"getCompiledHtml",value:function(){var e=this,t=this.props.jotted.plugins,n=this.state.files,s=t.filter((function(e){return"console"!==e.name})),r=n.hiddenjs||"",o=Object.keys(n).filter((function(e){return Object.hasOwnProperty.call(n,e)&&("js"===e||"html"===e||"css"===e)})).map((function(e){return{type:e,content:n[e]}}));return new Promise((function(n){if(o.length>0){var i=null;Re(o,t,r,e.state.consoleId,!0).then((function(t){return i=t,Re(o,s,r,e.state.consoleId,!1)})).then((function(t){e.setState({compiledHtml:i,compiledHtmlJudge:t,iframeLogs:[]},(function(){return n()}))}))}else n()}))}},{key:"getPropsForViewers",value:function(){var e,t=this.props,n=t.jotted,s=t.editorMarkerForViewMode,r=t.jotted,o=r.hideCss,i=r.hideHtml,a=r.hideJs,l=r.hideNav,c=r.hideResult,u=r.showLineNumbers,d=r.runOnLoad,h=r.pane,p=r.height,f=r.heightCodepanel,g=r.plugins,j=r.exercise,m=r.showSolution,v=r.caption,y=t.default_themes,x=t.allowWidgetUserData,b=t.vimMode,C=t.takeFullHeight,S=t.isProject,Z={default_themes:y,hideCss:o,hideHtml:i,hideJs:a,hideNav:l,hideResult:c,showLineNumbers:void 0===u||u,pane:h,height:C?this.calculateFullHeight():p,heightCodepanel:f,plugins:g,readOnly:s,runOnLoad:d,onCodeChange:this.debouncedOnCodeChange,onRunClicked:this.onRunClicked,onJudgeClicked:this.onJudgeClicked,exercise:j,showSolution:m,caption:v,onlyCodeChanged:this.state.onlyCodeChanged,files:this.state.files,compiledHtml:this.state.compiledHtml,paneToggleState:this.state.paneToggleState,paneReadOnlyState:this.state.paneReadOnlyState,onPaneToggleStateChange:this.onPaneToggleStateChange,userDataActions:x&&!l?this.getUserDataActions():null,clearConsoleHistory:this.clearConsoleHistory,captureIFrameLogs:this.captureIFrameLogs,vimMode:b,updateOnChange:!0,isProject:S};return"panelsHighlightedLines"in n&&(Z=xt(xt({},Z),{},{panelsHighlightedLines:n.panelsHighlightedLines})),"solutionPanels"in n&&(Z=xt(xt({},Z),{},{solutionPanels:n.solutionPanels})),this.props.userThemes?Z=xt(xt({},Z),{},{codeTheme:this.props.userThemes}):null!==y&&void 0!==y&&null!==(e=y.isForced)&&void 0!==e&&e.RunJS?Z=xt(xt({},Z),{},{codeTheme:y.RunJS}):"theme"in n?Z=xt(xt({},Z),{},{codeTheme:n.theme}):(Z=xt(xt({},Z),{},{codeTheme:"default"}),n.plugins.forEach((function(e){"codemirror"===e.name&&void 0!==e.options.theme&&(Z=xt(xt({},Z),{},{codeTheme:e.options.theme}))}))),"autoRun"in n?Z=xt(xt({},Z),{},{autoRun:n.autoRun}):(Z=xt(xt({},Z),{},{autoRun:!0}),n.plugins.forEach((function(e){"play"===e.name&&(Z=xt(xt({},Z),{},{autoRun:!1}))}))),Z}},{key:"getPlaygroundType",value:function(){var e=this.props.jotted,t=e.codePlaygroundTemplate,n=e.arrangeSideBySide;return t||(n?"onelinePanels":"jottedTabs")}},{key:"getUserDataActions",value:function(){return(0,s.jsx)(te.Z,{isContentDirty:this.state.dirty,hasSnapshot:this.state.hasSnapshot,saveUserData:this.handleSaveUserData,resetUserData:this.handleResetUserData,compId:this.props.comp_id,disableSave:this.props.isProject})}},{key:"render",value:function(){var e=this,t=this.getPropsForViewers(),n=null,r=t.hideCss&&t.hideHtml&&t.hideJs;switch(this.getPlaygroundType()){case"jottedTabs":n=(0,s.jsx)(Ne,xt(xt({},t),{},{inView:this.props.inView,onOutputTabSelected:this.handleOnRunClick,ref:function(t){e.viewTabs=t},hasContainer:!0}));break;case"onelinePanels":n=(0,s.jsx)(Ue,xt({},t));break;case"resultBelow":n=(0,s.jsx)(Qe,xt({},t));break;default:n=(0,s.jsx)("div",{children:"CodePlayground not available."})}var o=this.state,i=o.testExecResult,a=o.testExecError,l=o.testExecInProgress,c=o.testExecResultHidden,u=!!t.isProject,d=this.isConsoleEnabled()||t.showSolution||this.state.hintsInView||t.exercise;return u&&d?(0,s.jsxs)(bt,{sizes:[60,40],expandToMin:!1,gutterSize:10,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",className:"flex flex-auto w-full",gutterStyle:function(){return{cursor:"col-resize",display:"flex","align-items":"center","justify-content":"center"}},gutter:mt.Vn,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex justify-end bg-gray-200",children:t.userDataActions&&!t.isAllHidden&&t.userDataActions}),(0,s.jsx)("div",{children:n})]}),(0,s.jsx)("div",{children:(0,s.jsx)(Ct,{toggleShowSolution:this.toggleShowSolution,solutionInView:this.state.solutionInView,hints:this.state.hints,hintsInView:this.state.hintsInView,onClickHintButton:this.onClickHintButton,keydownSaveHandler:this.keydownSaveHandler,isConsoleEnabled:this.isConsoleEnabled(),clearConsoleHistory:this.clearConsoleHistory,iframeLogs:this.state.iframeLogs,testExecResultHidden:c,testExecResult:i,testExecError:a,testExecInProgress:l,hideTestResults:this.hideTestResults,logWidgetInteraction:this.props.logWidgetInteraction,calculateFullHeight:this.calculateFullHeight,allProps:t})})]}):(0,s.jsxs)("div",{className:u?"w-full":"",children:[u&&(0,s.jsx)("div",{className:"flex justify-end bg-gray-200",children:t.userDataActions&&!t.isAllHidden&&t.userDataActions}),(0,s.jsxs)(C.ZP,{onKeyDown:this.keydownSaveHandler,children:[(0,s.jsxs)("div",{role:"none",children:[(0,s.jsx)("div",{children:n}),!r&&(0,s.jsxs)(C.qG,{children:[(0,s.jsxs)(C.lI,{children:[(!t.autoRun||t.exercise||t.userDataActions)&&[!t.autoRun&&(0,s.jsxs)("button",{className:"contained-primary m-2",onClick:this.handleOnRunClick,"aria-label":"run code",disabled:this.props.editingApiKeys,children:[(0,s.jsx)(ht.Z,{className:"self-center sm:hidden",size:24}),(0,s.jsx)("div",{className:"tailwind-hidden sm:flex",children:"Run"})]},"code_playground_run"),t.exercise&&(0,s.jsx)(ne.Z,{onClick:t.onJudgeClicked,executionDisabled:!1},"code_playground_exercise")],t.exercise&&this.state.hints&&this.state.hints.length>0&&(0,s.jsx)(C.aL,{onClick:this.onClickHintButton,children:this.state.hintsInView?"Hide Hint":"Need Hint?"}),t.showSolution&&(this.state.solutionInView?(0,s.jsx)(C.xd,{onClick:this.toggleShowSolution,iconButtonOnMobile:(0,s.jsx)(Y.Z,{size:24}),ariaLabel:"Hide Solution",children:"Hide Solution"}):(0,s.jsx)(G.Z,{popoverTitle:"Give it another shot?",id:"show solution ?",handleConfirm:this.toggleShowSolution,confirmButtonClass:"",cancelButtonClass:"",invertButtons:!0,confirmText:"No, just show the solution",cancelText:"Let me try",ref:function(t){e.confirmationTrigger=t},children:(0,s.jsx)(C.xd,{iconButtonOnMobile:(0,s.jsx)(Y.Z,{size:24}),ariaLabel:"Show Solution",children:"Show Solution"})}))]}),t.userDataActions&&!t.isAllHidden&&t.userDataActions]}),this.isConsoleEnabled()&&(0,s.jsx)(C.$Q,{children:(0,s.jsx)(pt.Z,{clearConsole:this.clearConsoleHistory,consoleLogs:this.state.iframeLogs})}),(0,s.jsx)(j.Z,{children:this.state.hintsInView&&(0,s.jsx)(m.Z,{classNames:"runnable",timeout:500,children:(0,s.jsx)(C.j2,{judgeHints:this.state.hints})})}),t.showSolution&&this.state.solutionInView&&(0,s.jsx)(Xe,xt(xt({},t),{},{solutionInView:this.state.solutionInView})),t.exercise&&!(c&&!i&&!a&&!l)&&(0,s.jsx)(dt,{testExecResult:i,testExecError:a,testExecInProgress:l,isResultHidden:c,onHideTestResults:this.hideTestResults,logWidgetInteraction:this.props.logWidgetInteraction})]}),(0,s.jsx)(O.Z,{caption:t.caption,readOnly:!0})]})]})}}]),n}(d.Component);(0,u.Z)(St,"defaultProps",{logWidgetInteraction:function(){return null},apiKeysToReplace:{},renderReplacementWrapper:function(){return null},vimMode:!1,editingApiKeys:!1,takeFullHeight:!1,externalRunClicked:!1});var Zt=St,wt=n(89135),Ot=n(63048);function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return(0,l.Z)(this,n)}}var Tt=(0,n(78854).$j)((function(e){var t=e.user;return{readerPreferences:t.readerPreferences,loggedOut:t.info.loggedOut}})),Ht=function(e){(0,a.Z)(n,e);var t=kt(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"componentRef",d.createRef()),(0,u.Z)((0,i.Z)(e),"saveComponent",(function(){var t,n,s,r;return null===(t=(0,i.Z)(e))||void 0===t||null===(n=t.componentRef)||void 0===n||null===(s=n.current)||void 0===s||null===(r=s.saveComponent)||void 0===r||r.call(s),null})),(0,u.Z)((0,i.Z)(e),"migrateContent",(function(t){var n,s,r,o,i;return null!==(n=t)&&void 0!==n&&n.version&&parseInt(t.version)<11&&(t=Ot.mergeDeepRight(wt.Z,t),e.props.updateContentState(Pt(Pt({},t),{},{version:"11"}))),(null!==(s=t)&&void 0!==s&&null!==(r=s.jotted)&&void 0!==r&&r.autoRun||null!==(o=t)&&void 0!==o&&null!==(i=o.jotted)&&void 0!==i&&i.runOnLoad)&&!1===e.props.readerPreferences.autoRun&&"edit"!==e.props.mode?(0,_.ZP)(t,(function(e){e.jotted.autoRun=!1,e.jotted.runOnLoad=!1})):t})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t="edit"!==e.mode,n=t?Zt:K,r=!1;return t&&e.config&&e.config.inEditor&&(r=!0),(0,s.jsx)(n,Pt(Pt({inView:this.props.inView,ref:this.componentRef},this.migrateContent(e.content)),{},{isDraft:e.isDraft,contentSnapshot:e.contentSnapshot,saveWidgetUserData:e.saveWidgetUserData,allowWidgetUserData:e.allowWidgetUserData,default_themes:e.default_themes,editorMarkerForViewMode:r,updateContentState:!t&&e.updateContentState,userId:e.userId,authorId:e.authorId,collectionId:e.collectionId,pageId:e.pageId,logWidgetInteraction:this.props.logWidgetInteraction,mode:e.mode,userThemes:e.userThemes,apiKeys:this.props.apiKeys,apiKeysToReplace:this.props.apiKeysToReplace,renderReplacementWrapper:this.props.renderReplacementWrapper,editingApiKeys:this.props.editingApiKeys,vimMode:e.vimMode,pageType:e.pageType,takeFullHeight:e.takeFullHeight,isUserLoggedOut:this.props.loggedOut}))}}],[{key:"getComponentDefault",value:function(){return wt.Z}}]),n}(d.Component);(0,u.Z)(Ht,"defaultProps",{apiKeys:[],apiKeysToReplace:{},renderReplacementWrapper:function(){return null},logWidgetInteraction:function(){return null},editingApiKeys:!1});var Dt=Tt(Ht)}}]);
//# sourceMappingURL=13389-9eaceb71187377fec252.js.map